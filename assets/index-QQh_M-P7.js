var dR=Object.defineProperty;var fR=(n,e,t)=>e in n?dR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Pe=(n,e,t)=>fR(n,typeof e!="symbol"?e+"":e,t);function pR(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var S0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function d5(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function mR(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var DA={exports:{}},xv={},RA={exports:{}},Dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pm=Symbol.for("react.element"),gR=Symbol.for("react.portal"),vR=Symbol.for("react.fragment"),yR=Symbol.for("react.strict_mode"),_R=Symbol.for("react.profiler"),wR=Symbol.for("react.provider"),bR=Symbol.for("react.context"),xR=Symbol.for("react.forward_ref"),SR=Symbol.for("react.suspense"),ER=Symbol.for("react.memo"),kR=Symbol.for("react.lazy"),xS=Symbol.iterator;function AR(n){return n===null||typeof n!="object"?null:(n=xS&&n[xS]||n["@@iterator"],typeof n=="function"?n:null)}var LA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},MA=Object.assign,OA={};function $d(n,e,t){this.props=n,this.context=e,this.refs=OA,this.updater=t||LA}$d.prototype.isReactComponent={};$d.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};$d.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function FA(){}FA.prototype=$d.prototype;function f5(n,e,t){this.props=n,this.context=e,this.refs=OA,this.updater=t||LA}var p5=f5.prototype=new FA;p5.constructor=f5;MA(p5,$d.prototype);p5.isPureReactComponent=!0;var SS=Array.isArray,jA=Object.prototype.hasOwnProperty,m5={current:null},VA={key:!0,ref:!0,__self:!0,__source:!0};function BA(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)jA.call(e,r)&&!VA.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Pm,type:n,key:s,ref:o,props:i,_owner:m5.current}}function PR(n,e){return{$$typeof:Pm,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function g5(n){return typeof n=="object"&&n!==null&&n.$$typeof===Pm}function TR(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var ES=/\/+/g;function $y(n,e){return typeof n=="object"&&n!==null&&n.key!=null?TR(""+n.key):e.toString(36)}function E0(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Pm:case gR:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+$y(o,0):r,SS(i)?(t="",n!=null&&(t=n.replace(ES,"$&/")+"/"),E0(i,e,t,"",function(c){return c})):i!=null&&(g5(i)&&(i=PR(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ES,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",SS(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+$y(s,a);o+=E0(s,e,t,l,i)}else if(l=AR(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+$y(s,a++),o+=E0(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function kg(n,e,t){if(n==null)return n;var r=[],i=0;return E0(n,r,"","",function(s){return e.call(t,s,i++)}),r}function CR(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Ei={current:null},k0={transition:null},NR={ReactCurrentDispatcher:Ei,ReactCurrentBatchConfig:k0,ReactCurrentOwner:m5};function UA(){throw Error("act(...) is not supported in production builds of React.")}Dt.Children={map:kg,forEach:function(n,e,t){kg(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return kg(n,function(){e++}),e},toArray:function(n){return kg(n,function(e){return e})||[]},only:function(n){if(!g5(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Dt.Component=$d;Dt.Fragment=vR;Dt.Profiler=_R;Dt.PureComponent=f5;Dt.StrictMode=yR;Dt.Suspense=SR;Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NR;Dt.act=UA;Dt.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=MA({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=m5.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)jA.call(e,l)&&!VA.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Pm,type:n.type,key:i,ref:s,props:r,_owner:o}};Dt.createContext=function(n){return n={$$typeof:bR,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:wR,_context:n},n.Consumer=n};Dt.createElement=BA;Dt.createFactory=function(n){var e=BA.bind(null,n);return e.type=n,e};Dt.createRef=function(){return{current:null}};Dt.forwardRef=function(n){return{$$typeof:xR,render:n}};Dt.isValidElement=g5;Dt.lazy=function(n){return{$$typeof:kR,_payload:{_status:-1,_result:n},_init:CR}};Dt.memo=function(n,e){return{$$typeof:ER,type:n,compare:e===void 0?null:e}};Dt.startTransition=function(n){var e=k0.transition;k0.transition={};try{n()}finally{k0.transition=e}};Dt.unstable_act=UA;Dt.useCallback=function(n,e){return Ei.current.useCallback(n,e)};Dt.useContext=function(n){return Ei.current.useContext(n)};Dt.useDebugValue=function(){};Dt.useDeferredValue=function(n){return Ei.current.useDeferredValue(n)};Dt.useEffect=function(n,e){return Ei.current.useEffect(n,e)};Dt.useId=function(){return Ei.current.useId()};Dt.useImperativeHandle=function(n,e,t){return Ei.current.useImperativeHandle(n,e,t)};Dt.useInsertionEffect=function(n,e){return Ei.current.useInsertionEffect(n,e)};Dt.useLayoutEffect=function(n,e){return Ei.current.useLayoutEffect(n,e)};Dt.useMemo=function(n,e){return Ei.current.useMemo(n,e)};Dt.useReducer=function(n,e,t){return Ei.current.useReducer(n,e,t)};Dt.useRef=function(n){return Ei.current.useRef(n)};Dt.useState=function(n){return Ei.current.useState(n)};Dt.useSyncExternalStore=function(n,e,t){return Ei.current.useSyncExternalStore(n,e,t)};Dt.useTransition=function(){return Ei.current.useTransition()};Dt.version="18.3.1";RA.exports=Dt;var ee=RA.exports;const Ae=d5(ee),v5=pR({__proto__:null,default:Ae},[ee]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IR=ee,DR=Symbol.for("react.element"),RR=Symbol.for("react.fragment"),LR=Object.prototype.hasOwnProperty,MR=IR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,OR={key:!0,ref:!0,__self:!0,__source:!0};function zA(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)LR.call(e,r)&&!OR.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:DR,type:n,key:s,ref:o,props:i,_owner:MR.current}}xv.Fragment=RR;xv.jsx=zA;xv.jsxs=zA;DA.exports=xv;var T=DA.exports,u_={},WA={exports:{}},as={},HA={exports:{}},qA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(W,H){var oe=W.length;W.push(H);e:for(;0<oe;){var le=oe-1>>>1,j=W[le];if(0<i(j,H))W[le]=H,W[oe]=j,oe=le;else break e}}function t(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var H=W[0],oe=W.pop();if(oe!==H){W[0]=oe;e:for(var le=0,j=W.length,z=j>>>1;le<z;){var Z=2*(le+1)-1,ne=W[Z],se=Z+1,fe=W[se];if(0>i(ne,oe))se<j&&0>i(fe,ne)?(W[le]=fe,W[se]=oe,le=se):(W[le]=ne,W[Z]=oe,le=Z);else if(se<j&&0>i(fe,oe))W[le]=fe,W[se]=oe,le=se;else break e}}return H}function i(W,H){var oe=W.sortIndex-H.sortIndex;return oe!==0?oe:W.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,d=3,f=!1,g=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(W){for(var H=t(c);H!==null;){if(H.callback===null)r(c);else if(H.startTime<=W)r(c),H.sortIndex=H.expirationTime,e(l,H);else break;H=t(c)}}function R(W){if(w=!1,E(W),!g)if(t(l)!==null)g=!0,K(O);else{var H=t(c);H!==null&&q(R,H.startTime-W)}}function O(W,H){g=!1,w&&(w=!1,_(y),y=-1),f=!0;var oe=d;try{for(E(H),h=t(l);h!==null&&(!(h.expirationTime>H)||W&&!k());){var le=h.callback;if(typeof le=="function"){h.callback=null,d=h.priorityLevel;var j=le(h.expirationTime<=H);H=n.unstable_now(),typeof j=="function"?h.callback=j:h===t(l)&&r(l),E(H)}else r(l);h=t(l)}if(h!==null)var z=!0;else{var Z=t(c);Z!==null&&q(R,Z.startTime-H),z=!1}return z}finally{h=null,d=oe,f=!1}}var V=!1,C=null,y=-1,S=5,I=-1;function k(){return!(n.unstable_now()-I<S)}function P(){if(C!==null){var W=n.unstable_now();I=W;var H=!0;try{H=C(!0,W)}finally{H?L():(V=!1,C=null)}}else V=!1}var L;if(typeof b=="function")L=function(){b(P)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,te=$.port2;$.port1.onmessage=P,L=function(){te.postMessage(null)}}else L=function(){x(P,0)};function K(W){C=W,V||(V=!0,L())}function q(W,H){y=x(function(){W(n.unstable_now())},H)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_continueExecution=function(){g||f||(g=!0,K(O))},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(W){switch(d){case 1:case 2:case 3:var H=3;break;default:H=d}var oe=d;d=H;try{return W()}finally{d=oe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(W,H){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var oe=d;d=W;try{return H()}finally{d=oe}},n.unstable_scheduleCallback=function(W,H,oe){var le=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?le+oe:le):oe=le,W){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=oe+j,W={id:u++,callback:H,priorityLevel:W,startTime:oe,expirationTime:j,sortIndex:-1},oe>le?(W.sortIndex=oe,e(c,W),t(l)===null&&W===t(c)&&(w?(_(y),y=-1):w=!0,q(R,oe-le))):(W.sortIndex=j,e(l,W),g||f||(g=!0,K(O))),W},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(W){var H=d;return function(){var oe=d;d=H;try{return W.apply(this,arguments)}finally{d=oe}}}})(qA);HA.exports=qA;var FR=HA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jR=ee,os=FR;function Ue(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $A=new Set,Fp={};function rh(n,e){Sd(n,e),Sd(n+"Capture",e)}function Sd(n,e){for(Fp[n]=e,n=0;n<e.length;n++)$A.add(e[n])}var Wa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h_=Object.prototype.hasOwnProperty,VR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kS={},AS={};function BR(n){return h_.call(AS,n)?!0:h_.call(kS,n)?!1:VR.test(n)?AS[n]=!0:(kS[n]=!0,!1)}function UR(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function zR(n,e,t,r){if(e===null||typeof e>"u"||UR(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ki(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Wr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Wr[n]=new ki(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Wr[e]=new ki(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Wr[n]=new ki(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Wr[n]=new ki(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Wr[n]=new ki(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Wr[n]=new ki(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Wr[n]=new ki(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Wr[n]=new ki(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Wr[n]=new ki(n,5,!1,n.toLowerCase(),null,!1,!1)});var y5=/[\-:]([a-z])/g;function _5(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(y5,_5);Wr[e]=new ki(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(y5,_5);Wr[e]=new ki(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(y5,_5);Wr[e]=new ki(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Wr[n]=new ki(n,1,!1,n.toLowerCase(),null,!1,!1)});Wr.xlinkHref=new ki("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Wr[n]=new ki(n,1,!1,n.toLowerCase(),null,!0,!0)});function w5(n,e,t,r){var i=Wr.hasOwnProperty(e)?Wr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(zR(e,t,i,r)&&(t=null),r||i===null?BR(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var el=jR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ag=Symbol.for("react.element"),Kh=Symbol.for("react.portal"),Qh=Symbol.for("react.fragment"),b5=Symbol.for("react.strict_mode"),d_=Symbol.for("react.profiler"),YA=Symbol.for("react.provider"),GA=Symbol.for("react.context"),x5=Symbol.for("react.forward_ref"),f_=Symbol.for("react.suspense"),p_=Symbol.for("react.suspense_list"),S5=Symbol.for("react.memo"),Vl=Symbol.for("react.lazy"),KA=Symbol.for("react.offscreen"),PS=Symbol.iterator;function Tf(n){return n===null||typeof n!="object"?null:(n=PS&&n[PS]||n["@@iterator"],typeof n=="function"?n:null)}var Fn=Object.assign,Yy;function Gf(n){if(Yy===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Yy=e&&e[1]||""}return`
`+Yy+n}var Gy=!1;function Ky(n,e){if(!n||Gy)return"";Gy=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{Gy=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Gf(n):""}function WR(n){switch(n.tag){case 5:return Gf(n.type);case 16:return Gf("Lazy");case 13:return Gf("Suspense");case 19:return Gf("SuspenseList");case 0:case 2:case 15:return n=Ky(n.type,!1),n;case 11:return n=Ky(n.type.render,!1),n;case 1:return n=Ky(n.type,!0),n;default:return""}}function m_(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Qh:return"Fragment";case Kh:return"Portal";case d_:return"Profiler";case b5:return"StrictMode";case f_:return"Suspense";case p_:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case GA:return(n.displayName||"Context")+".Consumer";case YA:return(n._context.displayName||"Context")+".Provider";case x5:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case S5:return e=n.displayName||null,e!==null?e:m_(n.type)||"Memo";case Vl:e=n._payload,n=n._init;try{return m_(n(e))}catch{}}return null}function HR(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return m_(e);case 8:return e===b5?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Sc(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function QA(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function qR(n){var e=QA(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Pg(n){n._valueTracker||(n._valueTracker=qR(n))}function XA(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=QA(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function i1(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function g_(n,e){var t=e.checked;return Fn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function TS(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Sc(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function JA(n,e){e=e.checked,e!=null&&w5(n,"checked",e,!1)}function v_(n,e){JA(n,e);var t=Sc(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?y_(n,e.type,t):e.hasOwnProperty("defaultValue")&&y_(n,e.type,Sc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function CS(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function y_(n,e,t){(e!=="number"||i1(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Kf=Array.isArray;function cd(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Sc(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function __(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ue(91));return Fn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function NS(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Ue(92));if(Kf(t)){if(1<t.length)throw Error(Ue(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Sc(t)}}function ZA(n,e){var t=Sc(e.value),r=Sc(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function IS(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function eP(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function w_(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?eP(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Tg,tP=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Tg=Tg||document.createElement("div"),Tg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Tg.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function jp(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var hp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$R=["Webkit","ms","Moz","O"];Object.keys(hp).forEach(function(n){$R.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),hp[e]=hp[n]})});function nP(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||hp.hasOwnProperty(n)&&hp[n]?(""+e).trim():e+"px"}function rP(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=nP(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var YR=Fn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function b_(n,e){if(e){if(YR[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ue(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ue(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ue(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ue(62))}}function x_(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var S_=null;function E5(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var E_=null,ud=null,hd=null;function DS(n){if(n=Nm(n)){if(typeof E_!="function")throw Error(Ue(280));var e=n.stateNode;e&&(e=Pv(e),E_(n.stateNode,n.type,e))}}function iP(n){ud?hd?hd.push(n):hd=[n]:ud=n}function sP(){if(ud){var n=ud,e=hd;if(hd=ud=null,DS(n),e)for(n=0;n<e.length;n++)DS(e[n])}}function oP(n,e){return n(e)}function aP(){}var Qy=!1;function lP(n,e,t){if(Qy)return n(e,t);Qy=!0;try{return oP(n,e,t)}finally{Qy=!1,(ud!==null||hd!==null)&&(aP(),sP())}}function Vp(n,e){var t=n.stateNode;if(t===null)return null;var r=Pv(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Ue(231,e,typeof t));return t}var k_=!1;if(Wa)try{var Cf={};Object.defineProperty(Cf,"passive",{get:function(){k_=!0}}),window.addEventListener("test",Cf,Cf),window.removeEventListener("test",Cf,Cf)}catch{k_=!1}function GR(n,e,t,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var dp=!1,s1=null,o1=!1,A_=null,KR={onError:function(n){dp=!0,s1=n}};function QR(n,e,t,r,i,s,o,a,l){dp=!1,s1=null,GR.apply(KR,arguments)}function XR(n,e,t,r,i,s,o,a,l){if(QR.apply(this,arguments),dp){if(dp){var c=s1;dp=!1,s1=null}else throw Error(Ue(198));o1||(o1=!0,A_=c)}}function ih(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function cP(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function RS(n){if(ih(n)!==n)throw Error(Ue(188))}function JR(n){var e=n.alternate;if(!e){if(e=ih(n),e===null)throw Error(Ue(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return RS(i),n;if(s===r)return RS(i),e;s=s.sibling}throw Error(Ue(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(Ue(189))}}if(t.alternate!==r)throw Error(Ue(190))}if(t.tag!==3)throw Error(Ue(188));return t.stateNode.current===t?n:e}function uP(n){return n=JR(n),n!==null?hP(n):null}function hP(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=hP(n);if(e!==null)return e;n=n.sibling}return null}var dP=os.unstable_scheduleCallback,LS=os.unstable_cancelCallback,ZR=os.unstable_shouldYield,eL=os.unstable_requestPaint,Zn=os.unstable_now,tL=os.unstable_getCurrentPriorityLevel,k5=os.unstable_ImmediatePriority,fP=os.unstable_UserBlockingPriority,a1=os.unstable_NormalPriority,nL=os.unstable_LowPriority,pP=os.unstable_IdlePriority,Sv=null,jo=null;function rL(n){if(jo&&typeof jo.onCommitFiberRoot=="function")try{jo.onCommitFiberRoot(Sv,n,void 0,(n.current.flags&128)===128)}catch{}}var Zs=Math.clz32?Math.clz32:oL,iL=Math.log,sL=Math.LN2;function oL(n){return n>>>=0,n===0?32:31-(iL(n)/sL|0)|0}var Cg=64,Ng=4194304;function Qf(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function l1(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=Qf(a):(s&=o,s!==0&&(r=Qf(s)))}else o=t&~i,o!==0?r=Qf(o):s!==0&&(r=Qf(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Zs(e),i=1<<t,r|=n[t],e&=~i;return r}function aL(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lL(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Zs(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=aL(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function P_(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function mP(){var n=Cg;return Cg<<=1,!(Cg&4194240)&&(Cg=64),n}function Xy(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Tm(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Zs(e),n[e]=t}function cL(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-Zs(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function A5(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Zs(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var un=0;function gP(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var vP,P5,yP,_P,wP,T_=!1,Ig=[],sc=null,oc=null,ac=null,Bp=new Map,Up=new Map,Ul=[],uL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function MS(n,e){switch(n){case"focusin":case"focusout":sc=null;break;case"dragenter":case"dragleave":oc=null;break;case"mouseover":case"mouseout":ac=null;break;case"pointerover":case"pointerout":Bp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Up.delete(e.pointerId)}}function Nf(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Nm(e),e!==null&&P5(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function hL(n,e,t,r,i){switch(e){case"focusin":return sc=Nf(sc,n,e,t,r,i),!0;case"dragenter":return oc=Nf(oc,n,e,t,r,i),!0;case"mouseover":return ac=Nf(ac,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return Bp.set(s,Nf(Bp.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Up.set(s,Nf(Up.get(s)||null,n,e,t,r,i)),!0}return!1}function bP(n){var e=_u(n.target);if(e!==null){var t=ih(e);if(t!==null){if(e=t.tag,e===13){if(e=cP(t),e!==null){n.blockedOn=e,wP(n.priority,function(){yP(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function A0(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=C_(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);S_=r,t.target.dispatchEvent(r),S_=null}else return e=Nm(t),e!==null&&P5(e),n.blockedOn=t,!1;e.shift()}return!0}function OS(n,e,t){A0(n)&&t.delete(e)}function dL(){T_=!1,sc!==null&&A0(sc)&&(sc=null),oc!==null&&A0(oc)&&(oc=null),ac!==null&&A0(ac)&&(ac=null),Bp.forEach(OS),Up.forEach(OS)}function If(n,e){n.blockedOn===e&&(n.blockedOn=null,T_||(T_=!0,os.unstable_scheduleCallback(os.unstable_NormalPriority,dL)))}function zp(n){function e(i){return If(i,n)}if(0<Ig.length){If(Ig[0],n);for(var t=1;t<Ig.length;t++){var r=Ig[t];r.blockedOn===n&&(r.blockedOn=null)}}for(sc!==null&&If(sc,n),oc!==null&&If(oc,n),ac!==null&&If(ac,n),Bp.forEach(e),Up.forEach(e),t=0;t<Ul.length;t++)r=Ul[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<Ul.length&&(t=Ul[0],t.blockedOn===null);)bP(t),t.blockedOn===null&&Ul.shift()}var dd=el.ReactCurrentBatchConfig,c1=!0;function fL(n,e,t,r){var i=un,s=dd.transition;dd.transition=null;try{un=1,T5(n,e,t,r)}finally{un=i,dd.transition=s}}function pL(n,e,t,r){var i=un,s=dd.transition;dd.transition=null;try{un=4,T5(n,e,t,r)}finally{un=i,dd.transition=s}}function T5(n,e,t,r){if(c1){var i=C_(n,e,t,r);if(i===null)a2(n,e,r,u1,t),MS(n,r);else if(hL(i,n,e,t,r))r.stopPropagation();else if(MS(n,r),e&4&&-1<uL.indexOf(n)){for(;i!==null;){var s=Nm(i);if(s!==null&&vP(s),s=C_(n,e,t,r),s===null&&a2(n,e,r,u1,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else a2(n,e,r,null,t)}}var u1=null;function C_(n,e,t,r){if(u1=null,n=E5(r),n=_u(n),n!==null)if(e=ih(n),e===null)n=null;else if(t=e.tag,t===13){if(n=cP(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return u1=n,null}function xP(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tL()){case k5:return 1;case fP:return 4;case a1:case nL:return 16;case pP:return 536870912;default:return 16}default:return 16}}var Ql=null,C5=null,P0=null;function SP(){if(P0)return P0;var n,e=C5,t=e.length,r,i="value"in Ql?Ql.value:Ql.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return P0=i.slice(n,1<r?1-r:void 0)}function T0(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Dg(){return!0}function FS(){return!1}function ls(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Dg:FS,this.isPropagationStopped=FS,this}return Fn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Dg)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Dg)},persist:function(){},isPersistent:Dg}),e}var Yd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},N5=ls(Yd),Cm=Fn({},Yd,{view:0,detail:0}),mL=ls(Cm),Jy,Zy,Df,Ev=Fn({},Cm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:I5,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Df&&(Df&&n.type==="mousemove"?(Jy=n.screenX-Df.screenX,Zy=n.screenY-Df.screenY):Zy=Jy=0,Df=n),Jy)},movementY:function(n){return"movementY"in n?n.movementY:Zy}}),jS=ls(Ev),gL=Fn({},Ev,{dataTransfer:0}),vL=ls(gL),yL=Fn({},Cm,{relatedTarget:0}),e2=ls(yL),_L=Fn({},Yd,{animationName:0,elapsedTime:0,pseudoElement:0}),wL=ls(_L),bL=Fn({},Yd,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),xL=ls(bL),SL=Fn({},Yd,{data:0}),VS=ls(SL),EL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PL(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=AL[n])?!!e[n]:!1}function I5(){return PL}var TL=Fn({},Cm,{key:function(n){if(n.key){var e=EL[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=T0(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?kL[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:I5,charCode:function(n){return n.type==="keypress"?T0(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?T0(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),CL=ls(TL),NL=Fn({},Ev,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),BS=ls(NL),IL=Fn({},Cm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:I5}),DL=ls(IL),RL=Fn({},Yd,{propertyName:0,elapsedTime:0,pseudoElement:0}),LL=ls(RL),ML=Fn({},Ev,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),OL=ls(ML),FL=[9,13,27,32],D5=Wa&&"CompositionEvent"in window,fp=null;Wa&&"documentMode"in document&&(fp=document.documentMode);var jL=Wa&&"TextEvent"in window&&!fp,EP=Wa&&(!D5||fp&&8<fp&&11>=fp),US=" ",zS=!1;function kP(n,e){switch(n){case"keyup":return FL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function AP(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Xh=!1;function VL(n,e){switch(n){case"compositionend":return AP(e);case"keypress":return e.which!==32?null:(zS=!0,US);case"textInput":return n=e.data,n===US&&zS?null:n;default:return null}}function BL(n,e){if(Xh)return n==="compositionend"||!D5&&kP(n,e)?(n=SP(),P0=C5=Ql=null,Xh=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return EP&&e.locale!=="ko"?null:e.data;default:return null}}var UL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function WS(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!UL[n.type]:e==="textarea"}function PP(n,e,t,r){iP(r),e=h1(e,"onChange"),0<e.length&&(t=new N5("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var pp=null,Wp=null;function zL(n){jP(n,0)}function kv(n){var e=ed(n);if(XA(e))return n}function WL(n,e){if(n==="change")return e}var TP=!1;if(Wa){var t2;if(Wa){var n2="oninput"in document;if(!n2){var HS=document.createElement("div");HS.setAttribute("oninput","return;"),n2=typeof HS.oninput=="function"}t2=n2}else t2=!1;TP=t2&&(!document.documentMode||9<document.documentMode)}function qS(){pp&&(pp.detachEvent("onpropertychange",CP),Wp=pp=null)}function CP(n){if(n.propertyName==="value"&&kv(Wp)){var e=[];PP(e,Wp,n,E5(n)),lP(zL,e)}}function HL(n,e,t){n==="focusin"?(qS(),pp=e,Wp=t,pp.attachEvent("onpropertychange",CP)):n==="focusout"&&qS()}function qL(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return kv(Wp)}function $L(n,e){if(n==="click")return kv(e)}function YL(n,e){if(n==="input"||n==="change")return kv(e)}function GL(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var no=typeof Object.is=="function"?Object.is:GL;function Hp(n,e){if(no(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!h_.call(e,i)||!no(n[i],e[i]))return!1}return!0}function $S(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function YS(n,e){var t=$S(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=$S(t)}}function NP(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?NP(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function IP(){for(var n=window,e=i1();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=i1(n.document)}return e}function R5(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function KL(n){var e=IP(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&NP(t.ownerDocument.documentElement,t)){if(r!==null&&R5(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=YS(t,s);var o=YS(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var QL=Wa&&"documentMode"in document&&11>=document.documentMode,Jh=null,N_=null,mp=null,I_=!1;function GS(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;I_||Jh==null||Jh!==i1(r)||(r=Jh,"selectionStart"in r&&R5(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),mp&&Hp(mp,r)||(mp=r,r=h1(N_,"onSelect"),0<r.length&&(e=new N5("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Jh)))}function Rg(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Zh={animationend:Rg("Animation","AnimationEnd"),animationiteration:Rg("Animation","AnimationIteration"),animationstart:Rg("Animation","AnimationStart"),transitionend:Rg("Transition","TransitionEnd")},r2={},DP={};Wa&&(DP=document.createElement("div").style,"AnimationEvent"in window||(delete Zh.animationend.animation,delete Zh.animationiteration.animation,delete Zh.animationstart.animation),"TransitionEvent"in window||delete Zh.transitionend.transition);function Av(n){if(r2[n])return r2[n];if(!Zh[n])return n;var e=Zh[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in DP)return r2[n]=e[t];return n}var RP=Av("animationend"),LP=Av("animationiteration"),MP=Av("animationstart"),OP=Av("transitionend"),FP=new Map,KS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lc(n,e){FP.set(n,e),rh(e,[n])}for(var i2=0;i2<KS.length;i2++){var s2=KS[i2],XL=s2.toLowerCase(),JL=s2[0].toUpperCase()+s2.slice(1);Lc(XL,"on"+JL)}Lc(RP,"onAnimationEnd");Lc(LP,"onAnimationIteration");Lc(MP,"onAnimationStart");Lc("dblclick","onDoubleClick");Lc("focusin","onFocus");Lc("focusout","onBlur");Lc(OP,"onTransitionEnd");Sd("onMouseEnter",["mouseout","mouseover"]);Sd("onMouseLeave",["mouseout","mouseover"]);Sd("onPointerEnter",["pointerout","pointerover"]);Sd("onPointerLeave",["pointerout","pointerover"]);rh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));rh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));rh("onBeforeInput",["compositionend","keypress","textInput","paste"]);rh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));rh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));rh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZL=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xf));function QS(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,XR(r,e,void 0,n),n.currentTarget=null}function jP(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;QS(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;QS(i,a,c),s=l}}}if(o1)throw n=A_,o1=!1,A_=null,n}function Pn(n,e){var t=e[O_];t===void 0&&(t=e[O_]=new Set);var r=n+"__bubble";t.has(r)||(VP(e,n,2,!1),t.add(r))}function o2(n,e,t){var r=0;e&&(r|=4),VP(t,n,r,e)}var Lg="_reactListening"+Math.random().toString(36).slice(2);function qp(n){if(!n[Lg]){n[Lg]=!0,$A.forEach(function(t){t!=="selectionchange"&&(ZL.has(t)||o2(t,!1,n),o2(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Lg]||(e[Lg]=!0,o2("selectionchange",!1,e))}}function VP(n,e,t,r){switch(xP(e)){case 1:var i=fL;break;case 4:i=pL;break;default:i=T5}t=i.bind(null,e,t,n),i=void 0,!k_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function a2(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=_u(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}lP(function(){var c=s,u=E5(t),h=[];e:{var d=FP.get(n);if(d!==void 0){var f=N5,g=n;switch(n){case"keypress":if(T0(t)===0)break e;case"keydown":case"keyup":f=CL;break;case"focusin":g="focus",f=e2;break;case"focusout":g="blur",f=e2;break;case"beforeblur":case"afterblur":f=e2;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=jS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=vL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=DL;break;case RP:case LP:case MP:f=wL;break;case OP:f=LL;break;case"scroll":f=mL;break;case"wheel":f=OL;break;case"copy":case"cut":case"paste":f=xL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=BS}var w=(e&4)!==0,x=!w&&n==="scroll",_=w?d!==null?d+"Capture":null:d;w=[];for(var b=c,E;b!==null;){E=b;var R=E.stateNode;if(E.tag===5&&R!==null&&(E=R,_!==null&&(R=Vp(b,_),R!=null&&w.push($p(b,R,E)))),x)break;b=b.return}0<w.length&&(d=new f(d,g,null,t,u),h.push({event:d,listeners:w}))}}if(!(e&7)){e:{if(d=n==="mouseover"||n==="pointerover",f=n==="mouseout"||n==="pointerout",d&&t!==S_&&(g=t.relatedTarget||t.fromElement)&&(_u(g)||g[Ha]))break e;if((f||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,f?(g=t.relatedTarget||t.toElement,f=c,g=g?_u(g):null,g!==null&&(x=ih(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=c),f!==g)){if(w=jS,R="onMouseLeave",_="onMouseEnter",b="mouse",(n==="pointerout"||n==="pointerover")&&(w=BS,R="onPointerLeave",_="onPointerEnter",b="pointer"),x=f==null?d:ed(f),E=g==null?d:ed(g),d=new w(R,b+"leave",f,t,u),d.target=x,d.relatedTarget=E,R=null,_u(u)===c&&(w=new w(_,b+"enter",g,t,u),w.target=E,w.relatedTarget=x,R=w),x=R,f&&g)t:{for(w=f,_=g,b=0,E=w;E;E=Fh(E))b++;for(E=0,R=_;R;R=Fh(R))E++;for(;0<b-E;)w=Fh(w),b--;for(;0<E-b;)_=Fh(_),E--;for(;b--;){if(w===_||_!==null&&w===_.alternate)break t;w=Fh(w),_=Fh(_)}w=null}else w=null;f!==null&&XS(h,d,f,w,!1),g!==null&&x!==null&&XS(h,x,g,w,!0)}}e:{if(d=c?ed(c):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var O=WL;else if(WS(d))if(TP)O=YL;else{O=qL;var V=HL}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(O=$L);if(O&&(O=O(n,c))){PP(h,O,t,u);break e}V&&V(n,d,c),n==="focusout"&&(V=d._wrapperState)&&V.controlled&&d.type==="number"&&y_(d,"number",d.value)}switch(V=c?ed(c):window,n){case"focusin":(WS(V)||V.contentEditable==="true")&&(Jh=V,N_=c,mp=null);break;case"focusout":mp=N_=Jh=null;break;case"mousedown":I_=!0;break;case"contextmenu":case"mouseup":case"dragend":I_=!1,GS(h,t,u);break;case"selectionchange":if(QL)break;case"keydown":case"keyup":GS(h,t,u)}var C;if(D5)e:{switch(n){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Xh?kP(n,t)&&(y="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(y="onCompositionStart");y&&(EP&&t.locale!=="ko"&&(Xh||y!=="onCompositionStart"?y==="onCompositionEnd"&&Xh&&(C=SP()):(Ql=u,C5="value"in Ql?Ql.value:Ql.textContent,Xh=!0)),V=h1(c,y),0<V.length&&(y=new VS(y,n,null,t,u),h.push({event:y,listeners:V}),C?y.data=C:(C=AP(t),C!==null&&(y.data=C)))),(C=jL?VL(n,t):BL(n,t))&&(c=h1(c,"onBeforeInput"),0<c.length&&(u=new VS("onBeforeInput","beforeinput",null,t,u),h.push({event:u,listeners:c}),u.data=C))}jP(h,e)})}function $p(n,e,t){return{instance:n,listener:e,currentTarget:t}}function h1(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Vp(n,t),s!=null&&r.unshift($p(n,s,i)),s=Vp(n,e),s!=null&&r.push($p(n,s,i))),n=n.return}return r}function Fh(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function XS(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Vp(t,s),l!=null&&o.unshift($p(t,l,a))):i||(l=Vp(t,s),l!=null&&o.push($p(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var eM=/\r\n?/g,tM=/\u0000|\uFFFD/g;function JS(n){return(typeof n=="string"?n:""+n).replace(eM,`
`).replace(tM,"")}function Mg(n,e,t){if(e=JS(e),JS(n)!==e&&t)throw Error(Ue(425))}function d1(){}var D_=null,R_=null;function L_(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var M_=typeof setTimeout=="function"?setTimeout:void 0,nM=typeof clearTimeout=="function"?clearTimeout:void 0,ZS=typeof Promise=="function"?Promise:void 0,rM=typeof queueMicrotask=="function"?queueMicrotask:typeof ZS<"u"?function(n){return ZS.resolve(null).then(n).catch(iM)}:M_;function iM(n){setTimeout(function(){throw n})}function l2(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),zp(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);zp(e)}function lc(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function e4(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Gd=Math.random().toString(36).slice(2),Do="__reactFiber$"+Gd,Yp="__reactProps$"+Gd,Ha="__reactContainer$"+Gd,O_="__reactEvents$"+Gd,sM="__reactListeners$"+Gd,oM="__reactHandles$"+Gd;function _u(n){var e=n[Do];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Ha]||t[Do]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=e4(n);n!==null;){if(t=n[Do])return t;n=e4(n)}return e}n=t,t=n.parentNode}return null}function Nm(n){return n=n[Do]||n[Ha],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function ed(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Ue(33))}function Pv(n){return n[Yp]||null}var F_=[],td=-1;function Mc(n){return{current:n}}function Nn(n){0>td||(n.current=F_[td],F_[td]=null,td--)}function Sn(n,e){td++,F_[td]=n.current,n.current=e}var Ec={},ui=Mc(Ec),Vi=Mc(!1),zu=Ec;function Ed(n,e){var t=n.type.contextTypes;if(!t)return Ec;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function Bi(n){return n=n.childContextTypes,n!=null}function f1(){Nn(Vi),Nn(ui)}function t4(n,e,t){if(ui.current!==Ec)throw Error(Ue(168));Sn(ui,e),Sn(Vi,t)}function BP(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ue(108,HR(n)||"Unknown",i));return Fn({},t,r)}function p1(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ec,zu=ui.current,Sn(ui,n),Sn(Vi,Vi.current),!0}function n4(n,e,t){var r=n.stateNode;if(!r)throw Error(Ue(169));t?(n=BP(n,e,zu),r.__reactInternalMemoizedMergedChildContext=n,Nn(Vi),Nn(ui),Sn(ui,n)):Nn(Vi),Sn(Vi,t)}var Ta=null,Tv=!1,c2=!1;function UP(n){Ta===null?Ta=[n]:Ta.push(n)}function aM(n){Tv=!0,UP(n)}function Oc(){if(!c2&&Ta!==null){c2=!0;var n=0,e=un;try{var t=Ta;for(un=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}Ta=null,Tv=!1}catch(i){throw Ta!==null&&(Ta=Ta.slice(n+1)),dP(k5,Oc),i}finally{un=e,c2=!1}}return null}var nd=[],rd=0,m1=null,g1=0,xs=[],Ss=0,Wu=null,Na=1,Ia="";function du(n,e){nd[rd++]=g1,nd[rd++]=m1,m1=n,g1=e}function zP(n,e,t){xs[Ss++]=Na,xs[Ss++]=Ia,xs[Ss++]=Wu,Wu=n;var r=Na;n=Ia;var i=32-Zs(r)-1;r&=~(1<<i),t+=1;var s=32-Zs(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Na=1<<32-Zs(e)+i|t<<i|r,Ia=s+n}else Na=1<<s|t<<i|r,Ia=n}function L5(n){n.return!==null&&(du(n,1),zP(n,1,0))}function M5(n){for(;n===m1;)m1=nd[--rd],nd[rd]=null,g1=nd[--rd],nd[rd]=null;for(;n===Wu;)Wu=xs[--Ss],xs[Ss]=null,Ia=xs[--Ss],xs[Ss]=null,Na=xs[--Ss],xs[Ss]=null}var rs=null,es=null,In=!1,Xs=null;function WP(n,e){var t=ks(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function r4(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,rs=n,es=lc(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,rs=n,es=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Wu!==null?{id:Na,overflow:Ia}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=ks(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,rs=n,es=null,!0):!1;default:return!1}}function j_(n){return(n.mode&1)!==0&&(n.flags&128)===0}function V_(n){if(In){var e=es;if(e){var t=e;if(!r4(n,e)){if(j_(n))throw Error(Ue(418));e=lc(t.nextSibling);var r=rs;e&&r4(n,e)?WP(r,t):(n.flags=n.flags&-4097|2,In=!1,rs=n)}}else{if(j_(n))throw Error(Ue(418));n.flags=n.flags&-4097|2,In=!1,rs=n}}}function i4(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;rs=n}function Og(n){if(n!==rs)return!1;if(!In)return i4(n),In=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!L_(n.type,n.memoizedProps)),e&&(e=es)){if(j_(n))throw HP(),Error(Ue(418));for(;e;)WP(n,e),e=lc(e.nextSibling)}if(i4(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Ue(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){es=lc(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}es=null}}else es=rs?lc(n.stateNode.nextSibling):null;return!0}function HP(){for(var n=es;n;)n=lc(n.nextSibling)}function kd(){es=rs=null,In=!1}function O5(n){Xs===null?Xs=[n]:Xs.push(n)}var lM=el.ReactCurrentBatchConfig;function Rf(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Ue(309));var r=t.stateNode}if(!r)throw Error(Ue(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Ue(284));if(!t._owner)throw Error(Ue(290,n))}return n}function Fg(n,e){throw n=Object.prototype.toString.call(e),Error(Ue(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function s4(n){var e=n._init;return e(n._payload)}function qP(n){function e(_,b){if(n){var E=_.deletions;E===null?(_.deletions=[b],_.flags|=16):E.push(b)}}function t(_,b){if(!n)return null;for(;b!==null;)e(_,b),b=b.sibling;return null}function r(_,b){for(_=new Map;b!==null;)b.key!==null?_.set(b.key,b):_.set(b.index,b),b=b.sibling;return _}function i(_,b){return _=dc(_,b),_.index=0,_.sibling=null,_}function s(_,b,E){return _.index=E,n?(E=_.alternate,E!==null?(E=E.index,E<b?(_.flags|=2,b):E):(_.flags|=2,b)):(_.flags|=1048576,b)}function o(_){return n&&_.alternate===null&&(_.flags|=2),_}function a(_,b,E,R){return b===null||b.tag!==6?(b=g2(E,_.mode,R),b.return=_,b):(b=i(b,E),b.return=_,b)}function l(_,b,E,R){var O=E.type;return O===Qh?u(_,b,E.props.children,R,E.key):b!==null&&(b.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Vl&&s4(O)===b.type)?(R=i(b,E.props),R.ref=Rf(_,b,E),R.return=_,R):(R=M0(E.type,E.key,E.props,null,_.mode,R),R.ref=Rf(_,b,E),R.return=_,R)}function c(_,b,E,R){return b===null||b.tag!==4||b.stateNode.containerInfo!==E.containerInfo||b.stateNode.implementation!==E.implementation?(b=v2(E,_.mode,R),b.return=_,b):(b=i(b,E.children||[]),b.return=_,b)}function u(_,b,E,R,O){return b===null||b.tag!==7?(b=Nu(E,_.mode,R,O),b.return=_,b):(b=i(b,E),b.return=_,b)}function h(_,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return b=g2(""+b,_.mode,E),b.return=_,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ag:return E=M0(b.type,b.key,b.props,null,_.mode,E),E.ref=Rf(_,null,b),E.return=_,E;case Kh:return b=v2(b,_.mode,E),b.return=_,b;case Vl:var R=b._init;return h(_,R(b._payload),E)}if(Kf(b)||Tf(b))return b=Nu(b,_.mode,E,null),b.return=_,b;Fg(_,b)}return null}function d(_,b,E,R){var O=b!==null?b.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return O!==null?null:a(_,b,""+E,R);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ag:return E.key===O?l(_,b,E,R):null;case Kh:return E.key===O?c(_,b,E,R):null;case Vl:return O=E._init,d(_,b,O(E._payload),R)}if(Kf(E)||Tf(E))return O!==null?null:u(_,b,E,R,null);Fg(_,E)}return null}function f(_,b,E,R,O){if(typeof R=="string"&&R!==""||typeof R=="number")return _=_.get(E)||null,a(b,_,""+R,O);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Ag:return _=_.get(R.key===null?E:R.key)||null,l(b,_,R,O);case Kh:return _=_.get(R.key===null?E:R.key)||null,c(b,_,R,O);case Vl:var V=R._init;return f(_,b,E,V(R._payload),O)}if(Kf(R)||Tf(R))return _=_.get(E)||null,u(b,_,R,O,null);Fg(b,R)}return null}function g(_,b,E,R){for(var O=null,V=null,C=b,y=b=0,S=null;C!==null&&y<E.length;y++){C.index>y?(S=C,C=null):S=C.sibling;var I=d(_,C,E[y],R);if(I===null){C===null&&(C=S);break}n&&C&&I.alternate===null&&e(_,C),b=s(I,b,y),V===null?O=I:V.sibling=I,V=I,C=S}if(y===E.length)return t(_,C),In&&du(_,y),O;if(C===null){for(;y<E.length;y++)C=h(_,E[y],R),C!==null&&(b=s(C,b,y),V===null?O=C:V.sibling=C,V=C);return In&&du(_,y),O}for(C=r(_,C);y<E.length;y++)S=f(C,_,y,E[y],R),S!==null&&(n&&S.alternate!==null&&C.delete(S.key===null?y:S.key),b=s(S,b,y),V===null?O=S:V.sibling=S,V=S);return n&&C.forEach(function(k){return e(_,k)}),In&&du(_,y),O}function w(_,b,E,R){var O=Tf(E);if(typeof O!="function")throw Error(Ue(150));if(E=O.call(E),E==null)throw Error(Ue(151));for(var V=O=null,C=b,y=b=0,S=null,I=E.next();C!==null&&!I.done;y++,I=E.next()){C.index>y?(S=C,C=null):S=C.sibling;var k=d(_,C,I.value,R);if(k===null){C===null&&(C=S);break}n&&C&&k.alternate===null&&e(_,C),b=s(k,b,y),V===null?O=k:V.sibling=k,V=k,C=S}if(I.done)return t(_,C),In&&du(_,y),O;if(C===null){for(;!I.done;y++,I=E.next())I=h(_,I.value,R),I!==null&&(b=s(I,b,y),V===null?O=I:V.sibling=I,V=I);return In&&du(_,y),O}for(C=r(_,C);!I.done;y++,I=E.next())I=f(C,_,y,I.value,R),I!==null&&(n&&I.alternate!==null&&C.delete(I.key===null?y:I.key),b=s(I,b,y),V===null?O=I:V.sibling=I,V=I);return n&&C.forEach(function(P){return e(_,P)}),In&&du(_,y),O}function x(_,b,E,R){if(typeof E=="object"&&E!==null&&E.type===Qh&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Ag:e:{for(var O=E.key,V=b;V!==null;){if(V.key===O){if(O=E.type,O===Qh){if(V.tag===7){t(_,V.sibling),b=i(V,E.props.children),b.return=_,_=b;break e}}else if(V.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Vl&&s4(O)===V.type){t(_,V.sibling),b=i(V,E.props),b.ref=Rf(_,V,E),b.return=_,_=b;break e}t(_,V);break}else e(_,V);V=V.sibling}E.type===Qh?(b=Nu(E.props.children,_.mode,R,E.key),b.return=_,_=b):(R=M0(E.type,E.key,E.props,null,_.mode,R),R.ref=Rf(_,b,E),R.return=_,_=R)}return o(_);case Kh:e:{for(V=E.key;b!==null;){if(b.key===V)if(b.tag===4&&b.stateNode.containerInfo===E.containerInfo&&b.stateNode.implementation===E.implementation){t(_,b.sibling),b=i(b,E.children||[]),b.return=_,_=b;break e}else{t(_,b);break}else e(_,b);b=b.sibling}b=v2(E,_.mode,R),b.return=_,_=b}return o(_);case Vl:return V=E._init,x(_,b,V(E._payload),R)}if(Kf(E))return g(_,b,E,R);if(Tf(E))return w(_,b,E,R);Fg(_,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,b!==null&&b.tag===6?(t(_,b.sibling),b=i(b,E),b.return=_,_=b):(t(_,b),b=g2(E,_.mode,R),b.return=_,_=b),o(_)):t(_,b)}return x}var Ad=qP(!0),$P=qP(!1),v1=Mc(null),y1=null,id=null,F5=null;function j5(){F5=id=y1=null}function V5(n){var e=v1.current;Nn(v1),n._currentValue=e}function B_(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function fd(n,e){y1=n,F5=id=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(ji=!0),n.firstContext=null)}function Ts(n){var e=n._currentValue;if(F5!==n)if(n={context:n,memoizedValue:e,next:null},id===null){if(y1===null)throw Error(Ue(308));id=n,y1.dependencies={lanes:0,firstContext:n}}else id=id.next=n;return e}var wu=null;function B5(n){wu===null?wu=[n]:wu.push(n)}function YP(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,B5(e)):(t.next=i.next,i.next=t),e.interleaved=t,qa(n,r)}function qa(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Bl=!1;function U5(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function GP(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Oa(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function cc(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Ht&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,qa(n,t)}return i=r.interleaved,i===null?(e.next=e,B5(r)):(e.next=i.next,i.next=e),r.interleaved=e,qa(n,t)}function C0(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,A5(n,t)}}function o4(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function _1(n,e,t,r){var i=n.updateQueue;Bl=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,u=c=l=null,a=s;do{var d=a.lane,f=a.eventTime;if((r&d)===d){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=n,w=a;switch(d=e,f=t,w.tag){case 1:if(g=w.payload,typeof g=="function"){h=g.call(f,h,d);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=w.payload,d=typeof g=="function"?g.call(f,h,d):g,d==null)break e;h=Fn({},h,d);break e;case 2:Bl=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=h):u=u.next=f,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);qu|=o,n.lanes=o,n.memoizedState=h}}function a4(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(Ue(191,i));i.call(r)}}}var Im={},Vo=Mc(Im),Gp=Mc(Im),Kp=Mc(Im);function bu(n){if(n===Im)throw Error(Ue(174));return n}function z5(n,e){switch(Sn(Kp,e),Sn(Gp,n),Sn(Vo,Im),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:w_(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=w_(e,n)}Nn(Vo),Sn(Vo,e)}function Pd(){Nn(Vo),Nn(Gp),Nn(Kp)}function KP(n){bu(Kp.current);var e=bu(Vo.current),t=w_(e,n.type);e!==t&&(Sn(Gp,n),Sn(Vo,t))}function W5(n){Gp.current===n&&(Nn(Vo),Nn(Gp))}var Rn=Mc(0);function w1(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var u2=[];function H5(){for(var n=0;n<u2.length;n++)u2[n]._workInProgressVersionPrimary=null;u2.length=0}var N0=el.ReactCurrentDispatcher,h2=el.ReactCurrentBatchConfig,Hu=0,Mn=null,vr=null,Ar=null,b1=!1,gp=!1,Qp=0,cM=0;function Kr(){throw Error(Ue(321))}function q5(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!no(n[t],e[t]))return!1;return!0}function $5(n,e,t,r,i,s){if(Hu=s,Mn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,N0.current=n===null||n.memoizedState===null?fM:pM,n=t(r,i),gp){s=0;do{if(gp=!1,Qp=0,25<=s)throw Error(Ue(301));s+=1,Ar=vr=null,e.updateQueue=null,N0.current=mM,n=t(r,i)}while(gp)}if(N0.current=x1,e=vr!==null&&vr.next!==null,Hu=0,Ar=vr=Mn=null,b1=!1,e)throw Error(Ue(300));return n}function Y5(){var n=Qp!==0;return Qp=0,n}function To(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ar===null?Mn.memoizedState=Ar=n:Ar=Ar.next=n,Ar}function Cs(){if(vr===null){var n=Mn.alternate;n=n!==null?n.memoizedState:null}else n=vr.next;var e=Ar===null?Mn.memoizedState:Ar.next;if(e!==null)Ar=e,vr=n;else{if(n===null)throw Error(Ue(310));vr=n,n={memoizedState:vr.memoizedState,baseState:vr.baseState,baseQueue:vr.baseQueue,queue:vr.queue,next:null},Ar===null?Mn.memoizedState=Ar=n:Ar=Ar.next=n}return Ar}function Xp(n,e){return typeof e=="function"?e(n):e}function d2(n){var e=Cs(),t=e.queue;if(t===null)throw Error(Ue(311));t.lastRenderedReducer=n;var r=vr,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Hu&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Mn.lanes|=u,qu|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,no(r,e.memoizedState)||(ji=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,Mn.lanes|=s,qu|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function f2(n){var e=Cs(),t=e.queue;if(t===null)throw Error(Ue(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);no(s,e.memoizedState)||(ji=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function QP(){}function XP(n,e){var t=Mn,r=Cs(),i=e(),s=!no(r.memoizedState,i);if(s&&(r.memoizedState=i,ji=!0),r=r.queue,G5(eT.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||Ar!==null&&Ar.memoizedState.tag&1){if(t.flags|=2048,Jp(9,ZP.bind(null,t,r,i,e),void 0,null),Tr===null)throw Error(Ue(349));Hu&30||JP(t,e,i)}return i}function JP(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Mn.updateQueue,e===null?(e={lastEffect:null,stores:null},Mn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function ZP(n,e,t,r){e.value=t,e.getSnapshot=r,tT(e)&&nT(n)}function eT(n,e,t){return t(function(){tT(e)&&nT(n)})}function tT(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!no(n,t)}catch{return!0}}function nT(n){var e=qa(n,1);e!==null&&eo(e,n,1,-1)}function l4(n){var e=To();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xp,lastRenderedState:n},e.queue=n,n=n.dispatch=dM.bind(null,Mn,n),[e.memoizedState,n]}function Jp(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Mn.updateQueue,e===null?(e={lastEffect:null,stores:null},Mn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function rT(){return Cs().memoizedState}function I0(n,e,t,r){var i=To();Mn.flags|=n,i.memoizedState=Jp(1|e,t,void 0,r===void 0?null:r)}function Cv(n,e,t,r){var i=Cs();r=r===void 0?null:r;var s=void 0;if(vr!==null){var o=vr.memoizedState;if(s=o.destroy,r!==null&&q5(r,o.deps)){i.memoizedState=Jp(e,t,s,r);return}}Mn.flags|=n,i.memoizedState=Jp(1|e,t,s,r)}function c4(n,e){return I0(8390656,8,n,e)}function G5(n,e){return Cv(2048,8,n,e)}function iT(n,e){return Cv(4,2,n,e)}function sT(n,e){return Cv(4,4,n,e)}function oT(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function aT(n,e,t){return t=t!=null?t.concat([n]):null,Cv(4,4,oT.bind(null,e,n),t)}function K5(){}function lT(n,e){var t=Cs();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&q5(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function cT(n,e){var t=Cs();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&q5(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function uT(n,e,t){return Hu&21?(no(t,e)||(t=mP(),Mn.lanes|=t,qu|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,ji=!0),n.memoizedState=t)}function uM(n,e){var t=un;un=t!==0&&4>t?t:4,n(!0);var r=h2.transition;h2.transition={};try{n(!1),e()}finally{un=t,h2.transition=r}}function hT(){return Cs().memoizedState}function hM(n,e,t){var r=hc(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},dT(n))fT(e,t);else if(t=YP(n,e,t,r),t!==null){var i=Si();eo(t,n,r,i),pT(t,e,r)}}function dM(n,e,t){var r=hc(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(dT(n))fT(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,no(a,o)){var l=e.interleaved;l===null?(i.next=i,B5(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=YP(n,e,i,r),t!==null&&(i=Si(),eo(t,n,r,i),pT(t,e,r))}}function dT(n){var e=n.alternate;return n===Mn||e!==null&&e===Mn}function fT(n,e){gp=b1=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function pT(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,A5(n,t)}}var x1={readContext:Ts,useCallback:Kr,useContext:Kr,useEffect:Kr,useImperativeHandle:Kr,useInsertionEffect:Kr,useLayoutEffect:Kr,useMemo:Kr,useReducer:Kr,useRef:Kr,useState:Kr,useDebugValue:Kr,useDeferredValue:Kr,useTransition:Kr,useMutableSource:Kr,useSyncExternalStore:Kr,useId:Kr,unstable_isNewReconciler:!1},fM={readContext:Ts,useCallback:function(n,e){return To().memoizedState=[n,e===void 0?null:e],n},useContext:Ts,useEffect:c4,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,I0(4194308,4,oT.bind(null,e,n),t)},useLayoutEffect:function(n,e){return I0(4194308,4,n,e)},useInsertionEffect:function(n,e){return I0(4,2,n,e)},useMemo:function(n,e){var t=To();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=To();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=hM.bind(null,Mn,n),[r.memoizedState,n]},useRef:function(n){var e=To();return n={current:n},e.memoizedState=n},useState:l4,useDebugValue:K5,useDeferredValue:function(n){return To().memoizedState=n},useTransition:function(){var n=l4(!1),e=n[0];return n=uM.bind(null,n[1]),To().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Mn,i=To();if(In){if(t===void 0)throw Error(Ue(407));t=t()}else{if(t=e(),Tr===null)throw Error(Ue(349));Hu&30||JP(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,c4(eT.bind(null,r,s,n),[n]),r.flags|=2048,Jp(9,ZP.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=To(),e=Tr.identifierPrefix;if(In){var t=Ia,r=Na;t=(r&~(1<<32-Zs(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Qp++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=cM++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},pM={readContext:Ts,useCallback:lT,useContext:Ts,useEffect:G5,useImperativeHandle:aT,useInsertionEffect:iT,useLayoutEffect:sT,useMemo:cT,useReducer:d2,useRef:rT,useState:function(){return d2(Xp)},useDebugValue:K5,useDeferredValue:function(n){var e=Cs();return uT(e,vr.memoizedState,n)},useTransition:function(){var n=d2(Xp)[0],e=Cs().memoizedState;return[n,e]},useMutableSource:QP,useSyncExternalStore:XP,useId:hT,unstable_isNewReconciler:!1},mM={readContext:Ts,useCallback:lT,useContext:Ts,useEffect:G5,useImperativeHandle:aT,useInsertionEffect:iT,useLayoutEffect:sT,useMemo:cT,useReducer:f2,useRef:rT,useState:function(){return f2(Xp)},useDebugValue:K5,useDeferredValue:function(n){var e=Cs();return vr===null?e.memoizedState=n:uT(e,vr.memoizedState,n)},useTransition:function(){var n=f2(Xp)[0],e=Cs().memoizedState;return[n,e]},useMutableSource:QP,useSyncExternalStore:XP,useId:hT,unstable_isNewReconciler:!1};function Ys(n,e){if(n&&n.defaultProps){e=Fn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function U_(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Fn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Nv={isMounted:function(n){return(n=n._reactInternals)?ih(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Si(),i=hc(n),s=Oa(r,i);s.payload=e,t!=null&&(s.callback=t),e=cc(n,s,i),e!==null&&(eo(e,n,i,r),C0(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Si(),i=hc(n),s=Oa(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=cc(n,s,i),e!==null&&(eo(e,n,i,r),C0(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Si(),r=hc(n),i=Oa(t,r);i.tag=2,e!=null&&(i.callback=e),e=cc(n,i,r),e!==null&&(eo(e,n,r,t),C0(e,n,r))}};function u4(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Hp(t,r)||!Hp(i,s):!0}function mT(n,e,t){var r=!1,i=Ec,s=e.contextType;return typeof s=="object"&&s!==null?s=Ts(s):(i=Bi(e)?zu:ui.current,r=e.contextTypes,s=(r=r!=null)?Ed(n,i):Ec),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Nv,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function h4(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&Nv.enqueueReplaceState(e,e.state,null)}function z_(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},U5(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ts(s):(s=Bi(e)?zu:ui.current,i.context=Ed(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(U_(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Nv.enqueueReplaceState(i,i.state,null),_1(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function Td(n,e){try{var t="",r=e;do t+=WR(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function p2(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function W_(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var gM=typeof WeakMap=="function"?WeakMap:Map;function gT(n,e,t){t=Oa(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){E1||(E1=!0,Z_=r),W_(n,e)},t}function vT(n,e,t){t=Oa(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){W_(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){W_(n,e),typeof r!="function"&&(uc===null?uc=new Set([this]):uc.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function d4(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new gM;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=NM.bind(null,n,e,t),e.then(n,n))}function f4(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function p4(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Oa(-1,1),e.tag=2,cc(t,e,1))),t.lanes|=1),n)}var vM=el.ReactCurrentOwner,ji=!1;function yi(n,e,t,r){e.child=n===null?$P(e,null,t,r):Ad(e,n.child,t,r)}function m4(n,e,t,r,i){t=t.render;var s=e.ref;return fd(e,i),r=$5(n,e,t,r,s,i),t=Y5(),n!==null&&!ji?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,$a(n,e,i)):(In&&t&&L5(e),e.flags|=1,yi(n,e,r,i),e.child)}function g4(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!rb(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,yT(n,e,s,r,i)):(n=M0(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Hp,t(o,r)&&n.ref===e.ref)return $a(n,e,i)}return e.flags|=1,n=dc(s,r),n.ref=e.ref,n.return=e,e.child=n}function yT(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(Hp(s,r)&&n.ref===e.ref)if(ji=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(ji=!0);else return e.lanes=n.lanes,$a(n,e,i)}return H_(n,e,t,r,i)}function _T(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sn(od,Zi),Zi|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Sn(od,Zi),Zi|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,Sn(od,Zi),Zi|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,Sn(od,Zi),Zi|=r;return yi(n,e,i,t),e.child}function wT(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function H_(n,e,t,r,i){var s=Bi(t)?zu:ui.current;return s=Ed(e,s),fd(e,i),t=$5(n,e,t,r,s,i),r=Y5(),n!==null&&!ji?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,$a(n,e,i)):(In&&r&&L5(e),e.flags|=1,yi(n,e,t,i),e.child)}function v4(n,e,t,r,i){if(Bi(t)){var s=!0;p1(e)}else s=!1;if(fd(e,i),e.stateNode===null)D0(n,e),mT(e,t,r),z_(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=Ts(c):(c=Bi(t)?zu:ui.current,c=Ed(e,c));var u=t.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&h4(e,o,r,c),Bl=!1;var d=e.memoizedState;o.state=d,_1(e,r,o,i),l=e.memoizedState,a!==r||d!==l||Vi.current||Bl?(typeof u=="function"&&(U_(e,t,u,r),l=e.memoizedState),(a=Bl||u4(e,t,a,r,d,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,GP(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ys(e.type,a),o.props=c,h=e.pendingProps,d=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Ts(l):(l=Bi(t)?zu:ui.current,l=Ed(e,l));var f=t.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&h4(e,o,r,l),Bl=!1,d=e.memoizedState,o.state=d,_1(e,r,o,i);var g=e.memoizedState;a!==h||d!==g||Vi.current||Bl?(typeof f=="function"&&(U_(e,t,f,r),g=e.memoizedState),(c=Bl||u4(e,t,c,r,d,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),r=!1)}return q_(n,e,t,r,s,i)}function q_(n,e,t,r,i,s){wT(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&n4(e,t,!1),$a(n,e,s);r=e.stateNode,vM.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Ad(e,n.child,null,s),e.child=Ad(e,null,a,s)):yi(n,e,a,s),e.memoizedState=r.state,i&&n4(e,t,!0),e.child}function bT(n){var e=n.stateNode;e.pendingContext?t4(n,e.pendingContext,e.pendingContext!==e.context):e.context&&t4(n,e.context,!1),z5(n,e.containerInfo)}function y4(n,e,t,r,i){return kd(),O5(i),e.flags|=256,yi(n,e,t,r),e.child}var $_={dehydrated:null,treeContext:null,retryLane:0};function Y_(n){return{baseLanes:n,cachePool:null,transitions:null}}function xT(n,e,t){var r=e.pendingProps,i=Rn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),Sn(Rn,i&1),n===null)return V_(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Rv(o,r,0,null),n=Nu(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=Y_(t),e.memoizedState=$_,n):Q5(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return yM(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=dc(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=dc(a,s):(s=Nu(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?Y_(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=$_,r}return s=n.child,n=s.sibling,r=dc(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function Q5(n,e){return e=Rv({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function jg(n,e,t,r){return r!==null&&O5(r),Ad(e,n.child,null,t),n=Q5(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function yM(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=p2(Error(Ue(422))),jg(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Rv({mode:"visible",children:r.children},i,0,null),s=Nu(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ad(e,n.child,null,o),e.child.memoizedState=Y_(o),e.memoizedState=$_,s);if(!(e.mode&1))return jg(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Ue(419)),r=p2(s,r,void 0),jg(n,e,o,r)}if(a=(o&n.childLanes)!==0,ji||a){if(r=Tr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,qa(n,i),eo(r,n,i,-1))}return nb(),r=p2(Error(Ue(421))),jg(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=IM.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,es=lc(i.nextSibling),rs=e,In=!0,Xs=null,n!==null&&(xs[Ss++]=Na,xs[Ss++]=Ia,xs[Ss++]=Wu,Na=n.id,Ia=n.overflow,Wu=e),e=Q5(e,r.children),e.flags|=4096,e)}function _4(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),B_(n.return,e,t)}function m2(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function ST(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(yi(n,e,r.children,t),r=Rn.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&_4(n,t,e);else if(n.tag===19)_4(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Sn(Rn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&w1(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),m2(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&w1(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}m2(e,!0,t,null,s);break;case"together":m2(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function D0(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function $a(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),qu|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Ue(153));if(e.child!==null){for(n=e.child,t=dc(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=dc(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function _M(n,e,t){switch(e.tag){case 3:bT(e),kd();break;case 5:KP(e);break;case 1:Bi(e.type)&&p1(e);break;case 4:z5(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Sn(v1,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Sn(Rn,Rn.current&1),e.flags|=128,null):t&e.child.childLanes?xT(n,e,t):(Sn(Rn,Rn.current&1),n=$a(n,e,t),n!==null?n.sibling:null);Sn(Rn,Rn.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return ST(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Sn(Rn,Rn.current),r)break;return null;case 22:case 23:return e.lanes=0,_T(n,e,t)}return $a(n,e,t)}var ET,G_,kT,AT;ET=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};G_=function(){};kT=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,bu(Vo.current);var s=null;switch(t){case"input":i=g_(n,i),r=g_(n,r),s=[];break;case"select":i=Fn({},i,{value:void 0}),r=Fn({},r,{value:void 0}),s=[];break;case"textarea":i=__(n,i),r=__(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=d1)}b_(t,r);var o;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Fp.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Fp.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Pn("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};AT=function(n,e,t,r){t!==r&&(e.flags|=4)};function Lf(n,e){if(!In)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Qr(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function wM(n,e,t){var r=e.pendingProps;switch(M5(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qr(e),null;case 1:return Bi(e.type)&&f1(),Qr(e),null;case 3:return r=e.stateNode,Pd(),Nn(Vi),Nn(ui),H5(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Og(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Xs!==null&&(nw(Xs),Xs=null))),G_(n,e),Qr(e),null;case 5:W5(e);var i=bu(Kp.current);if(t=e.type,n!==null&&e.stateNode!=null)kT(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ue(166));return Qr(e),null}if(n=bu(Vo.current),Og(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[Do]=e,r[Yp]=s,n=(e.mode&1)!==0,t){case"dialog":Pn("cancel",r),Pn("close",r);break;case"iframe":case"object":case"embed":Pn("load",r);break;case"video":case"audio":for(i=0;i<Xf.length;i++)Pn(Xf[i],r);break;case"source":Pn("error",r);break;case"img":case"image":case"link":Pn("error",r),Pn("load",r);break;case"details":Pn("toggle",r);break;case"input":TS(r,s),Pn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Pn("invalid",r);break;case"textarea":NS(r,s),Pn("invalid",r)}b_(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Mg(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Mg(r.textContent,a,n),i=["children",""+a]):Fp.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Pn("scroll",r)}switch(t){case"input":Pg(r),CS(r,s,!0);break;case"textarea":Pg(r),IS(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=d1)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=eP(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[Do]=e,n[Yp]=r,ET(n,e,!1,!1),e.stateNode=n;e:{switch(o=x_(t,r),t){case"dialog":Pn("cancel",n),Pn("close",n),i=r;break;case"iframe":case"object":case"embed":Pn("load",n),i=r;break;case"video":case"audio":for(i=0;i<Xf.length;i++)Pn(Xf[i],n);i=r;break;case"source":Pn("error",n),i=r;break;case"img":case"image":case"link":Pn("error",n),Pn("load",n),i=r;break;case"details":Pn("toggle",n),i=r;break;case"input":TS(n,r),i=g_(n,r),Pn("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Fn({},r,{value:void 0}),Pn("invalid",n);break;case"textarea":NS(n,r),i=__(n,r),Pn("invalid",n);break;default:i=r}b_(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?rP(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&tP(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&jp(n,l):typeof l=="number"&&jp(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Fp.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Pn("scroll",n):l!=null&&w5(n,s,l,o))}switch(t){case"input":Pg(n),CS(n,r,!1);break;case"textarea":Pg(n),IS(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Sc(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?cd(n,!!r.multiple,s,!1):r.defaultValue!=null&&cd(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=d1)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Qr(e),null;case 6:if(n&&e.stateNode!=null)AT(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ue(166));if(t=bu(Kp.current),bu(Vo.current),Og(e)){if(r=e.stateNode,t=e.memoizedProps,r[Do]=e,(s=r.nodeValue!==t)&&(n=rs,n!==null))switch(n.tag){case 3:Mg(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Mg(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Do]=e,e.stateNode=r}return Qr(e),null;case 13:if(Nn(Rn),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(In&&es!==null&&e.mode&1&&!(e.flags&128))HP(),kd(),e.flags|=98560,s=!1;else if(s=Og(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(Ue(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ue(317));s[Do]=e}else kd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Qr(e),s=!1}else Xs!==null&&(nw(Xs),Xs=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||Rn.current&1?wr===0&&(wr=3):nb())),e.updateQueue!==null&&(e.flags|=4),Qr(e),null);case 4:return Pd(),G_(n,e),n===null&&qp(e.stateNode.containerInfo),Qr(e),null;case 10:return V5(e.type._context),Qr(e),null;case 17:return Bi(e.type)&&f1(),Qr(e),null;case 19:if(Nn(Rn),s=e.memoizedState,s===null)return Qr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Lf(s,!1);else{if(wr!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=w1(n),o!==null){for(e.flags|=128,Lf(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Sn(Rn,Rn.current&1|2),e.child}n=n.sibling}s.tail!==null&&Zn()>Cd&&(e.flags|=128,r=!0,Lf(s,!1),e.lanes=4194304)}else{if(!r)if(n=w1(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Lf(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!In)return Qr(e),null}else 2*Zn()-s.renderingStartTime>Cd&&t!==1073741824&&(e.flags|=128,r=!0,Lf(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Zn(),e.sibling=null,t=Rn.current,Sn(Rn,r?t&1|2:t&1),e):(Qr(e),null);case 22:case 23:return tb(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Zi&1073741824&&(Qr(e),e.subtreeFlags&6&&(e.flags|=8192)):Qr(e),null;case 24:return null;case 25:return null}throw Error(Ue(156,e.tag))}function bM(n,e){switch(M5(e),e.tag){case 1:return Bi(e.type)&&f1(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Pd(),Nn(Vi),Nn(ui),H5(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return W5(e),null;case 13:if(Nn(Rn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Ue(340));kd()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Nn(Rn),null;case 4:return Pd(),null;case 10:return V5(e.type._context),null;case 22:case 23:return tb(),null;case 24:return null;default:return null}}var Vg=!1,ii=!1,xM=typeof WeakSet=="function"?WeakSet:Set,nt=null;function sd(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Hn(n,e,r)}else t.current=null}function K_(n,e,t){try{t()}catch(r){Hn(n,e,r)}}var w4=!1;function SM(n,e){if(D_=c1,n=IP(),R5(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=n,d=null;t:for(;;){for(var f;h!==t||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===n)break t;if(d===t&&++c===i&&(a=o),d===s&&++u===r&&(l=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(R_={focusedElem:n,selectionRange:t},c1=!1,nt=e;nt!==null;)if(e=nt,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,nt=n;else for(;nt!==null;){e=nt;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var w=g.memoizedProps,x=g.memoizedState,_=e.stateNode,b=_.getSnapshotBeforeUpdate(e.elementType===e.type?w:Ys(e.type,w),x);_.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ue(163))}}catch(R){Hn(e,e.return,R)}if(n=e.sibling,n!==null){n.return=e.return,nt=n;break}nt=e.return}return g=w4,w4=!1,g}function vp(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&K_(e,t,s)}i=i.next}while(i!==r)}}function Iv(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function Q_(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function PT(n){var e=n.alternate;e!==null&&(n.alternate=null,PT(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Do],delete e[Yp],delete e[O_],delete e[sM],delete e[oM])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function TT(n){return n.tag===5||n.tag===3||n.tag===4}function b4(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||TT(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function X_(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=d1));else if(r!==4&&(n=n.child,n!==null))for(X_(n,e,t),n=n.sibling;n!==null;)X_(n,e,t),n=n.sibling}function J_(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(J_(n,e,t),n=n.sibling;n!==null;)J_(n,e,t),n=n.sibling}var Or=null,Ks=!1;function Rl(n,e,t){for(t=t.child;t!==null;)CT(n,e,t),t=t.sibling}function CT(n,e,t){if(jo&&typeof jo.onCommitFiberUnmount=="function")try{jo.onCommitFiberUnmount(Sv,t)}catch{}switch(t.tag){case 5:ii||sd(t,e);case 6:var r=Or,i=Ks;Or=null,Rl(n,e,t),Or=r,Ks=i,Or!==null&&(Ks?(n=Or,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Or.removeChild(t.stateNode));break;case 18:Or!==null&&(Ks?(n=Or,t=t.stateNode,n.nodeType===8?l2(n.parentNode,t):n.nodeType===1&&l2(n,t),zp(n)):l2(Or,t.stateNode));break;case 4:r=Or,i=Ks,Or=t.stateNode.containerInfo,Ks=!0,Rl(n,e,t),Or=r,Ks=i;break;case 0:case 11:case 14:case 15:if(!ii&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&K_(t,e,o),i=i.next}while(i!==r)}Rl(n,e,t);break;case 1:if(!ii&&(sd(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){Hn(t,e,a)}Rl(n,e,t);break;case 21:Rl(n,e,t);break;case 22:t.mode&1?(ii=(r=ii)||t.memoizedState!==null,Rl(n,e,t),ii=r):Rl(n,e,t);break;default:Rl(n,e,t)}}function x4(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new xM),e.forEach(function(r){var i=DM.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function Hs(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Or=a.stateNode,Ks=!1;break e;case 3:Or=a.stateNode.containerInfo,Ks=!0;break e;case 4:Or=a.stateNode.containerInfo,Ks=!0;break e}a=a.return}if(Or===null)throw Error(Ue(160));CT(s,o,i),Or=null,Ks=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Hn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)NT(e,n),e=e.sibling}function NT(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Hs(e,n),Eo(n),r&4){try{vp(3,n,n.return),Iv(3,n)}catch(w){Hn(n,n.return,w)}try{vp(5,n,n.return)}catch(w){Hn(n,n.return,w)}}break;case 1:Hs(e,n),Eo(n),r&512&&t!==null&&sd(t,t.return);break;case 5:if(Hs(e,n),Eo(n),r&512&&t!==null&&sd(t,t.return),n.flags&32){var i=n.stateNode;try{jp(i,"")}catch(w){Hn(n,n.return,w)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&JA(i,s),x_(a,o);var c=x_(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?rP(i,h):u==="dangerouslySetInnerHTML"?tP(i,h):u==="children"?jp(i,h):w5(i,u,h,c)}switch(a){case"input":v_(i,s);break;case"textarea":ZA(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?cd(i,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?cd(i,!!s.multiple,s.defaultValue,!0):cd(i,!!s.multiple,s.multiple?[]:"",!1))}i[Yp]=s}catch(w){Hn(n,n.return,w)}}break;case 6:if(Hs(e,n),Eo(n),r&4){if(n.stateNode===null)throw Error(Ue(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(w){Hn(n,n.return,w)}}break;case 3:if(Hs(e,n),Eo(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{zp(e.containerInfo)}catch(w){Hn(n,n.return,w)}break;case 4:Hs(e,n),Eo(n);break;case 13:Hs(e,n),Eo(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Z5=Zn())),r&4&&x4(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(ii=(c=ii)||u,Hs(e,n),ii=c):Hs(e,n),Eo(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(nt=n,u=n.child;u!==null;){for(h=nt=u;nt!==null;){switch(d=nt,f=d.child,d.tag){case 0:case 11:case 14:case 15:vp(4,d,d.return);break;case 1:sd(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){r=d,t=d.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(w){Hn(r,t,w)}}break;case 5:sd(d,d.return);break;case 22:if(d.memoizedState!==null){E4(h);continue}}f!==null?(f.return=d,nt=f):E4(h)}u=u.sibling}e:for(u=null,h=n;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=nP("display",o))}catch(w){Hn(n,n.return,w)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){Hn(n,n.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Hs(e,n),Eo(n),r&4&&x4(n);break;case 21:break;default:Hs(e,n),Eo(n)}}function Eo(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(TT(t)){var r=t;break e}t=t.return}throw Error(Ue(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(jp(i,""),r.flags&=-33);var s=b4(n);J_(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=b4(n);X_(n,a,o);break;default:throw Error(Ue(161))}}catch(l){Hn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function EM(n,e,t){nt=n,IT(n)}function IT(n,e,t){for(var r=(n.mode&1)!==0;nt!==null;){var i=nt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Vg;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ii;a=Vg;var c=ii;if(Vg=o,(ii=l)&&!c)for(nt=i;nt!==null;)o=nt,l=o.child,o.tag===22&&o.memoizedState!==null?k4(i):l!==null?(l.return=o,nt=l):k4(i);for(;s!==null;)nt=s,IT(s),s=s.sibling;nt=i,Vg=a,ii=c}S4(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,nt=s):S4(n)}}function S4(n){for(;nt!==null;){var e=nt;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ii||Iv(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ii)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:Ys(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&a4(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}a4(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&zp(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ue(163))}ii||e.flags&512&&Q_(e)}catch(d){Hn(e,e.return,d)}}if(e===n){nt=null;break}if(t=e.sibling,t!==null){t.return=e.return,nt=t;break}nt=e.return}}function E4(n){for(;nt!==null;){var e=nt;if(e===n){nt=null;break}var t=e.sibling;if(t!==null){t.return=e.return,nt=t;break}nt=e.return}}function k4(n){for(;nt!==null;){var e=nt;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{Iv(4,e)}catch(l){Hn(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Hn(e,i,l)}}var s=e.return;try{Q_(e)}catch(l){Hn(e,s,l)}break;case 5:var o=e.return;try{Q_(e)}catch(l){Hn(e,o,l)}}}catch(l){Hn(e,e.return,l)}if(e===n){nt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,nt=a;break}nt=e.return}}var kM=Math.ceil,S1=el.ReactCurrentDispatcher,X5=el.ReactCurrentOwner,Ps=el.ReactCurrentBatchConfig,Ht=0,Tr=null,dr=null,Br=0,Zi=0,od=Mc(0),wr=0,Zp=null,qu=0,Dv=0,J5=0,yp=null,Oi=null,Z5=0,Cd=1/0,Pa=null,E1=!1,Z_=null,uc=null,Bg=!1,Xl=null,k1=0,_p=0,ew=null,R0=-1,L0=0;function Si(){return Ht&6?Zn():R0!==-1?R0:R0=Zn()}function hc(n){return n.mode&1?Ht&2&&Br!==0?Br&-Br:lM.transition!==null?(L0===0&&(L0=mP()),L0):(n=un,n!==0||(n=window.event,n=n===void 0?16:xP(n.type)),n):1}function eo(n,e,t,r){if(50<_p)throw _p=0,ew=null,Error(Ue(185));Tm(n,t,r),(!(Ht&2)||n!==Tr)&&(n===Tr&&(!(Ht&2)&&(Dv|=t),wr===4&&zl(n,Br)),Ui(n,r),t===1&&Ht===0&&!(e.mode&1)&&(Cd=Zn()+500,Tv&&Oc()))}function Ui(n,e){var t=n.callbackNode;lL(n,e);var r=l1(n,n===Tr?Br:0);if(r===0)t!==null&&LS(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&LS(t),e===1)n.tag===0?aM(A4.bind(null,n)):UP(A4.bind(null,n)),rM(function(){!(Ht&6)&&Oc()}),t=null;else{switch(gP(r)){case 1:t=k5;break;case 4:t=fP;break;case 16:t=a1;break;case 536870912:t=pP;break;default:t=a1}t=VT(t,DT.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function DT(n,e){if(R0=-1,L0=0,Ht&6)throw Error(Ue(327));var t=n.callbackNode;if(pd()&&n.callbackNode!==t)return null;var r=l1(n,n===Tr?Br:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=A1(n,r);else{e=r;var i=Ht;Ht|=2;var s=LT();(Tr!==n||Br!==e)&&(Pa=null,Cd=Zn()+500,Cu(n,e));do try{TM();break}catch(a){RT(n,a)}while(!0);j5(),S1.current=s,Ht=i,dr!==null?e=0:(Tr=null,Br=0,e=wr)}if(e!==0){if(e===2&&(i=P_(n),i!==0&&(r=i,e=tw(n,i))),e===1)throw t=Zp,Cu(n,0),zl(n,r),Ui(n,Zn()),t;if(e===6)zl(n,r);else{if(i=n.current.alternate,!(r&30)&&!AM(i)&&(e=A1(n,r),e===2&&(s=P_(n),s!==0&&(r=s,e=tw(n,s))),e===1))throw t=Zp,Cu(n,0),zl(n,r),Ui(n,Zn()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(Ue(345));case 2:fu(n,Oi,Pa);break;case 3:if(zl(n,r),(r&130023424)===r&&(e=Z5+500-Zn(),10<e)){if(l1(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Si(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=M_(fu.bind(null,n,Oi,Pa),e);break}fu(n,Oi,Pa);break;case 4:if(zl(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-Zs(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Zn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kM(r/1960))-r,10<r){n.timeoutHandle=M_(fu.bind(null,n,Oi,Pa),r);break}fu(n,Oi,Pa);break;case 5:fu(n,Oi,Pa);break;default:throw Error(Ue(329))}}}return Ui(n,Zn()),n.callbackNode===t?DT.bind(null,n):null}function tw(n,e){var t=yp;return n.current.memoizedState.isDehydrated&&(Cu(n,e).flags|=256),n=A1(n,e),n!==2&&(e=Oi,Oi=t,e!==null&&nw(e)),n}function nw(n){Oi===null?Oi=n:Oi.push.apply(Oi,n)}function AM(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!no(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function zl(n,e){for(e&=~J5,e&=~Dv,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Zs(e),r=1<<t;n[t]=-1,e&=~r}}function A4(n){if(Ht&6)throw Error(Ue(327));pd();var e=l1(n,0);if(!(e&1))return Ui(n,Zn()),null;var t=A1(n,e);if(n.tag!==0&&t===2){var r=P_(n);r!==0&&(e=r,t=tw(n,r))}if(t===1)throw t=Zp,Cu(n,0),zl(n,e),Ui(n,Zn()),t;if(t===6)throw Error(Ue(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,fu(n,Oi,Pa),Ui(n,Zn()),null}function eb(n,e){var t=Ht;Ht|=1;try{return n(e)}finally{Ht=t,Ht===0&&(Cd=Zn()+500,Tv&&Oc())}}function $u(n){Xl!==null&&Xl.tag===0&&!(Ht&6)&&pd();var e=Ht;Ht|=1;var t=Ps.transition,r=un;try{if(Ps.transition=null,un=1,n)return n()}finally{un=r,Ps.transition=t,Ht=e,!(Ht&6)&&Oc()}}function tb(){Zi=od.current,Nn(od)}function Cu(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,nM(t)),dr!==null)for(t=dr.return;t!==null;){var r=t;switch(M5(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&f1();break;case 3:Pd(),Nn(Vi),Nn(ui),H5();break;case 5:W5(r);break;case 4:Pd();break;case 13:Nn(Rn);break;case 19:Nn(Rn);break;case 10:V5(r.type._context);break;case 22:case 23:tb()}t=t.return}if(Tr=n,dr=n=dc(n.current,null),Br=Zi=e,wr=0,Zp=null,J5=Dv=qu=0,Oi=yp=null,wu!==null){for(e=0;e<wu.length;e++)if(t=wu[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}wu=null}return n}function RT(n,e){do{var t=dr;try{if(j5(),N0.current=x1,b1){for(var r=Mn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}b1=!1}if(Hu=0,Ar=vr=Mn=null,gp=!1,Qp=0,X5.current=null,t===null||t.return===null){wr=1,Zp=e,dr=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=Br,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=f4(o);if(f!==null){f.flags&=-257,p4(f,o,a,s,e),f.mode&1&&d4(s,c,e),e=f,l=c;var g=e.updateQueue;if(g===null){var w=new Set;w.add(l),e.updateQueue=w}else g.add(l);break e}else{if(!(e&1)){d4(s,c,e),nb();break e}l=Error(Ue(426))}}else if(In&&a.mode&1){var x=f4(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),p4(x,o,a,s,e),O5(Td(l,a));break e}}s=l=Td(l,a),wr!==4&&(wr=2),yp===null?yp=[s]:yp.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=gT(s,l,e);o4(s,_);break e;case 1:a=l;var b=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(uc===null||!uc.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var R=vT(s,a,e);o4(s,R);break e}}s=s.return}while(s!==null)}OT(t)}catch(O){e=O,dr===t&&t!==null&&(dr=t=t.return);continue}break}while(!0)}function LT(){var n=S1.current;return S1.current=x1,n===null?x1:n}function nb(){(wr===0||wr===3||wr===2)&&(wr=4),Tr===null||!(qu&268435455)&&!(Dv&268435455)||zl(Tr,Br)}function A1(n,e){var t=Ht;Ht|=2;var r=LT();(Tr!==n||Br!==e)&&(Pa=null,Cu(n,e));do try{PM();break}catch(i){RT(n,i)}while(!0);if(j5(),Ht=t,S1.current=r,dr!==null)throw Error(Ue(261));return Tr=null,Br=0,wr}function PM(){for(;dr!==null;)MT(dr)}function TM(){for(;dr!==null&&!ZR();)MT(dr)}function MT(n){var e=jT(n.alternate,n,Zi);n.memoizedProps=n.pendingProps,e===null?OT(n):dr=e,X5.current=null}function OT(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=bM(t,e),t!==null){t.flags&=32767,dr=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{wr=6,dr=null;return}}else if(t=wM(t,e,Zi),t!==null){dr=t;return}if(e=e.sibling,e!==null){dr=e;return}dr=e=n}while(e!==null);wr===0&&(wr=5)}function fu(n,e,t){var r=un,i=Ps.transition;try{Ps.transition=null,un=1,CM(n,e,t,r)}finally{Ps.transition=i,un=r}return null}function CM(n,e,t,r){do pd();while(Xl!==null);if(Ht&6)throw Error(Ue(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Ue(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(cL(n,s),n===Tr&&(dr=Tr=null,Br=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Bg||(Bg=!0,VT(a1,function(){return pd(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Ps.transition,Ps.transition=null;var o=un;un=1;var a=Ht;Ht|=4,X5.current=null,SM(n,t),NT(t,n),KL(R_),c1=!!D_,R_=D_=null,n.current=t,EM(t),eL(),Ht=a,un=o,Ps.transition=s}else n.current=t;if(Bg&&(Bg=!1,Xl=n,k1=i),s=n.pendingLanes,s===0&&(uc=null),rL(t.stateNode),Ui(n,Zn()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(E1)throw E1=!1,n=Z_,Z_=null,n;return k1&1&&n.tag!==0&&pd(),s=n.pendingLanes,s&1?n===ew?_p++:(_p=0,ew=n):_p=0,Oc(),null}function pd(){if(Xl!==null){var n=gP(k1),e=Ps.transition,t=un;try{if(Ps.transition=null,un=16>n?16:n,Xl===null)var r=!1;else{if(n=Xl,Xl=null,k1=0,Ht&6)throw Error(Ue(331));var i=Ht;for(Ht|=4,nt=n.current;nt!==null;){var s=nt,o=s.child;if(nt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(nt=c;nt!==null;){var u=nt;switch(u.tag){case 0:case 11:case 15:vp(8,u,s)}var h=u.child;if(h!==null)h.return=u,nt=h;else for(;nt!==null;){u=nt;var d=u.sibling,f=u.return;if(PT(u),u===c){nt=null;break}if(d!==null){d.return=f,nt=d;break}nt=f}}}var g=s.alternate;if(g!==null){var w=g.child;if(w!==null){g.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}nt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,nt=o;else e:for(;nt!==null;){if(s=nt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:vp(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,nt=_;break e}nt=s.return}}var b=n.current;for(nt=b;nt!==null;){o=nt;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,nt=E;else e:for(o=b;nt!==null;){if(a=nt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Iv(9,a)}}catch(O){Hn(a,a.return,O)}if(a===o){nt=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,nt=R;break e}nt=a.return}}if(Ht=i,Oc(),jo&&typeof jo.onPostCommitFiberRoot=="function")try{jo.onPostCommitFiberRoot(Sv,n)}catch{}r=!0}return r}finally{un=t,Ps.transition=e}}return!1}function P4(n,e,t){e=Td(t,e),e=gT(n,e,1),n=cc(n,e,1),e=Si(),n!==null&&(Tm(n,1,e),Ui(n,e))}function Hn(n,e,t){if(n.tag===3)P4(n,n,t);else for(;e!==null;){if(e.tag===3){P4(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(uc===null||!uc.has(r))){n=Td(t,n),n=vT(e,n,1),e=cc(e,n,1),n=Si(),e!==null&&(Tm(e,1,n),Ui(e,n));break}}e=e.return}}function NM(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Si(),n.pingedLanes|=n.suspendedLanes&t,Tr===n&&(Br&t)===t&&(wr===4||wr===3&&(Br&130023424)===Br&&500>Zn()-Z5?Cu(n,0):J5|=t),Ui(n,e)}function FT(n,e){e===0&&(n.mode&1?(e=Ng,Ng<<=1,!(Ng&130023424)&&(Ng=4194304)):e=1);var t=Si();n=qa(n,e),n!==null&&(Tm(n,e,t),Ui(n,t))}function IM(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),FT(n,t)}function DM(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(Ue(314))}r!==null&&r.delete(e),FT(n,t)}var jT;jT=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Vi.current)ji=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return ji=!1,_M(n,e,t);ji=!!(n.flags&131072)}else ji=!1,In&&e.flags&1048576&&zP(e,g1,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;D0(n,e),n=e.pendingProps;var i=Ed(e,ui.current);fd(e,t),i=$5(null,e,r,n,i,t);var s=Y5();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Bi(r)?(s=!0,p1(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,U5(e),i.updater=Nv,e.stateNode=i,i._reactInternals=e,z_(e,r,n,t),e=q_(null,e,r,!0,s,t)):(e.tag=0,In&&s&&L5(e),yi(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(D0(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=LM(r),n=Ys(r,n),i){case 0:e=H_(null,e,r,n,t);break e;case 1:e=v4(null,e,r,n,t);break e;case 11:e=m4(null,e,r,n,t);break e;case 14:e=g4(null,e,r,Ys(r.type,n),t);break e}throw Error(Ue(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ys(r,i),H_(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ys(r,i),v4(n,e,r,i,t);case 3:e:{if(bT(e),n===null)throw Error(Ue(387));r=e.pendingProps,s=e.memoizedState,i=s.element,GP(n,e),_1(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Td(Error(Ue(423)),e),e=y4(n,e,r,t,i);break e}else if(r!==i){i=Td(Error(Ue(424)),e),e=y4(n,e,r,t,i);break e}else for(es=lc(e.stateNode.containerInfo.firstChild),rs=e,In=!0,Xs=null,t=$P(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(kd(),r===i){e=$a(n,e,t);break e}yi(n,e,r,t)}e=e.child}return e;case 5:return KP(e),n===null&&V_(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,L_(r,i)?o=null:s!==null&&L_(r,s)&&(e.flags|=32),wT(n,e),yi(n,e,o,t),e.child;case 6:return n===null&&V_(e),null;case 13:return xT(n,e,t);case 4:return z5(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Ad(e,null,r,t):yi(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ys(r,i),m4(n,e,r,i,t);case 7:return yi(n,e,e.pendingProps,t),e.child;case 8:return yi(n,e,e.pendingProps.children,t),e.child;case 12:return yi(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Sn(v1,r._currentValue),r._currentValue=o,s!==null)if(no(s.value,o)){if(s.children===i.children&&!Vi.current){e=$a(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Oa(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),B_(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ue(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),B_(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}yi(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,fd(e,t),i=Ts(i),r=r(i),e.flags|=1,yi(n,e,r,t),e.child;case 14:return r=e.type,i=Ys(r,e.pendingProps),i=Ys(r.type,i),g4(n,e,r,i,t);case 15:return yT(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ys(r,i),D0(n,e),e.tag=1,Bi(r)?(n=!0,p1(e)):n=!1,fd(e,t),mT(e,r,i),z_(e,r,i,t),q_(null,e,r,!0,n,t);case 19:return ST(n,e,t);case 22:return _T(n,e,t)}throw Error(Ue(156,e.tag))};function VT(n,e){return dP(n,e)}function RM(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ks(n,e,t,r){return new RM(n,e,t,r)}function rb(n){return n=n.prototype,!(!n||!n.isReactComponent)}function LM(n){if(typeof n=="function")return rb(n)?1:0;if(n!=null){if(n=n.$$typeof,n===x5)return 11;if(n===S5)return 14}return 2}function dc(n,e){var t=n.alternate;return t===null?(t=ks(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function M0(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")rb(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Qh:return Nu(t.children,i,s,e);case b5:o=8,i|=8;break;case d_:return n=ks(12,t,e,i|2),n.elementType=d_,n.lanes=s,n;case f_:return n=ks(13,t,e,i),n.elementType=f_,n.lanes=s,n;case p_:return n=ks(19,t,e,i),n.elementType=p_,n.lanes=s,n;case KA:return Rv(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case YA:o=10;break e;case GA:o=9;break e;case x5:o=11;break e;case S5:o=14;break e;case Vl:o=16,r=null;break e}throw Error(Ue(130,n==null?n:typeof n,""))}return e=ks(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function Nu(n,e,t,r){return n=ks(7,n,r,e),n.lanes=t,n}function Rv(n,e,t,r){return n=ks(22,n,r,e),n.elementType=KA,n.lanes=t,n.stateNode={isHidden:!1},n}function g2(n,e,t){return n=ks(6,n,null,e),n.lanes=t,n}function v2(n,e,t){return e=ks(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function MM(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xy(0),this.expirationTimes=Xy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xy(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ib(n,e,t,r,i,s,o,a,l){return n=new MM(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ks(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},U5(s),n}function OM(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Kh,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function BT(n){if(!n)return Ec;n=n._reactInternals;e:{if(ih(n)!==n||n.tag!==1)throw Error(Ue(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Bi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ue(171))}if(n.tag===1){var t=n.type;if(Bi(t))return BP(n,t,e)}return e}function UT(n,e,t,r,i,s,o,a,l){return n=ib(t,r,!0,n,i,s,o,a,l),n.context=BT(null),t=n.current,r=Si(),i=hc(t),s=Oa(r,i),s.callback=e??null,cc(t,s,i),n.current.lanes=i,Tm(n,i,r),Ui(n,r),n}function Lv(n,e,t,r){var i=e.current,s=Si(),o=hc(i);return t=BT(t),e.context===null?e.context=t:e.pendingContext=t,e=Oa(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=cc(i,e,o),n!==null&&(eo(n,i,o,s),C0(n,i,o)),o}function P1(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function T4(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function sb(n,e){T4(n,e),(n=n.alternate)&&T4(n,e)}function FM(){return null}var zT=typeof reportError=="function"?reportError:function(n){console.error(n)};function ob(n){this._internalRoot=n}Mv.prototype.render=ob.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Ue(409));Lv(n,e,null,null)};Mv.prototype.unmount=ob.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;$u(function(){Lv(null,n,null,null)}),e[Ha]=null}};function Mv(n){this._internalRoot=n}Mv.prototype.unstable_scheduleHydration=function(n){if(n){var e=_P();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Ul.length&&e!==0&&e<Ul[t].priority;t++);Ul.splice(t,0,n),t===0&&bP(n)}};function ab(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Ov(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function C4(){}function jM(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=P1(o);s.call(c)}}var o=UT(e,r,n,0,null,!1,!1,"",C4);return n._reactRootContainer=o,n[Ha]=o.current,qp(n.nodeType===8?n.parentNode:n),$u(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=P1(l);a.call(c)}}var l=ib(n,0,!1,null,null,!1,!1,"",C4);return n._reactRootContainer=l,n[Ha]=l.current,qp(n.nodeType===8?n.parentNode:n),$u(function(){Lv(e,l,t,r)}),l}function Fv(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=P1(o);a.call(l)}}Lv(e,o,n,i)}else o=jM(t,e,n,i,r);return P1(o)}vP=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Qf(e.pendingLanes);t!==0&&(A5(e,t|1),Ui(e,Zn()),!(Ht&6)&&(Cd=Zn()+500,Oc()))}break;case 13:$u(function(){var r=qa(n,1);if(r!==null){var i=Si();eo(r,n,1,i)}}),sb(n,1)}};P5=function(n){if(n.tag===13){var e=qa(n,134217728);if(e!==null){var t=Si();eo(e,n,134217728,t)}sb(n,134217728)}};yP=function(n){if(n.tag===13){var e=hc(n),t=qa(n,e);if(t!==null){var r=Si();eo(t,n,e,r)}sb(n,e)}};_P=function(){return un};wP=function(n,e){var t=un;try{return un=n,e()}finally{un=t}};E_=function(n,e,t){switch(e){case"input":if(v_(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=Pv(r);if(!i)throw Error(Ue(90));XA(r),v_(r,i)}}}break;case"textarea":ZA(n,t);break;case"select":e=t.value,e!=null&&cd(n,!!t.multiple,e,!1)}};oP=eb;aP=$u;var VM={usingClientEntryPoint:!1,Events:[Nm,ed,Pv,iP,sP,eb]},Mf={findFiberByHostInstance:_u,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BM={bundleType:Mf.bundleType,version:Mf.version,rendererPackageName:Mf.rendererPackageName,rendererConfig:Mf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:el.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=uP(n),n===null?null:n.stateNode},findFiberByHostInstance:Mf.findFiberByHostInstance||FM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ug=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ug.isDisabled&&Ug.supportsFiber)try{Sv=Ug.inject(BM),jo=Ug}catch{}}as.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VM;as.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ab(e))throw Error(Ue(200));return OM(n,e,null,t)};as.createRoot=function(n,e){if(!ab(n))throw Error(Ue(299));var t=!1,r="",i=zT;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ib(n,1,!1,null,null,t,!1,r,i),n[Ha]=e.current,qp(n.nodeType===8?n.parentNode:n),new ob(e)};as.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Ue(188)):(n=Object.keys(n).join(","),Error(Ue(268,n)));return n=uP(e),n=n===null?null:n.stateNode,n};as.flushSync=function(n){return $u(n)};as.hydrate=function(n,e,t){if(!Ov(e))throw Error(Ue(200));return Fv(null,n,e,!0,t)};as.hydrateRoot=function(n,e,t){if(!ab(n))throw Error(Ue(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=zT;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=UT(e,null,n,1,t??null,i,!1,s,o),n[Ha]=e.current,qp(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new Mv(e)};as.render=function(n,e,t){if(!Ov(e))throw Error(Ue(200));return Fv(null,n,e,!1,t)};as.unmountComponentAtNode=function(n){if(!Ov(n))throw Error(Ue(40));return n._reactRootContainer?($u(function(){Fv(null,null,n,!1,function(){n._reactRootContainer=null,n[Ha]=null})}),!0):!1};as.unstable_batchedUpdates=eb;as.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!Ov(t))throw Error(Ue(200));if(n==null||n._reactInternals===void 0)throw Error(Ue(38));return Fv(n,e,t,!1,r)};as.version="18.3.1-next-f1338f8080-20240426";function WT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(WT)}catch(n){console.error(n)}}WT(),WA.exports=as;var lb=WA.exports;const UM=d5(lb);var N4=lb;u_.createRoot=N4.createRoot,u_.hydrateRoot=N4.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function em(){return em=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},em.apply(this,arguments)}var Jl;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Jl||(Jl={}));const I4="popstate";function zM(n){n===void 0&&(n={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return rw("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:T1(i)}return HM(e,t,null,n)}function On(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function HT(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function WM(){return Math.random().toString(36).substr(2,8)}function D4(n,e){return{usr:n.state,key:n.key,idx:e}}function rw(n,e,t,r){return t===void 0&&(t=null),em({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Kd(e):e,{state:t,key:e&&e.key||r||WM()})}function T1(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Kd(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function HM(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Jl.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(em({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=Jl.Pop;let x=u(),_=x==null?null:x-c;c=x,l&&l({action:a,location:w.location,delta:_})}function d(x,_){a=Jl.Push;let b=rw(w.location,x,_);c=u()+1;let E=D4(b,c),R=w.createHref(b);try{o.pushState(E,"",R)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(R)}s&&l&&l({action:a,location:w.location,delta:1})}function f(x,_){a=Jl.Replace;let b=rw(w.location,x,_);c=u();let E=D4(b,c),R=w.createHref(b);o.replaceState(E,"",R),s&&l&&l({action:a,location:w.location,delta:0})}function g(x){let _=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof x=="string"?x:T1(x);return b=b.replace(/ $/,"%20"),On(_,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,_)}let w={get action(){return a},get location(){return n(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(I4,h),l=x,()=>{i.removeEventListener(I4,h),l=null}},createHref(x){return e(i,x)},createURL:g,encodeLocation(x){let _=g(x);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:d,replace:f,go(x){return o.go(x)}};return w}var R4;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(R4||(R4={}));function qM(n,e,t){return t===void 0&&(t="/"),$M(n,e,t)}function $M(n,e,t,r){let i=typeof e=="string"?Kd(e):e,s=Nd(i.pathname||"/",t);if(s==null)return null;let o=qT(n);YM(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=iO(s);a=nO(o[l],c)}return a}function qT(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(On(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=fc([r,l.relativePath]),u=t.concat(l);s.children&&s.children.length>0&&(On(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),qT(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:eO(c,s.index),routesMeta:u})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of $T(s.path))i(s,o,l)}),e}function $T(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=$T(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function YM(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:tO(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const GM=/^:[\w-]+$/,KM=3,QM=2,XM=1,JM=10,ZM=-2,L4=n=>n==="*";function eO(n,e){let t=n.split("/"),r=t.length;return t.some(L4)&&(r+=ZM),e&&(r+=QM),t.filter(i=>!L4(i)).reduce((i,s)=>i+(GM.test(s)?KM:s===""?XM:JM),r)}function tO(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function nO(n,e,t){let{routesMeta:r}=n,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",h=iw({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),d=l.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:fc([s,h.pathname]),pathnameBase:lO(fc([s,h.pathnameBase])),route:d}),h.pathnameBase!=="/"&&(s=fc([s,h.pathnameBase]))}return o}function iw(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=rO(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,h)=>{let{paramName:d,isOptional:f}=u;if(d==="*"){let w=a[h]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const g=a[h];return f&&!g?c[d]=void 0:c[d]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:n}}function rO(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),HT(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function iO(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return HT(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Nd(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function sO(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Kd(n):n;return{pathname:t?t.startsWith("/")?t:oO(t,e):e,search:cO(r),hash:uO(i)}}function oO(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function y2(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function aO(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function cb(n,e){let t=aO(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function ub(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=Kd(n):(i=em({},n),On(!i.pathname||!i.pathname.includes("?"),y2("?","pathname","search",i)),On(!i.pathname||!i.pathname.includes("#"),y2("#","pathname","hash",i)),On(!i.search||!i.search.includes("#"),y2("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=t;else{let h=e.length-1;if(!r&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h-=1;i.pathname=d.join("/")}a=h>=0?e[h]:"/"}let l=sO(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const fc=n=>n.join("/").replace(/\/\/+/g,"/"),lO=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),cO=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,uO=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function hO(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const YT=["post","put","patch","delete"];new Set(YT);const dO=["get",...YT];new Set(dO);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tm(){return tm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},tm.apply(this,arguments)}const jv=ee.createContext(null),GT=ee.createContext(null),tl=ee.createContext(null),Vv=ee.createContext(null),Jo=ee.createContext({outlet:null,matches:[],isDataRoute:!1}),KT=ee.createContext(null);function fO(n,e){let{relative:t}=e===void 0?{}:e;Qd()||On(!1);let{basename:r,navigator:i}=ee.useContext(tl),{hash:s,pathname:o,search:a}=Bv(n,{relative:t}),l=o;return r!=="/"&&(l=o==="/"?r:fc([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Qd(){return ee.useContext(Vv)!=null}function Xd(){return Qd()||On(!1),ee.useContext(Vv).location}function QT(n){ee.useContext(tl).static||ee.useLayoutEffect(n)}function Fc(){let{isDataRoute:n}=ee.useContext(Jo);return n?CO():pO()}function pO(){Qd()||On(!1);let n=ee.useContext(jv),{basename:e,future:t,navigator:r}=ee.useContext(tl),{matches:i}=ee.useContext(Jo),{pathname:s}=Xd(),o=JSON.stringify(cb(i,t.v7_relativeSplatPath)),a=ee.useRef(!1);return QT(()=>{a.current=!0}),ee.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=ub(c,JSON.parse(o),s,u.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:fc([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,o,s,n])}const mO=ee.createContext(null);function gO(n){let e=ee.useContext(Jo).outlet;return e&&ee.createElement(mO.Provider,{value:n},e)}function vO(){let{matches:n}=ee.useContext(Jo),e=n[n.length-1];return e?e.params:{}}function Bv(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=ee.useContext(tl),{matches:i}=ee.useContext(Jo),{pathname:s}=Xd(),o=JSON.stringify(cb(i,r.v7_relativeSplatPath));return ee.useMemo(()=>ub(n,JSON.parse(o),s,t==="path"),[n,o,s,t])}function yO(n,e){return _O(n,e)}function _O(n,e,t,r){Qd()||On(!1);let{navigator:i}=ee.useContext(tl),{matches:s}=ee.useContext(Jo),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Xd(),u;if(e){var h;let x=typeof e=="string"?Kd(e):e;l==="/"||(h=x.pathname)!=null&&h.startsWith(l)||On(!1),u=x}else u=c;let d=u.pathname||"/",f=d;if(l!=="/"){let x=l.replace(/^\//,"").split("/");f="/"+d.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=qM(n,{pathname:f}),w=EO(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:fc([l,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:fc([l,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,t,r);return e&&w?ee.createElement(Vv.Provider,{value:{location:tm({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Jl.Pop}},w):w}function wO(){let n=TO(),e=hO(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ee.createElement(ee.Fragment,null,ee.createElement("h2",null,"Unexpected Application Error!"),ee.createElement("h3",{style:{fontStyle:"italic"}},e),t?ee.createElement("pre",{style:i},t):null,null)}const bO=ee.createElement(wO,null);class xO extends ee.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?ee.createElement(Jo.Provider,{value:this.props.routeContext},ee.createElement(KT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function SO(n){let{routeContext:e,match:t,children:r}=n,i=ee.useContext(jv);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),ee.createElement(Jo.Provider,{value:e},r)}function EO(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var s;if(!t)return null;if(t.errors)n=t.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=(i=t)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||On(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(t&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:d,errors:f}=t,g=h.route.loader&&d[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||g){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,h,d)=>{let f,g=!1,w=null,x=null;t&&(f=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||bO,l&&(c<0&&d===0?(NO("route-fallback"),g=!0,x=null):c===d&&(g=!0,x=h.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,d+1)),b=()=>{let E;return f?E=w:g?E=x:h.route.Component?E=ee.createElement(h.route.Component,null):h.route.element?E=h.route.element:E=u,ee.createElement(SO,{match:h,routeContext:{outlet:u,matches:_,isDataRoute:t!=null},children:E})};return t&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?ee.createElement(xO,{location:t.location,revalidation:t.revalidation,component:w,error:f,children:b(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):b()},null)}var XT=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(XT||{}),JT=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(JT||{});function kO(n){let e=ee.useContext(jv);return e||On(!1),e}function AO(n){let e=ee.useContext(GT);return e||On(!1),e}function PO(n){let e=ee.useContext(Jo);return e||On(!1),e}function ZT(n){let e=PO(),t=e.matches[e.matches.length-1];return t.route.id||On(!1),t.route.id}function TO(){var n;let e=ee.useContext(KT),t=AO(),r=ZT();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function CO(){let{router:n}=kO(XT.UseNavigateStable),e=ZT(JT.UseNavigateStable),t=ee.useRef(!1);return QT(()=>{t.current=!0}),ee.useCallback(function(i,s){s===void 0&&(s={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,tm({fromRouteId:e},s)))},[n,e])}const M4={};function NO(n,e,t){M4[n]||(M4[n]=!0)}function IO(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function sw(n){let{to:e,replace:t,state:r,relative:i}=n;Qd()||On(!1);let{future:s,static:o}=ee.useContext(tl),{matches:a}=ee.useContext(Jo),{pathname:l}=Xd(),c=Fc(),u=ub(e,cb(a,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(u);return ee.useEffect(()=>c(JSON.parse(h),{replace:t,state:r,relative:i}),[c,h,i,t,r]),null}function DO(n){return gO(n.context)}function Mi(n){On(!1)}function RO(n){let{basename:e="/",children:t=null,location:r,navigationType:i=Jl.Pop,navigator:s,static:o=!1,future:a}=n;Qd()&&On(!1);let l=e.replace(/^\/*/,"/"),c=ee.useMemo(()=>({basename:l,navigator:s,static:o,future:tm({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Kd(r));let{pathname:u="/",search:h="",hash:d="",state:f=null,key:g="default"}=r,w=ee.useMemo(()=>{let x=Nd(u,l);return x==null?null:{location:{pathname:x,search:h,hash:d,state:f,key:g},navigationType:i}},[l,u,h,d,f,g,i]);return w==null?null:ee.createElement(tl.Provider,{value:c},ee.createElement(Vv.Provider,{children:t,value:w}))}function LO(n){let{children:e,location:t}=n;return yO(ow(e),t)}new Promise(()=>{});function ow(n,e){e===void 0&&(e=[]);let t=[];return ee.Children.forEach(n,(r,i)=>{if(!ee.isValidElement(r))return;let s=[...e,i];if(r.type===ee.Fragment){t.push.apply(t,ow(r.props.children,s));return}r.type!==Mi&&On(!1),!r.props.index||!r.props.children||On(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ow(r.props.children,s)),t.push(o)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function C1(){return C1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},C1.apply(this,arguments)}function eC(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function MO(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function OO(n,e){return n.button===0&&(!e||e==="_self")&&!MO(n)}const FO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],jO=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],VO="6";try{window.__reactRouterVersion=VO}catch{}const BO=ee.createContext({isTransitioning:!1}),UO="startTransition",O4=v5[UO];function zO(n){let{basename:e,children:t,future:r,window:i}=n,s=ee.useRef();s.current==null&&(s.current=zM({window:i,v5Compat:!0}));let o=s.current,[a,l]=ee.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=ee.useCallback(h=>{c&&O4?O4(()=>l(h)):l(h)},[l,c]);return ee.useLayoutEffect(()=>o.listen(u),[o,u]),ee.useEffect(()=>IO(r),[r]),ee.createElement(RO,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:r})}const WO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",HO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qO=ee.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:h}=e,d=eC(e,FO),{basename:f}=ee.useContext(tl),g,w=!1;if(typeof c=="string"&&HO.test(c)&&(g=c,WO))try{let E=new URL(window.location.href),R=c.startsWith("//")?new URL(E.protocol+c):new URL(c),O=Nd(R.pathname,f);R.origin===E.origin&&O!=null?c=O+R.search+R.hash:w=!0}catch{}let x=fO(c,{relative:i}),_=GO(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:h});function b(E){r&&r(E),E.defaultPrevented||_(E)}return ee.createElement("a",C1({},d,{href:g||x,onClick:w||s?r:b,ref:t,target:l}))}),$O=ee.forwardRef(function(e,t){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,viewTransition:c,children:u}=e,h=eC(e,jO),d=Bv(l,{relative:h.relative}),f=Xd(),g=ee.useContext(GT),{navigator:w,basename:x}=ee.useContext(tl),_=g!=null&&KO(d)&&c===!0,b=w.encodeLocation?w.encodeLocation(d).pathname:d.pathname,E=f.pathname,R=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;i||(E=E.toLowerCase(),R=R?R.toLowerCase():null,b=b.toLowerCase()),R&&x&&(R=Nd(R,x)||R);const O=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let V=E===b||!o&&E.startsWith(b)&&E.charAt(O)==="/",C=R!=null&&(R===b||!o&&R.startsWith(b)&&R.charAt(b.length)==="/"),y={isActive:V,isPending:C,isTransitioning:_},S=V?r:void 0,I;typeof s=="function"?I=s(y):I=[s,V?"active":null,C?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let k=typeof a=="function"?a(y):a;return ee.createElement(qO,C1({},h,{"aria-current":S,className:I,ref:t,style:k,to:l,viewTransition:c}),typeof u=="function"?u(y):u)});var aw;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(aw||(aw={}));var F4;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(F4||(F4={}));function YO(n){let e=ee.useContext(jv);return e||On(!1),e}function GO(n,e){let{target:t,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Fc(),c=Xd(),u=Bv(n,{relative:o});return ee.useCallback(h=>{if(OO(h,t)){h.preventDefault();let d=r!==void 0?r:T1(c)===T1(u);l(n,{replace:d,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,u,r,i,t,n,s,o,a])}function KO(n,e){e===void 0&&(e={});let t=ee.useContext(BO);t==null&&On(!1);let{basename:r}=YO(aw.useViewTransitionState),i=Bv(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=Nd(t.currentLocation.pathname,r)||t.currentLocation.pathname,o=Nd(t.nextLocation.pathname,r)||t.nextLocation.pathname;return iw(i.pathname,o)!=null||iw(i.pathname,s)!=null}let QO={data:""},XO=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||QO,JO=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,ZO=/\/\*[^]*?\*\/|  +/g,j4=/\n+/g,Wl=(n,e)=>{let t="",r="",i="";for(let s in n){let o=n[s];s[0]=="@"?s[1]=="i"?t=s+" "+o+";":r+=s[1]=="f"?Wl(o,s):s+"{"+Wl(o,s[1]=="k"?"":e)+"}":typeof o=="object"?r+=Wl(o,e?e.replace(/([^,])+/g,a=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Wl.p?Wl.p(s,o):s+":"+o+";")}return t+(e&&i?e+"{"+i+"}":i)+r},ba={},tC=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+tC(n[t]);return e}return n},e8=(n,e,t,r,i)=>{let s=tC(n),o=ba[s]||(ba[s]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(s));if(!ba[o]){let l=s!==n?n:(c=>{let u,h,d=[{}];for(;u=JO.exec(c.replace(ZO,""));)u[4]?d.shift():u[3]?(h=u[3].replace(j4," ").trim(),d.unshift(d[0][h]=d[0][h]||{})):d[0][u[1]]=u[2].replace(j4," ").trim();return d[0]})(n);ba[o]=Wl(i?{["@keyframes "+o]:l}:l,t?"":"."+o)}let a=t&&ba.g?ba.g:null;return t&&(ba.g=ba[o]),((l,c,u,h)=>{h?c.data=c.data.replace(h,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(ba[o],e,r,a),o},t8=(n,e,t)=>n.reduce((r,i,s)=>{let o=e[s];if(o&&o.call){let a=o(t),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":Wl(a,""):a===!1?"":a}return r+i+(o??"")},"");function Uv(n){let e=this||{},t=n.call?n(e.p):n;return e8(t.unshift?t.raw?t8(t,[].slice.call(arguments,1),e.p):t.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):t,XO(e.target),e.g,e.o,e.k)}let nC,lw,cw;Uv.bind({g:1});let Ya=Uv.bind({k:1});function n8(n,e,t,r){Wl.p=e,nC=n,lw=t,cw=r}function jc(n,e){let t=this||{};return function(){let r=arguments;function i(s,o){let a=Object.assign({},s),l=a.className||i.className;t.p=Object.assign({theme:lw&&lw()},a),t.o=/ *go\d+/.test(l),a.className=Uv.apply(t,r)+(l?" "+l:"");let c=n;return n[0]&&(c=a.as||n,delete a.as),cw&&c[0]&&cw(a),nC(c,a)}return i}}var r8=n=>typeof n=="function",N1=(n,e)=>r8(n)?n(e):n,i8=(()=>{let n=0;return()=>(++n).toString()})(),rC=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),s8=20,iC=(n,e)=>{switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,s8)};case 1:return{...n,toasts:n.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:t}=e;return iC(n,{type:n.toasts.find(s=>s.id===t.id)?1:0,toast:t});case 3:let{toastId:r}=e;return{...n,toasts:n.toasts.map(s=>s.id===r||r===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let i=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},O0=[],xu={toasts:[],pausedAt:void 0},sh=n=>{xu=iC(xu,n),O0.forEach(e=>{e(xu)})},o8={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},a8=(n={})=>{let[e,t]=ee.useState(xu),r=ee.useRef(xu);ee.useEffect(()=>(r.current!==xu&&t(xu),O0.push(t),()=>{let s=O0.indexOf(t);s>-1&&O0.splice(s,1)}),[]);let i=e.toasts.map(s=>{var o,a,l;return{...n,...n[s.type],...s,removeDelay:s.removeDelay||((o=n[s.type])==null?void 0:o.removeDelay)||(n==null?void 0:n.removeDelay),duration:s.duration||((a=n[s.type])==null?void 0:a.duration)||(n==null?void 0:n.duration)||o8[s.type],style:{...n.style,...(l=n[s.type])==null?void 0:l.style,...s.style}}});return{...e,toasts:i}},l8=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:(t==null?void 0:t.id)||i8()}),Dm=n=>(e,t)=>{let r=l8(e,n,t);return sh({type:2,toast:r}),r.id},wi=(n,e)=>Dm("blank")(n,e);wi.error=Dm("error");wi.success=Dm("success");wi.loading=Dm("loading");wi.custom=Dm("custom");wi.dismiss=n=>{sh({type:3,toastId:n})};wi.remove=n=>sh({type:4,toastId:n});wi.promise=(n,e,t)=>{let r=wi.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof n=="function"&&(n=n()),n.then(i=>{let s=e.success?N1(e.success,i):void 0;return s?wi.success(s,{id:r,...t,...t==null?void 0:t.success}):wi.dismiss(r),i}).catch(i=>{let s=e.error?N1(e.error,i):void 0;s?wi.error(s,{id:r,...t,...t==null?void 0:t.error}):wi.dismiss(r)}),n};var c8=(n,e)=>{sh({type:1,toast:{id:n,height:e}})},u8=()=>{sh({type:5,time:Date.now()})},wp=new Map,h8=1e3,d8=(n,e=h8)=>{if(wp.has(n))return;let t=setTimeout(()=>{wp.delete(n),sh({type:4,toastId:n})},e);wp.set(n,t)},f8=n=>{let{toasts:e,pausedAt:t}=a8(n);ee.useEffect(()=>{if(t)return;let s=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(l<0){a.visible&&wi.dismiss(a.id);return}return setTimeout(()=>wi.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,t]);let r=ee.useCallback(()=>{t&&sh({type:6,time:Date.now()})},[t]),i=ee.useCallback((s,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=o||{},u=e.filter(f=>(f.position||c)===(s.position||c)&&f.height),h=u.findIndex(f=>f.id===s.id),d=u.filter((f,g)=>g<h&&f.visible).length;return u.filter(f=>f.visible).slice(...a?[d+1]:[0,d]).reduce((f,g)=>f+(g.height||0)+l,0)},[e]);return ee.useEffect(()=>{e.forEach(s=>{if(s.dismissed)d8(s.id,s.removeDelay);else{let o=wp.get(s.id);o&&(clearTimeout(o),wp.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:c8,startPause:u8,endPause:r,calculateOffset:i}}},p8=Ya`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,m8=Ya`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,g8=Ya`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,v8=jc("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${p8} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${m8} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${g8} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,y8=Ya`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,_8=jc("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${y8} 1s linear infinite;
`,w8=Ya`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,b8=Ya`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,x8=jc("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${w8} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${b8} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,S8=jc("div")`
  position: absolute;
`,E8=jc("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,k8=Ya`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,A8=jc("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${k8} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,P8=({toast:n})=>{let{icon:e,type:t,iconTheme:r}=n;return e!==void 0?typeof e=="string"?ee.createElement(A8,null,e):e:t==="blank"?null:ee.createElement(E8,null,ee.createElement(_8,{...r}),t!=="loading"&&ee.createElement(S8,null,t==="error"?ee.createElement(v8,{...r}):ee.createElement(x8,{...r})))},T8=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,C8=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,N8="0%{opacity:0;} 100%{opacity:1;}",I8="0%{opacity:1;} 100%{opacity:0;}",D8=jc("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,R8=jc("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,L8=(n,e)=>{let t=n.includes("top")?1:-1,[r,i]=rC()?[N8,I8]:[T8(t),C8(t)];return{animation:e?`${Ya(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ya(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},M8=ee.memo(({toast:n,position:e,style:t,children:r})=>{let i=n.height?L8(n.position||e||"top-center",n.visible):{opacity:0},s=ee.createElement(P8,{toast:n}),o=ee.createElement(R8,{...n.ariaProps},N1(n.message,n));return ee.createElement(D8,{className:n.className,style:{...i,...t,...n.style}},typeof r=="function"?r({icon:s,message:o}):ee.createElement(ee.Fragment,null,s,o))});n8(ee.createElement);var O8=({id:n,className:e,style:t,onHeightUpdate:r,children:i})=>{let s=ee.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(n,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[n,r]);return ee.createElement("div",{ref:s,className:e,style:t},i)},F8=(n,e)=>{let t=n.includes("top"),r=t?{top:0}:{bottom:0},i=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:rC()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...r,...i}},j8=Uv`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,zg=16,sC=({reverseOrder:n,position:e="top-center",toastOptions:t,gutter:r,children:i,containerStyle:s,containerClassName:o})=>{let{toasts:a,handlers:l}=f8(t);return ee.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:zg,left:zg,right:zg,bottom:zg,pointerEvents:"none",...s},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let u=c.position||e,h=l.calculateOffset(c,{reverseOrder:n,gutter:r,defaultPosition:e}),d=F8(u,h);return ee.createElement(O8,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?j8:"",style:d},c.type==="custom"?N1(c.message,c):i?i(c):ee.createElement(M8,{toast:c,position:u}))}))},bt=wi,V4={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},V8=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],o=n[t++],a=n[t++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},aC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0,u=s>>2,h=(s&3)<<4|a>>4;let d=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(d=64)),r.push(t[u],t[h],t[d],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(oC(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):V8(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const h=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new B8;const d=s<<2|a>>4;if(r.push(d),c!==64){const f=a<<4&240|c>>2;if(r.push(f),h!==64){const g=c<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class B8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const U8=function(n){const e=oC(n);return aC.encodeByteArray(e,!0)},I1=function(n){return U8(n).replace(/\./g,"")},lC=function(n){try{return aC.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W8=()=>z8().__FIREBASE_DEFAULTS__,H8=()=>{if(typeof process>"u"||typeof V4>"u")return;const n=V4.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},q8=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&lC(n[1]);return e&&JSON.parse(e)},zv=()=>{try{return W8()||H8()||q8()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},cC=n=>{var e,t;return(t=(e=zv())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},uC=n=>{const e=cC(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},hC=()=>{var n;return(n=zv())===null||n===void 0?void 0:n.config},dC=n=>{var e;return(e=zv())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[I1(JSON.stringify(t)),I1(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Y8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hi())}function G8(){var n;const e=(n=zv())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function K8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Q8(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function X8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function J8(){const n=hi();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Z8(){return!G8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function e7(){try{return typeof indexedDB=="object"}catch{return!1}}function t7(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n7="FirebaseError";class Zo extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=n7,Object.setPrototypeOf(this,Zo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rm.prototype.create)}}class Rm{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?r7(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Zo(i,a,r)}}function r7(n,e){return n.replace(i7,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const i7=/\{\$([^}]+)}/g;function s7(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function D1(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(B4(s)&&B4(o)){if(!D1(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function B4(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Jf(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Zf(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function o7(n,e){const t=new a7(n,e);return t.subscribe.bind(t)}class a7{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");l7(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=_2),i.error===void 0&&(i.error=_2),i.complete===void 0&&(i.complete=_2);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function l7(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function _2(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(n){return n&&n._delegate?n._delegate:n}class kc{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c7{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new $8;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(h7(e))try{this.getOrInitializeService({instanceIdentifier:pu})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=pu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pu){return this.instances.has(e)}getOptions(e=pu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:u7(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=pu){return this.component?this.component.multipleInstances?e:pu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function u7(n){return n===pu?void 0:n}function h7(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d7{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new c7(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ot||(Ot={}));const f7={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},p7=Ot.INFO,m7={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},g7=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=m7[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hb{constructor(e){this.name=e,this._logLevel=p7,this._logHandler=g7,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?f7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...e),this._logHandler(this,Ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...e),this._logHandler(this,Ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...e),this._logHandler(this,Ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...e),this._logHandler(this,Ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...e),this._logHandler(this,Ot.ERROR,...e)}}const v7=(n,e)=>e.some(t=>n instanceof t);let U4,z4;function y7(){return U4||(U4=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _7(){return z4||(z4=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pC=new WeakMap,uw=new WeakMap,mC=new WeakMap,w2=new WeakMap,db=new WeakMap;function w7(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(pc(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&pC.set(t,n)}).catch(()=>{}),db.set(e,n),e}function b7(n){if(uw.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});uw.set(n,e)}let hw={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return uw.get(n);if(e==="objectStoreNames")return n.objectStoreNames||mC.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return pc(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function x7(n){hw=n(hw)}function S7(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(b2(this),e,...t);return mC.set(r,e.sort?e.sort():[e]),pc(r)}:_7().includes(n)?function(...e){return n.apply(b2(this),e),pc(pC.get(this))}:function(...e){return pc(n.apply(b2(this),e))}}function E7(n){return typeof n=="function"?S7(n):(n instanceof IDBTransaction&&b7(n),v7(n,y7())?new Proxy(n,hw):n)}function pc(n){if(n instanceof IDBRequest)return w7(n);if(w2.has(n))return w2.get(n);const e=E7(n);return e!==n&&(w2.set(n,e),db.set(e,n)),e}const b2=n=>db.get(n);function k7(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=pc(o);return r&&o.addEventListener("upgradeneeded",l=>{r(pc(o.result),l.oldVersion,l.newVersion,pc(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const A7=["get","getKey","getAll","getAllKeys","count"],P7=["put","add","delete","clear"],x2=new Map;function W4(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(x2.get(e))return x2.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=P7.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||A7.includes(t)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[t](...a),i&&l.done]))[0]};return x2.set(e,s),s}x7(n=>({...n,get:(e,t,r)=>W4(e,t)||n.get(e,t,r),has:(e,t)=>!!W4(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(C7(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function C7(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const dw="@firebase/app",H4="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga=new hb("@firebase/app"),N7="@firebase/app-compat",I7="@firebase/analytics-compat",D7="@firebase/analytics",R7="@firebase/app-check-compat",L7="@firebase/app-check",M7="@firebase/auth",O7="@firebase/auth-compat",F7="@firebase/database",j7="@firebase/data-connect",V7="@firebase/database-compat",B7="@firebase/functions",U7="@firebase/functions-compat",z7="@firebase/installations",W7="@firebase/installations-compat",H7="@firebase/messaging",q7="@firebase/messaging-compat",$7="@firebase/performance",Y7="@firebase/performance-compat",G7="@firebase/remote-config",K7="@firebase/remote-config-compat",Q7="@firebase/storage",X7="@firebase/storage-compat",J7="@firebase/firestore",Z7="@firebase/vertexai-preview",eF="@firebase/firestore-compat",tF="firebase",nF="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw="[DEFAULT]",rF={[dw]:"fire-core",[N7]:"fire-core-compat",[D7]:"fire-analytics",[I7]:"fire-analytics-compat",[L7]:"fire-app-check",[R7]:"fire-app-check-compat",[M7]:"fire-auth",[O7]:"fire-auth-compat",[F7]:"fire-rtdb",[j7]:"fire-data-connect",[V7]:"fire-rtdb-compat",[B7]:"fire-fn",[U7]:"fire-fn-compat",[z7]:"fire-iid",[W7]:"fire-iid-compat",[H7]:"fire-fcm",[q7]:"fire-fcm-compat",[$7]:"fire-perf",[Y7]:"fire-perf-compat",[G7]:"fire-rc",[K7]:"fire-rc-compat",[Q7]:"fire-gcs",[X7]:"fire-gcs-compat",[J7]:"fire-fst",[eF]:"fire-fst-compat",[Z7]:"fire-vertex","fire-js":"fire-js",[tF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm=new Map,iF=new Map,pw=new Map;function q4(n,e){try{n.container.addComponent(e)}catch(t){Ga.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Yu(n){const e=n.name;if(pw.has(e))return Ga.debug(`There were multiple attempts to register component ${e}.`),!1;pw.set(e,n);for(const t of nm.values())q4(t,n);for(const t of iF.values())q4(t,n);return!0}function Wv(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Mo(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mc=new Rm("app","Firebase",sF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new kc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh=nF;function fb(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:fw,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw mc.create("bad-app-name",{appName:String(i)});if(t||(t=hC()),!t)throw mc.create("no-options");const s=nm.get(i);if(s){if(D1(t,s.options)&&D1(r,s.config))return s;throw mc.create("duplicate-app",{appName:i})}const o=new d7(i);for(const l of pw.values())o.addComponent(l);const a=new oF(t,r,o);return nm.set(i,a),a}function Mm(n=fw){const e=nm.get(n);if(!e&&n===fw&&hC())return fb();if(!e)throw mc.create("no-app",{appName:n});return e}function aF(){return Array.from(nm.values())}function Bo(n,e,t){var r;let i=(r=rF[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ga.warn(a.join(" "));return}Yu(new kc(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lF="firebase-heartbeat-database",cF=1,rm="firebase-heartbeat-store";let S2=null;function gC(){return S2||(S2=k7(lF,cF,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(rm)}catch(t){console.warn(t)}}}}).catch(n=>{throw mc.create("idb-open",{originalErrorMessage:n.message})})),S2}async function uF(n){try{const t=(await gC()).transaction(rm),r=await t.objectStore(rm).get(vC(n));return await t.done,r}catch(e){if(e instanceof Zo)Ga.warn(e.message);else{const t=mc.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ga.warn(t.message)}}}async function $4(n,e){try{const r=(await gC()).transaction(rm,"readwrite");await r.objectStore(rm).put(e,vC(n)),await r.done}catch(t){if(t instanceof Zo)Ga.warn(t.message);else{const r=mc.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ga.warn(r.message)}}}function vC(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hF=1024,dF=30*24*60*60*1e3;class fF{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new mF(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Y4();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=dF}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ga.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Y4(),{heartbeatsToSend:r,unsentEntries:i}=pF(this._heartbeatsCache.heartbeats),s=I1(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Ga.warn(t),""}}}function Y4(){return new Date().toISOString().substring(0,10)}function pF(n,e=hF){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),G4(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),G4(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class mF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return e7()?t7().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await uF(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return $4(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return $4(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function G4(n){return I1(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gF(n){Yu(new kc("platform-logger",e=>new T7(e),"PRIVATE")),Yu(new kc("heartbeat",e=>new fF(e),"PRIVATE")),Bo(dw,H4,n),Bo(dw,H4,"esm2017"),Bo("fire-js","")}gF("");function pb(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function yC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vF=yC,_C=new Rm("auth","Firebase",yC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1=new hb("@firebase/auth");function yF(n,...e){R1.logLevel<=Ot.WARN&&R1.warn(`Auth (${oh}): ${n}`,...e)}function F0(n,...e){R1.logLevel<=Ot.ERROR&&R1.error(`Auth (${oh}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(n,...e){throw mb(n,...e)}function Uo(n,...e){return mb(n,...e)}function wC(n,e,t){const r=Object.assign(Object.assign({},vF()),{[e]:t});return new Rm("auth","Firebase",r).create(e,{appName:n.name})}function Fa(n){return wC(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mb(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return _C.create(n,...e)}function wt(n,e,...t){if(!n)throw mb(e,...t)}function Da(n){const e="INTERNAL ASSERTION FAILED: "+n;throw F0(e),new Error(e)}function Ka(n,e){n||Da(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function _F(){return K4()==="http:"||K4()==="https:"}function K4(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_F()||Q8()||"connection"in navigator)?navigator.onLine:!0}function bF(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ka(t>e,"Short delay should be less than long delay!"),this.isMobile=Y8()||X8()}get(){return wF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(n,e){Ka(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Da("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Da("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Da("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SF=new Om(3e4,6e4);function Vc(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Bc(n,e,t,r,i={}){return xC(n,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Lm(Object.assign({key:n.config.apiKey},o)).slice(1),l=await n._getAdditionalHeaders();l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode);const c=Object.assign({method:e,headers:l},s);return K8()||(c.referrerPolicy="no-referrer"),bC.fetch()(SC(n,n.config.apiHost,t,a),c)})}async function xC(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},xF),e);try{const i=new kF(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Wg(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wg(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Wg(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw Wg(n,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw wC(n,u,c);ro(n,u)}}catch(i){if(i instanceof Zo)throw i;ro(n,"network-request-failed",{message:String(i)})}}async function Fm(n,e,t,r,i={}){const s=await Bc(n,e,t,r,i);return"mfaPendingCredential"in s&&ro(n,"multi-factor-auth-required",{_serverResponse:s}),s}function SC(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?gb(n.config,i):`${n.config.apiScheme}://${i}`}function EF(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kF{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Uo(this.auth,"network-request-failed")),SF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Wg(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Uo(n,e,r);return i.customData._tokenResponse=t,i}function Q4(n){return n!==void 0&&n.enterprise!==void 0}class AF{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return EF(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function PF(n,e){return Bc(n,"GET","/v2/recaptchaConfig",Vc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TF(n,e){return Bc(n,"POST","/v1/accounts:delete",e)}async function EC(n,e){return Bc(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function CF(n,e=!1){const t=jn(n),r=await t.getIdToken(e),i=vb(r);wt(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:bp(E2(i.auth_time)),issuedAtTime:bp(E2(i.iat)),expirationTime:bp(E2(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function E2(n){return Number(n)*1e3}function vb(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return F0("JWT malformed, contained fewer than 3 sections"),null;try{const i=lC(t);return i?JSON.parse(i):(F0("Failed to decode base64 JWT payload"),null)}catch(i){return F0("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function X4(n){const e=vb(n);return wt(e,"internal-error"),wt(typeof e.exp<"u","internal-error"),wt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function im(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Zo&&NF(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function NF({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=bp(this.lastLoginAt),this.creationTime=bp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L1(n){var e;const t=n.auth,r=await n.getIdToken(),i=await im(n,EC(t,{idToken:r}));wt(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?kC(s.providerUserInfo):[],a=RF(n.providerData,o),l=n.isAnonymous,c=!(n.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new gw(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,h)}async function DF(n){const e=jn(n);await L1(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function RF(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function kC(n){return n.map(e=>{var{providerId:t}=e,r=pb(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LF(n,e){const t=await xC(n,{},async()=>{const r=Lm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=SC(n,i,"/v1/token",`key=${s}`),a=await n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",bC.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function MF(n,e){return Bc(n,"POST","/v2/accounts:revokeToken",Vc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){wt(e.idToken,"internal-error"),wt(typeof e.idToken<"u","internal-error"),wt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):X4(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){wt(e.length!==0,"internal-error");const t=X4(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(wt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await LF(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new md;return r&&(wt(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(wt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(wt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new md,this.toJSON())}_performRefresh(){return Da("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(n,e){wt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ra{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=pb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new IF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new gw(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await im(this,this.stsTokenManager.getToken(this.auth,e));return wt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return CF(this,e)}reload(){return DF(this)}_assign(e){this!==e&&(wt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ra(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await L1(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mo(this.auth.app))return Promise.reject(Fa(this.auth));const e=await this.getIdToken();return await im(this,TF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,l,c,u;const h=(r=t.displayName)!==null&&r!==void 0?r:void 0,d=(i=t.email)!==null&&i!==void 0?i:void 0,f=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=t.photoURL)!==null&&o!==void 0?o:void 0,w=(a=t.tenantId)!==null&&a!==void 0?a:void 0,x=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=t.createdAt)!==null&&c!==void 0?c:void 0,b=(u=t.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:E,emailVerified:R,isAnonymous:O,providerData:V,stsTokenManager:C}=t;wt(E&&C,e,"internal-error");const y=md.fromJSON(this.name,C);wt(typeof E=="string",e,"internal-error"),Ll(h,e.name),Ll(d,e.name),wt(typeof R=="boolean",e,"internal-error"),wt(typeof O=="boolean",e,"internal-error"),Ll(f,e.name),Ll(g,e.name),Ll(w,e.name),Ll(x,e.name),Ll(_,e.name),Ll(b,e.name);const S=new Ra({uid:E,auth:e,email:d,emailVerified:R,displayName:h,isAnonymous:O,photoURL:g,phoneNumber:f,tenantId:w,stsTokenManager:y,createdAt:_,lastLoginAt:b});return V&&Array.isArray(V)&&(S.providerData=V.map(I=>Object.assign({},I))),x&&(S._redirectEventId=x),S}static async _fromIdTokenResponse(e,t,r=!1){const i=new md;i.updateFromServerResponse(t);const s=new Ra({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await L1(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];wt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?kC(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new md;a.updateFromIdToken(r);const l=new Ra({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new gw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4=new Map;function La(n){Ka(n instanceof Function,"Expected a class definition");let e=J4.get(n);return e?(Ka(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,J4.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}AC.type="NONE";const Z4=AC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(n,e,t){return`firebase:${n}:${e}:${t}`}class gd{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=j0(this.userKey,i.apiKey,s),this.fullPersistenceKey=j0("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ra._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new gd(La(Z4),e,r);const i=(await Promise.all(t.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||La(Z4);const o=j0(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=await c._get(o);if(u){const h=Ra._fromJSON(e,u);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new gd(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(t.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new gd(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(DC(e))return"Blackberry";if(RC(e))return"Webos";if(TC(e))return"Safari";if((e.includes("chrome/")||CC(e))&&!e.includes("edge/"))return"Chrome";if(IC(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function PC(n=hi()){return/firefox\//i.test(n)}function TC(n=hi()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function CC(n=hi()){return/crios\//i.test(n)}function NC(n=hi()){return/iemobile/i.test(n)}function IC(n=hi()){return/android/i.test(n)}function DC(n=hi()){return/blackberry/i.test(n)}function RC(n=hi()){return/webos/i.test(n)}function yb(n=hi()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function OF(n=hi()){var e;return yb(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function FF(){return J8()&&document.documentMode===10}function LC(n=hi()){return yb(n)||IC(n)||RC(n)||DC(n)||/windows phone/i.test(n)||NC(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(n,e=[]){let t;switch(n){case"Browser":t=eE(hi());break;case"Worker":t=`${eE(hi())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${oh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VF(n,e={}){return Bc(n,"GET","/v2/passwordPolicy",Vc(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BF=6;class UF{constructor(e){var t,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:BF,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tE(this),this.idTokenSubscription=new tE(this),this.beforeStateQueue=new jF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_C,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=La(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await gd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await EC(this,{idToken:e}),r=await Ra._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Mo(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return wt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await L1(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mo(this.app))return Promise.reject(Fa(this));const t=e?jn(e):null;return t&&wt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&wt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mo(this.app)?Promise.reject(Fa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mo(this.app)?Promise.reject(Fa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(La(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await VF(this),t=new UF(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Rm("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await MF(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&La(e)||this._popupRedirectResolver;wt(t,this,"argument-error"),this.redirectPersistenceManager=await gd.create(this,[La(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(wt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){const l=e.addObserver(t,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(t);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&yF(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ah(n){return jn(n)}class tE{constructor(e){this.auth=e,this.observer=null,this.addObserver=o7(t=>this.observer=t)}get next(){return wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WF(n){Hv=n}function OC(n){return Hv.loadJS(n)}function HF(){return Hv.recaptchaEnterpriseScript}function qF(){return Hv.gapiScript}function $F(n){return`__${n}${Math.floor(Math.random()*1e6)}`}const YF="recaptcha-enterprise",GF="NO_RECAPTCHA";class KF{constructor(e){this.type=YF,this.auth=ah(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{PF(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new AF(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;Q4(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(GF)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!t&&Q4(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=HF();l.length!==0&&(l+=a),OC(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function nE(n,e,t,r=!1){const i=new KF(n);let s;try{s=await i.verify(t)}catch{s=await i.verify(t,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function vw(n,e,t,r){var i;if(!((i=n._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await nE(n,e,t,t==="getOobCode");return r(n,s)}else return r(n,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await nE(n,e,t,t==="getOobCode");return r(n,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QF(n,e){const t=Wv(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(D1(s,e??{}))return i;ro(i,"already-initialized")}return t.initialize({options:e})}function XF(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(La);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function JF(n,e,t){const r=ah(n);wt(r._canInitEmulator,r,"emulator-config-failed"),wt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=FC(e),{host:o,port:a}=ZF(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),ej()}function FC(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function ZF(n){const e=FC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:rE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:rE(o)}}}function rE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function ej(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Da("not implemented")}_getIdTokenResponse(e){return Da("not implemented")}_linkToIdToken(e,t){return Da("not implemented")}_getReauthenticationResolver(e){return Da("not implemented")}}async function tj(n,e){return Bc(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nj(n,e){return Fm(n,"POST","/v1/accounts:signInWithPassword",Vc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rj(n,e){return Fm(n,"POST","/v1/accounts:signInWithEmailLink",Vc(n,e))}async function ij(n,e){return Fm(n,"POST","/v1/accounts:signInWithEmailLink",Vc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm extends _b{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new sm(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new sm(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vw(e,t,"signInWithPassword",nj);case"emailLink":return rj(e,{email:this._email,oobCode:this._password});default:ro(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vw(e,r,"signUpPassword",tj);case"emailLink":return ij(e,{idToken:t,email:this._email,oobCode:this._password});default:ro(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vd(n,e){return Fm(n,"POST","/v1/accounts:signInWithIdp",Vc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj="http://localhost";class Gu extends _b{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Gu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ro("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=pb(t,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Gu(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return vd(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,vd(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,vd(e,t)}buildRequest(){const e={requestUri:sj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Lm(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oj(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function aj(n){const e=Jf(Zf(n)).link,t=e?Jf(Zf(e)).deep_link_id:null,r=Jf(Zf(n)).deep_link_id;return(r?Jf(Zf(r)).link:null)||r||t||e||n}class wb{constructor(e){var t,r,i,s,o,a;const l=Jf(Zf(e)),c=(t=l.apiKey)!==null&&t!==void 0?t:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,h=oj((i=l.mode)!==null&&i!==void 0?i:null);wt(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const t=aj(e);try{return new wb(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(){this.providerId=Jd.PROVIDER_ID}static credential(e,t){return sm._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=wb.parseLink(t);return wt(r,"argument-error"),sm._fromEmailAndCode(e,r.code,r.tenantId)}}Jd.PROVIDER_ID="password";Jd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Jd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm extends jC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl extends jm{constructor(){super("facebook.com")}static credential(e){return Gu._fromParams({providerId:Hl.PROVIDER_ID,signInMethod:Hl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hl.credentialFromTaggedObject(e)}static credentialFromError(e){return Hl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hl.credential(e.oauthAccessToken)}catch{return null}}}Hl.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql extends jm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Gu._fromParams({providerId:ql.PROVIDER_ID,signInMethod:ql.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ql.credentialFromTaggedObject(e)}static credentialFromError(e){return ql.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ql.credential(t,r)}catch{return null}}}ql.GOOGLE_SIGN_IN_METHOD="google.com";ql.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l extends jm{constructor(){super("github.com")}static credential(e){return Gu._fromParams({providerId:$l.PROVIDER_ID,signInMethod:$l.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $l.credentialFromTaggedObject(e)}static credentialFromError(e){return $l.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $l.credential(e.oauthAccessToken)}catch{return null}}}$l.GITHUB_SIGN_IN_METHOD="github.com";$l.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl extends jm{constructor(){super("twitter.com")}static credential(e,t){return Gu._fromParams({providerId:Yl.PROVIDER_ID,signInMethod:Yl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Yl.credentialFromTaggedObject(e)}static credentialFromError(e){return Yl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Yl.credential(t,r)}catch{return null}}}Yl.TWITTER_SIGN_IN_METHOD="twitter.com";Yl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lj(n,e){return Fm(n,"POST","/v1/accounts:signUp",Vc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await Ra._fromIdTokenResponse(e,r,i),o=iE(r);return new Ku({user:s,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=iE(r);return new Ku({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function iE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1 extends Zo{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,M1.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new M1(e,t,r,i)}}function VC(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?M1._fromErrorAndOperation(n,s,e,r):s})}async function cj(n,e,t=!1){const r=await im(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ku._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uj(n,e,t=!1){const{auth:r}=n;if(Mo(r.app))return Promise.reject(Fa(r));const i="reauthenticate";try{const s=await im(n,VC(r,i,e,n),t);wt(s.idToken,r,"internal-error");const o=vb(s.idToken);wt(o,r,"internal-error");const{sub:a}=o;return wt(n.uid===a,r,"user-mismatch"),Ku._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ro(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BC(n,e,t=!1){if(Mo(n.app))return Promise.reject(Fa(n));const r="signIn",i=await VC(n,r,e),s=await Ku._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function hj(n,e){return BC(ah(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UC(n){const e=ah(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function dj(n,e,t){if(Mo(n.app))return Promise.reject(Fa(n));const r=ah(n),o=await vw(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",lj).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&UC(n),l}),a=await Ku._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function fj(n,e,t){return Mo(n.app)?Promise.reject(Fa(n)):hj(jn(n),Jd.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&UC(n),r})}function pj(n,e,t,r){return jn(n).onIdTokenChanged(e,t,r)}function mj(n,e,t){return jn(n).beforeAuthStateChanged(e,t)}function gj(n,e,t,r){return jn(n).onAuthStateChanged(e,t,r)}function vj(n){return jn(n).signOut()}const O1="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(O1,"1"),this.storage.removeItem(O1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj=1e3,_j=10;class WC extends zC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=LC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!t&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);FF()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,_j):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},yj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}WC.type="LOCAL";const wj=WC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC extends zC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}HC.type="SESSION";const qC=HC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bj(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new qv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(t.origin,s)),l=await bj(a);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=bb("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const d=h;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(){return window}function Sj(n){zo().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(){return typeof zo().WorkerGlobalScope<"u"&&typeof zo().importScripts=="function"}async function Ej(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kj(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Aj(){return $C()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC="firebaseLocalStorageDb",Pj=1,F1="firebaseLocalStorage",GC="fbase_key";class Vm{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function $v(n,e){return n.transaction([F1],e?"readwrite":"readonly").objectStore(F1)}function Tj(){const n=indexedDB.deleteDatabase(YC);return new Vm(n).toPromise()}function yw(){const n=indexedDB.open(YC,Pj);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(F1,{keyPath:GC})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(F1)?e(r):(r.close(),await Tj(),e(await yw()))})})}async function sE(n,e,t){const r=$v(n,!0).put({[GC]:e,value:t});return new Vm(r).toPromise()}async function Cj(n,e){const t=$v(n,!1).get(e),r=await new Vm(t).toPromise();return r===void 0?null:r.value}function oE(n,e){const t=$v(n,!0).delete(e);return new Vm(t).toPromise()}const Nj=800,Ij=3;class KC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yw(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>Ij)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $C()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qv._getInstance(Aj()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Ej(),!this.activeServiceWorker)return;this.sender=new xj(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||kj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yw();return await sE(e,O1,"1"),await oE(e,O1),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>sE(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>Cj(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>oE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=$v(i,!1).getAll();return new Vm(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Nj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}KC.type="LOCAL";const Dj=KC;new Om(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rj(n,e){return e?La(e):(wt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb extends _b{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vd(e,this._buildIdpRequest())}_linkToIdToken(e,t){return vd(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return vd(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Lj(n){return BC(n.auth,new xb(n),n.bypassAuthState)}function Mj(n){const{auth:e,user:t}=n;return wt(t,e,"internal-error"),uj(t,new xb(n),n.bypassAuthState)}async function Oj(n){const{auth:e,user:t}=n;return wt(t,e,"internal-error"),cj(t,new xb(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Lj;case"linkViaPopup":case"linkViaRedirect":return Oj;case"reauthViaPopup":case"reauthViaRedirect":return Mj;default:ro(this.auth,"internal-error")}}resolve(e){Ka(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ka(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj=new Om(2e3,1e4);class ad extends QC{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ad.currentPopupAction&&ad.currentPopupAction.cancel(),ad.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return wt(e,this.auth,"internal-error"),e}async onExecution(){Ka(this.filter.length===1,"Popup operations only handle one event");const e=bb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Uo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Uo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ad.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Uo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Fj.get())};e()}}ad.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj="pendingRedirect",V0=new Map;class Vj extends QC{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=V0.get(this.auth._key());if(!e){try{const r=await Bj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}V0.set(this.auth._key(),e)}return this.bypassAuthState||V0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Bj(n,e){const t=Wj(e),r=zj(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function Uj(n,e){V0.set(n._key(),e)}function zj(n){return La(n._redirectPersistence)}function Wj(n){return j0(jj,n.config.apiKey,n.name)}async function Hj(n,e,t=!1){if(Mo(n.app))return Promise.reject(Fa(n));const r=ah(n),i=Rj(r,e),o=await new Vj(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qj=10*60*1e3;class $j{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Yj(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!XC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Uo(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qj&&this.cachedEventUids.clear(),this.cachedEventUids.has(aE(e))}saveEventToCache(e){this.cachedEventUids.add(aE(e)),this.lastProcessedEventTime=Date.now()}}function aE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function XC({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Yj(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XC(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gj(n,e={}){return Bc(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qj=/^https?/;async function Xj(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Gj(n);for(const t of e)try{if(Jj(t))return}catch{}ro(n,"unauthorized-domain")}function Jj(n){const e=mw(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!Qj.test(t))return!1;if(Kj.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj=new Om(3e4,6e4);function lE(){const n=zo().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function e9(n){return new Promise((e,t)=>{var r,i,s;function o(){lE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lE(),t(Uo(n,"network-request-failed"))},timeout:Zj.get()})}if(!((i=(r=zo().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=zo().gapi)===null||s===void 0)&&s.load)o();else{const a=$F("iframefcb");return zo()[a]=()=>{gapi.load?o():t(Uo(n,"network-request-failed"))},OC(`${qF()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw B0=null,e})}let B0=null;function t9(n){return B0=B0||e9(n),B0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n9=new Om(5e3,15e3),r9="__/auth/iframe",i9="emulator/auth/iframe",s9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},o9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function a9(n){const e=n.config;wt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?gb(e,i9):`https://${n.config.authDomain}/${r9}`,r={apiKey:e.apiKey,appName:n.name,v:oh},i=o9.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Lm(r).slice(1)}`}async function l9(n){const e=await t9(n),t=zo().gapi;return wt(t,n,"internal-error"),e.open({where:document.body,url:a9(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:s9,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Uo(n,"network-request-failed"),a=zo().setTimeout(()=>{s(o)},n9.get());function l(){zo().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},u9=500,h9=600,d9="_blank",f9="http://localhost";class cE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function p9(n,e,t,r=u9,i=h9){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},c9),{width:r.toString(),height:i.toString(),top:s,left:o}),c=hi().toLowerCase();t&&(a=CC(c)?d9:t),PC(c)&&(e=e||f9,l.scrollbars="yes");const u=Object.entries(l).reduce((d,[f,g])=>`${d}${f}=${g},`,"");if(OF(c)&&a!=="_self")return m9(e||"",a),new cE(null);const h=window.open(e||"",a,u);wt(h,n,"popup-blocked");try{h.focus()}catch{}return new cE(h)}function m9(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g9="__/auth/handler",v9="emulator/auth/handler",y9=encodeURIComponent("fac");async function uE(n,e,t,r,i,s){wt(n.config.authDomain,n,"auth-domain-config-required"),wt(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:oh,eventId:i};if(e instanceof jC){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",s7(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries({}))o[u]=h}if(e instanceof jm){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await n._getAppCheckToken(),c=l?`#${y9}=${encodeURIComponent(l)}`:"";return`${_9(n)}?${Lm(a).slice(1)}${c}`}function _9({config:n}){return n.emulator?gb(n,v9):`https://${n.authDomain}/${g9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2="webStorageSupport";class w9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qC,this._completeRedirectFn=Hj,this._overrideRedirectResult=Uj}async _openPopup(e,t,r,i){var s;Ka((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await uE(e,t,r,mw(),i);return p9(e,o,bb())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await uE(e,t,r,mw(),i);return Sj(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Ka(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await l9(e),r=new $j(e);return t.register("authEvent",i=>(wt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(k2,{type:k2},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[k2];o!==void 0&&t(!!o),ro(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Xj(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return LC()||TC()||yb()}}const b9=w9;var hE="@firebase/auth",dE="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S9(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function E9(n){Yu(new kc("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;wt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MC(n)},c=new zF(r,i,s,l);return XF(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Yu(new kc("auth-internal",e=>{const t=ah(e.getProvider("auth").getImmediate());return(r=>new x9(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bo(hE,dE,S9(n)),Bo(hE,dE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k9=5*60,A9=dC("authIdTokenMaxAge")||k9;let fE=null;const P9=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>A9)return;const i=t==null?void 0:t.token;fE!==i&&(fE=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function JC(n=Mm()){const e=Wv(n,"auth");if(e.isInitialized())return e.getImmediate();const t=QF(n,{popupRedirectResolver:b9,persistence:[Dj,wj,qC]}),r=dC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=P9(s.toString());mj(t,o,()=>o(t.currentUser)),pj(t,a=>o(a))}}const i=cC("auth");return i&&JF(t,`http://${i}`),t}function T9(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}WF({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=Uo("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",T9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});E9("Browser");var C9="firebase",N9="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bo(C9,N9,"app");var pE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Iu,ZC;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,y){function S(){}S.prototype=y.prototype,C.D=y.prototype,C.prototype=new S,C.prototype.constructor=C,C.C=function(I,k,P){for(var L=Array(arguments.length-2),$=2;$<arguments.length;$++)L[$-2]=arguments[$];return y.prototype[k].apply(I,L)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,y,S){S||(S=0);var I=Array(16);if(typeof y=="string")for(var k=0;16>k;++k)I[k]=y.charCodeAt(S++)|y.charCodeAt(S++)<<8|y.charCodeAt(S++)<<16|y.charCodeAt(S++)<<24;else for(k=0;16>k;++k)I[k]=y[S++]|y[S++]<<8|y[S++]<<16|y[S++]<<24;y=C.g[0],S=C.g[1],k=C.g[2];var P=C.g[3],L=y+(P^S&(k^P))+I[0]+3614090360&4294967295;y=S+(L<<7&4294967295|L>>>25),L=P+(k^y&(S^k))+I[1]+3905402710&4294967295,P=y+(L<<12&4294967295|L>>>20),L=k+(S^P&(y^S))+I[2]+606105819&4294967295,k=P+(L<<17&4294967295|L>>>15),L=S+(y^k&(P^y))+I[3]+3250441966&4294967295,S=k+(L<<22&4294967295|L>>>10),L=y+(P^S&(k^P))+I[4]+4118548399&4294967295,y=S+(L<<7&4294967295|L>>>25),L=P+(k^y&(S^k))+I[5]+1200080426&4294967295,P=y+(L<<12&4294967295|L>>>20),L=k+(S^P&(y^S))+I[6]+2821735955&4294967295,k=P+(L<<17&4294967295|L>>>15),L=S+(y^k&(P^y))+I[7]+4249261313&4294967295,S=k+(L<<22&4294967295|L>>>10),L=y+(P^S&(k^P))+I[8]+1770035416&4294967295,y=S+(L<<7&4294967295|L>>>25),L=P+(k^y&(S^k))+I[9]+2336552879&4294967295,P=y+(L<<12&4294967295|L>>>20),L=k+(S^P&(y^S))+I[10]+4294925233&4294967295,k=P+(L<<17&4294967295|L>>>15),L=S+(y^k&(P^y))+I[11]+2304563134&4294967295,S=k+(L<<22&4294967295|L>>>10),L=y+(P^S&(k^P))+I[12]+1804603682&4294967295,y=S+(L<<7&4294967295|L>>>25),L=P+(k^y&(S^k))+I[13]+4254626195&4294967295,P=y+(L<<12&4294967295|L>>>20),L=k+(S^P&(y^S))+I[14]+2792965006&4294967295,k=P+(L<<17&4294967295|L>>>15),L=S+(y^k&(P^y))+I[15]+1236535329&4294967295,S=k+(L<<22&4294967295|L>>>10),L=y+(k^P&(S^k))+I[1]+4129170786&4294967295,y=S+(L<<5&4294967295|L>>>27),L=P+(S^k&(y^S))+I[6]+3225465664&4294967295,P=y+(L<<9&4294967295|L>>>23),L=k+(y^S&(P^y))+I[11]+643717713&4294967295,k=P+(L<<14&4294967295|L>>>18),L=S+(P^y&(k^P))+I[0]+3921069994&4294967295,S=k+(L<<20&4294967295|L>>>12),L=y+(k^P&(S^k))+I[5]+3593408605&4294967295,y=S+(L<<5&4294967295|L>>>27),L=P+(S^k&(y^S))+I[10]+38016083&4294967295,P=y+(L<<9&4294967295|L>>>23),L=k+(y^S&(P^y))+I[15]+3634488961&4294967295,k=P+(L<<14&4294967295|L>>>18),L=S+(P^y&(k^P))+I[4]+3889429448&4294967295,S=k+(L<<20&4294967295|L>>>12),L=y+(k^P&(S^k))+I[9]+568446438&4294967295,y=S+(L<<5&4294967295|L>>>27),L=P+(S^k&(y^S))+I[14]+3275163606&4294967295,P=y+(L<<9&4294967295|L>>>23),L=k+(y^S&(P^y))+I[3]+4107603335&4294967295,k=P+(L<<14&4294967295|L>>>18),L=S+(P^y&(k^P))+I[8]+1163531501&4294967295,S=k+(L<<20&4294967295|L>>>12),L=y+(k^P&(S^k))+I[13]+2850285829&4294967295,y=S+(L<<5&4294967295|L>>>27),L=P+(S^k&(y^S))+I[2]+4243563512&4294967295,P=y+(L<<9&4294967295|L>>>23),L=k+(y^S&(P^y))+I[7]+1735328473&4294967295,k=P+(L<<14&4294967295|L>>>18),L=S+(P^y&(k^P))+I[12]+2368359562&4294967295,S=k+(L<<20&4294967295|L>>>12),L=y+(S^k^P)+I[5]+4294588738&4294967295,y=S+(L<<4&4294967295|L>>>28),L=P+(y^S^k)+I[8]+2272392833&4294967295,P=y+(L<<11&4294967295|L>>>21),L=k+(P^y^S)+I[11]+1839030562&4294967295,k=P+(L<<16&4294967295|L>>>16),L=S+(k^P^y)+I[14]+4259657740&4294967295,S=k+(L<<23&4294967295|L>>>9),L=y+(S^k^P)+I[1]+2763975236&4294967295,y=S+(L<<4&4294967295|L>>>28),L=P+(y^S^k)+I[4]+1272893353&4294967295,P=y+(L<<11&4294967295|L>>>21),L=k+(P^y^S)+I[7]+4139469664&4294967295,k=P+(L<<16&4294967295|L>>>16),L=S+(k^P^y)+I[10]+3200236656&4294967295,S=k+(L<<23&4294967295|L>>>9),L=y+(S^k^P)+I[13]+681279174&4294967295,y=S+(L<<4&4294967295|L>>>28),L=P+(y^S^k)+I[0]+3936430074&4294967295,P=y+(L<<11&4294967295|L>>>21),L=k+(P^y^S)+I[3]+3572445317&4294967295,k=P+(L<<16&4294967295|L>>>16),L=S+(k^P^y)+I[6]+76029189&4294967295,S=k+(L<<23&4294967295|L>>>9),L=y+(S^k^P)+I[9]+3654602809&4294967295,y=S+(L<<4&4294967295|L>>>28),L=P+(y^S^k)+I[12]+3873151461&4294967295,P=y+(L<<11&4294967295|L>>>21),L=k+(P^y^S)+I[15]+530742520&4294967295,k=P+(L<<16&4294967295|L>>>16),L=S+(k^P^y)+I[2]+3299628645&4294967295,S=k+(L<<23&4294967295|L>>>9),L=y+(k^(S|~P))+I[0]+4096336452&4294967295,y=S+(L<<6&4294967295|L>>>26),L=P+(S^(y|~k))+I[7]+1126891415&4294967295,P=y+(L<<10&4294967295|L>>>22),L=k+(y^(P|~S))+I[14]+2878612391&4294967295,k=P+(L<<15&4294967295|L>>>17),L=S+(P^(k|~y))+I[5]+4237533241&4294967295,S=k+(L<<21&4294967295|L>>>11),L=y+(k^(S|~P))+I[12]+1700485571&4294967295,y=S+(L<<6&4294967295|L>>>26),L=P+(S^(y|~k))+I[3]+2399980690&4294967295,P=y+(L<<10&4294967295|L>>>22),L=k+(y^(P|~S))+I[10]+4293915773&4294967295,k=P+(L<<15&4294967295|L>>>17),L=S+(P^(k|~y))+I[1]+2240044497&4294967295,S=k+(L<<21&4294967295|L>>>11),L=y+(k^(S|~P))+I[8]+1873313359&4294967295,y=S+(L<<6&4294967295|L>>>26),L=P+(S^(y|~k))+I[15]+4264355552&4294967295,P=y+(L<<10&4294967295|L>>>22),L=k+(y^(P|~S))+I[6]+2734768916&4294967295,k=P+(L<<15&4294967295|L>>>17),L=S+(P^(k|~y))+I[13]+1309151649&4294967295,S=k+(L<<21&4294967295|L>>>11),L=y+(k^(S|~P))+I[4]+4149444226&4294967295,y=S+(L<<6&4294967295|L>>>26),L=P+(S^(y|~k))+I[11]+3174756917&4294967295,P=y+(L<<10&4294967295|L>>>22),L=k+(y^(P|~S))+I[2]+718787259&4294967295,k=P+(L<<15&4294967295|L>>>17),L=S+(P^(k|~y))+I[9]+3951481745&4294967295,C.g[0]=C.g[0]+y&4294967295,C.g[1]=C.g[1]+(k+(L<<21&4294967295|L>>>11))&4294967295,C.g[2]=C.g[2]+k&4294967295,C.g[3]=C.g[3]+P&4294967295}r.prototype.u=function(C,y){y===void 0&&(y=C.length);for(var S=y-this.blockSize,I=this.B,k=this.h,P=0;P<y;){if(k==0)for(;P<=S;)i(this,C,P),P+=this.blockSize;if(typeof C=="string"){for(;P<y;)if(I[k++]=C.charCodeAt(P++),k==this.blockSize){i(this,I),k=0;break}}else for(;P<y;)if(I[k++]=C[P++],k==this.blockSize){i(this,I),k=0;break}}this.h=k,this.o+=y},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var y=1;y<C.length-8;++y)C[y]=0;var S=8*this.o;for(y=C.length-8;y<C.length;++y)C[y]=S&255,S/=256;for(this.u(C),C=Array(16),y=S=0;4>y;++y)for(var I=0;32>I;I+=8)C[S++]=this.g[y]>>>I&255;return C};function s(C,y){var S=a;return Object.prototype.hasOwnProperty.call(S,C)?S[C]:S[C]=y(C)}function o(C,y){this.h=y;for(var S=[],I=!0,k=C.length-1;0<=k;k--){var P=C[k]|0;I&&P==y||(S[k]=P,I=!1)}this.g=S}var a={};function l(C){return-128<=C&&128>C?s(C,function(y){return new o([y|0],0>y?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return h;if(0>C)return x(c(-C));for(var y=[],S=1,I=0;C>=S;I++)y[I]=C/S|0,S*=4294967296;return new o(y,0)}function u(C,y){if(C.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(C.charAt(0)=="-")return x(u(C.substring(1),y));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=c(Math.pow(y,8)),I=h,k=0;k<C.length;k+=8){var P=Math.min(8,C.length-k),L=parseInt(C.substring(k,k+P),y);8>P?(P=c(Math.pow(y,P)),I=I.j(P).add(c(L))):(I=I.j(S),I=I.add(c(L)))}return I}var h=l(0),d=l(1),f=l(16777216);n=o.prototype,n.m=function(){if(w(this))return-x(this).m();for(var C=0,y=1,S=0;S<this.g.length;S++){var I=this.i(S);C+=(0<=I?I:4294967296+I)*y,y*=4294967296}return C},n.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(g(this))return"0";if(w(this))return"-"+x(this).toString(C);for(var y=c(Math.pow(C,6)),S=this,I="";;){var k=R(S,y).g;S=_(S,k.j(y));var P=((0<S.g.length?S.g[0]:S.h)>>>0).toString(C);if(S=k,g(S))return P+I;for(;6>P.length;)P="0"+P;I=P+I}},n.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function g(C){if(C.h!=0)return!1;for(var y=0;y<C.g.length;y++)if(C.g[y]!=0)return!1;return!0}function w(C){return C.h==-1}n.l=function(C){return C=_(this,C),w(C)?-1:g(C)?0:1};function x(C){for(var y=C.g.length,S=[],I=0;I<y;I++)S[I]=~C.g[I];return new o(S,~C.h).add(d)}n.abs=function(){return w(this)?x(this):this},n.add=function(C){for(var y=Math.max(this.g.length,C.g.length),S=[],I=0,k=0;k<=y;k++){var P=I+(this.i(k)&65535)+(C.i(k)&65535),L=(P>>>16)+(this.i(k)>>>16)+(C.i(k)>>>16);I=L>>>16,P&=65535,L&=65535,S[k]=L<<16|P}return new o(S,S[S.length-1]&-2147483648?-1:0)};function _(C,y){return C.add(x(y))}n.j=function(C){if(g(this)||g(C))return h;if(w(this))return w(C)?x(this).j(x(C)):x(x(this).j(C));if(w(C))return x(this.j(x(C)));if(0>this.l(f)&&0>C.l(f))return c(this.m()*C.m());for(var y=this.g.length+C.g.length,S=[],I=0;I<2*y;I++)S[I]=0;for(I=0;I<this.g.length;I++)for(var k=0;k<C.g.length;k++){var P=this.i(I)>>>16,L=this.i(I)&65535,$=C.i(k)>>>16,te=C.i(k)&65535;S[2*I+2*k]+=L*te,b(S,2*I+2*k),S[2*I+2*k+1]+=P*te,b(S,2*I+2*k+1),S[2*I+2*k+1]+=L*$,b(S,2*I+2*k+1),S[2*I+2*k+2]+=P*$,b(S,2*I+2*k+2)}for(I=0;I<y;I++)S[I]=S[2*I+1]<<16|S[2*I];for(I=y;I<2*y;I++)S[I]=0;return new o(S,0)};function b(C,y){for(;(C[y]&65535)!=C[y];)C[y+1]+=C[y]>>>16,C[y]&=65535,y++}function E(C,y){this.g=C,this.h=y}function R(C,y){if(g(y))throw Error("division by zero");if(g(C))return new E(h,h);if(w(C))return y=R(x(C),y),new E(x(y.g),x(y.h));if(w(y))return y=R(C,x(y)),new E(x(y.g),y.h);if(30<C.g.length){if(w(C)||w(y))throw Error("slowDivide_ only works with positive integers.");for(var S=d,I=y;0>=I.l(C);)S=O(S),I=O(I);var k=V(S,1),P=V(I,1);for(I=V(I,2),S=V(S,2);!g(I);){var L=P.add(I);0>=L.l(C)&&(k=k.add(S),P=L),I=V(I,1),S=V(S,1)}return y=_(C,k.j(y)),new E(k,y)}for(k=h;0<=C.l(y);){for(S=Math.max(1,Math.floor(C.m()/y.m())),I=Math.ceil(Math.log(S)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),P=c(S),L=P.j(y);w(L)||0<L.l(C);)S-=I,P=c(S),L=P.j(y);g(P)&&(P=d),k=k.add(P),C=_(C,L)}return new E(k,C)}n.A=function(C){return R(this,C).h},n.and=function(C){for(var y=Math.max(this.g.length,C.g.length),S=[],I=0;I<y;I++)S[I]=this.i(I)&C.i(I);return new o(S,this.h&C.h)},n.or=function(C){for(var y=Math.max(this.g.length,C.g.length),S=[],I=0;I<y;I++)S[I]=this.i(I)|C.i(I);return new o(S,this.h|C.h)},n.xor=function(C){for(var y=Math.max(this.g.length,C.g.length),S=[],I=0;I<y;I++)S[I]=this.i(I)^C.i(I);return new o(S,this.h^C.h)};function O(C){for(var y=C.g.length+1,S=[],I=0;I<y;I++)S[I]=C.i(I)<<1|C.i(I-1)>>>31;return new o(S,C.h)}function V(C,y){var S=y>>5;y%=32;for(var I=C.g.length-S,k=[],P=0;P<I;P++)k[P]=0<y?C.i(P+S)>>>y|C.i(P+S+1)<<32-y:C.i(P+S);return new o(k,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ZC=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,Iu=o}).apply(typeof pE<"u"?pE:typeof self<"u"?self:typeof window<"u"?window:{});var Hg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eN,ep,tN,U0,_w,nN,rN,iN;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,D,F){return m==Array.prototype||m==Object.prototype||(m[D]=F.value),m};function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hg=="object"&&Hg];for(var D=0;D<m.length;++D){var F=m[D];if(F&&F.Math==Math)return F}throw Error("Cannot find global object")}var r=t(this);function i(m,D){if(D)e:{var F=r;m=m.split(".");for(var Q=0;Q<m.length-1;Q++){var me=m[Q];if(!(me in F))break e;F=F[me]}m=m[m.length-1],Q=F[m],D=D(Q),D!=Q&&D!=null&&e(F,m,{configurable:!0,writable:!0,value:D})}}function s(m,D){m instanceof String&&(m+="");var F=0,Q=!1,me={next:function(){if(!Q&&F<m.length){var be=F++;return{value:D(be,m[be]),done:!1}}return Q=!0,{done:!0,value:void 0}}};return me[Symbol.iterator]=function(){return me},me}i("Array.prototype.values",function(m){return m||function(){return s(this,function(D,F){return F})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(m){var D=typeof m;return D=D!="object"?D:m?Array.isArray(m)?"array":D:"null",D=="array"||D=="object"&&typeof m.length=="number"}function c(m){var D=typeof m;return D=="object"&&m!=null||D=="function"}function u(m,D,F){return m.call.apply(m.bind,arguments)}function h(m,D,F){if(!m)throw Error();if(2<arguments.length){var Q=Array.prototype.slice.call(arguments,2);return function(){var me=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(me,Q),m.apply(D,me)}}return function(){return m.apply(D,arguments)}}function d(m,D,F){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,d.apply(null,arguments)}function f(m,D){var F=Array.prototype.slice.call(arguments,1);return function(){var Q=F.slice();return Q.push.apply(Q,arguments),m.apply(this,Q)}}function g(m,D){function F(){}F.prototype=D.prototype,m.aa=D.prototype,m.prototype=new F,m.prototype.constructor=m,m.Qb=function(Q,me,be){for(var je=Array(arguments.length-2),St=2;St<arguments.length;St++)je[St-2]=arguments[St];return D.prototype[me].apply(Q,je)}}function w(m){const D=m.length;if(0<D){const F=Array(D);for(let Q=0;Q<D;Q++)F[Q]=m[Q];return F}return[]}function x(m,D){for(let F=1;F<arguments.length;F++){const Q=arguments[F];if(l(Q)){const me=m.length||0,be=Q.length||0;m.length=me+be;for(let je=0;je<be;je++)m[me+je]=Q[je]}else m.push(Q)}}class _{constructor(D,F){this.i=D,this.j=F,this.h=0,this.g=null}get(){let D;return 0<this.h?(this.h--,D=this.g,this.g=D.next,D.next=null):D=this.i(),D}}function b(m){return/^[\s\xa0]*$/.test(m)}function E(){var m=a.navigator;return m&&(m=m.userAgent)?m:""}function R(m){return R[" "](m),m}R[" "]=function(){};var O=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function V(m,D,F){for(const Q in m)D.call(F,m[Q],Q,m)}function C(m,D){for(const F in m)D.call(void 0,m[F],F,m)}function y(m){const D={};for(const F in m)D[F]=m[F];return D}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(m,D){let F,Q;for(let me=1;me<arguments.length;me++){Q=arguments[me];for(F in Q)m[F]=Q[F];for(let be=0;be<S.length;be++)F=S[be],Object.prototype.hasOwnProperty.call(Q,F)&&(m[F]=Q[F])}}function k(m){var D=1;m=m.split(":");const F=[];for(;0<D&&m.length;)F.push(m.shift()),D--;return m.length&&F.push(m.join(":")),F}function P(m){a.setTimeout(()=>{throw m},0)}function L(){var m=H;let D=null;return m.g&&(D=m.g,m.g=m.g.next,m.g||(m.h=null),D.next=null),D}class ${constructor(){this.h=this.g=null}add(D,F){const Q=te.get();Q.set(D,F),this.h?this.h.next=Q:this.g=Q,this.h=Q}}var te=new _(()=>new K,m=>m.reset());class K{constructor(){this.next=this.g=this.h=null}set(D,F){this.h=D,this.g=F,this.next=null}reset(){this.next=this.g=this.h=null}}let q,W=!1,H=new $,oe=()=>{const m=a.Promise.resolve(void 0);q=()=>{m.then(le)}};var le=()=>{for(var m;m=L();){try{m.h.call(m.g)}catch(F){P(F)}var D=te;D.j(m),100>D.h&&(D.h++,m.next=D.g,D.g=m)}W=!1};function j(){this.s=this.s,this.C=this.C}j.prototype.s=!1,j.prototype.ma=function(){this.s||(this.s=!0,this.N())},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(m,D){this.type=m,this.g=this.target=D,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var Z=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var m=!1,D=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const F=()=>{};a.addEventListener("test",F,D),a.removeEventListener("test",F,D)}catch{}return m}();function ne(m,D){if(z.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var F=this.type=m.type,Q=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=D,D=m.relatedTarget){if(O){e:{try{R(D.nodeName);var me=!0;break e}catch{}me=!1}me||(D=null)}}else F=="mouseover"?D=m.fromElement:F=="mouseout"&&(D=m.toElement);this.relatedTarget=D,Q?(this.clientX=Q.clientX!==void 0?Q.clientX:Q.pageX,this.clientY=Q.clientY!==void 0?Q.clientY:Q.pageY,this.screenX=Q.screenX||0,this.screenY=Q.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:se[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&ne.aa.h.call(this)}}g(ne,z);var se={2:"touch",3:"pen",4:"mouse"};ne.prototype.h=function(){ne.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),de=0;function ge(m,D,F,Q,me){this.listener=m,this.proxy=null,this.src=D,this.type=F,this.capture=!!Q,this.ha=me,this.key=++de,this.da=this.fa=!1}function Te(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Se(m){this.src=m,this.g={},this.h=0}Se.prototype.add=function(m,D,F,Q,me){var be=m.toString();m=this.g[be],m||(m=this.g[be]=[],this.h++);var je=Ve(m,D,Q,me);return-1<je?(D=m[je],F||(D.fa=!1)):(D=new ge(D,this.src,be,!!Q,me),D.fa=F,m.push(D)),D};function Me(m,D){var F=D.type;if(F in m.g){var Q=m.g[F],me=Array.prototype.indexOf.call(Q,D,void 0),be;(be=0<=me)&&Array.prototype.splice.call(Q,me,1),be&&(Te(D),m.g[F].length==0&&(delete m.g[F],m.h--))}}function Ve(m,D,F,Q){for(var me=0;me<m.length;++me){var be=m[me];if(!be.da&&be.listener==D&&be.capture==!!F&&be.ha==Q)return me}return-1}var qe="closure_lm_"+(1e6*Math.random()|0),xe={};function ie(m,D,F,Q,me){if(Array.isArray(D)){for(var be=0;be<D.length;be++)ie(m,D[be],F,Q,me);return null}return F=ut(F),m&&m[fe]?m.K(D,F,c(Q)?!!Q.capture:!1,me):ct(m,D,F,!1,Q,me)}function ct(m,D,F,Q,me,be){if(!D)throw Error("Invalid event type");var je=c(me)?!!me.capture:!!me,St=rt(m);if(St||(m[qe]=St=new Se(m)),F=St.add(D,F,Q,je,be),F.proxy)return F;if(Q=Fe(),F.proxy=Q,Q.src=m,Q.listener=F,m.addEventListener)Z||(me=je),me===void 0&&(me=!1),m.addEventListener(D.toString(),Q,me);else if(m.attachEvent)m.attachEvent(He(D.toString()),Q);else if(m.addListener&&m.removeListener)m.addListener(Q);else throw Error("addEventListener and attachEvent are unavailable.");return F}function Fe(){function m(F){return D.call(m.src,m.listener,F)}const D=We;return m}function Ce(m,D,F,Q,me){if(Array.isArray(D))for(var be=0;be<D.length;be++)Ce(m,D[be],F,Q,me);else Q=c(Q)?!!Q.capture:!!Q,F=ut(F),m&&m[fe]?(m=m.i,D=String(D).toString(),D in m.g&&(be=m.g[D],F=Ve(be,F,Q,me),-1<F&&(Te(be[F]),Array.prototype.splice.call(be,F,1),be.length==0&&(delete m.g[D],m.h--)))):m&&(m=rt(m))&&(D=m.g[D.toString()],m=-1,D&&(m=Ve(D,F,Q,me)),(F=-1<m?D[m]:null)&&ze(F))}function ze(m){if(typeof m!="number"&&m&&!m.da){var D=m.src;if(D&&D[fe])Me(D.i,m);else{var F=m.type,Q=m.proxy;D.removeEventListener?D.removeEventListener(F,Q,m.capture):D.detachEvent?D.detachEvent(He(F),Q):D.addListener&&D.removeListener&&D.removeListener(Q),(F=rt(D))?(Me(F,m),F.h==0&&(F.src=null,D[qe]=null)):Te(m)}}}function He(m){return m in xe?xe[m]:xe[m]="on"+m}function We(m,D){if(m.da)m=!0;else{D=new ne(D,this);var F=m.listener,Q=m.ha||m.src;m.fa&&ze(m),m=F.call(Q,D)}return m}function rt(m){return m=m[qe],m instanceof Se?m:null}var it="__closure_events_fn_"+(1e9*Math.random()>>>0);function ut(m){return typeof m=="function"?m:(m[it]||(m[it]=function(D){return m.handleEvent(D)}),m[it])}function Xe(){j.call(this),this.i=new Se(this),this.M=this,this.F=null}g(Xe,j),Xe.prototype[fe]=!0,Xe.prototype.removeEventListener=function(m,D,F,Q){Ce(this,m,D,F,Q)};function ot(m,D){var F,Q=m.F;if(Q)for(F=[];Q;Q=Q.F)F.push(Q);if(m=m.M,Q=D.type||D,typeof D=="string")D=new z(D,m);else if(D instanceof z)D.target=D.target||m;else{var me=D;D=new z(Q,m),I(D,me)}if(me=!0,F)for(var be=F.length-1;0<=be;be--){var je=D.g=F[be];me=At(je,Q,!0,D)&&me}if(je=D.g=m,me=At(je,Q,!0,D)&&me,me=At(je,Q,!1,D)&&me,F)for(be=0;be<F.length;be++)je=D.g=F[be],me=At(je,Q,!1,D)&&me}Xe.prototype.N=function(){if(Xe.aa.N.call(this),this.i){var m=this.i,D;for(D in m.g){for(var F=m.g[D],Q=0;Q<F.length;Q++)Te(F[Q]);delete m.g[D],m.h--}}this.F=null},Xe.prototype.K=function(m,D,F,Q){return this.i.add(String(m),D,!1,F,Q)},Xe.prototype.L=function(m,D,F,Q){return this.i.add(String(m),D,!0,F,Q)};function At(m,D,F,Q){if(D=m.i.g[String(D)],!D)return!0;D=D.concat();for(var me=!0,be=0;be<D.length;++be){var je=D[be];if(je&&!je.da&&je.capture==F){var St=je.listener,Rt=je.ha||je.src;je.fa&&Me(m.i,je),me=St.call(Rt,Q)!==!1&&me}}return me&&!Q.defaultPrevented}function dt(m,D,F){if(typeof m=="function")F&&(m=d(m,F));else if(m&&typeof m.handleEvent=="function")m=d(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(D)?-1:a.setTimeout(m,D||0)}function Pt(m){m.g=dt(()=>{m.g=null,m.i&&(m.i=!1,Pt(m))},m.l);const D=m.h;m.h=null,m.m.apply(null,D)}class $e extends j{constructor(D,F){super(),this.m=D,this.l=F,this.h=null,this.i=!1,this.g=null}j(D){this.h=arguments,this.g?this.i=!0:Pt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vt(m){j.call(this),this.h=m,this.g={}}g(Vt,j);var Ct=[];function Nr(m){V(m.g,function(D,F){this.g.hasOwnProperty(F)&&ze(D)},m),m.g={}}Vt.prototype.N=function(){Vt.aa.N.call(this),Nr(this)},Vt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gt=a.JSON.stringify,_n=a.JSON.parse,cs=class{stringify(m){return a.JSON.stringify(m,void 0)}parse(m){return a.JSON.parse(m,void 0)}};function Ft(){}Ft.prototype.h=null;function co(m){return m.h||(m.h=m.i())}function En(){}var Ir={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Hi(){z.call(this,"d")}g(Hi,z);function wn(){z.call(this,"c")}g(wn,z);var pt={},Bt=null;function us(){return Bt=Bt||new Xe}pt.La="serverreachability";function or(m){z.call(this,pt.La,m)}g(or,z);function qr(m){const D=us();ot(D,new or(D))}pt.STAT_EVENT="statevent";function qi(m,D){z.call(this,pt.STAT_EVENT,m),this.stat=D}g(qi,z);function tt(m){const D=us();ot(D,new qi(D,m))}pt.Ma="timingevent";function Pi(m,D){z.call(this,pt.Ma,m),this.size=D}g(Pi,z);function $r(m,D){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){m()},D)}function ar(){this.g=!0}ar.prototype.xa=function(){this.g=!1};function Gn(m,D,F,Q,me,be){m.info(function(){if(m.g)if(be)for(var je="",St=be.split("&"),Rt=0;Rt<St.length;Rt++){var Et=St[Rt].split("=");if(1<Et.length){var Jt=Et[0];Et=Et[1];var pn=Jt.split("_");je=2<=pn.length&&pn[1]=="type"?je+(Jt+"="+Et+"&"):je+(Jt+"=redacted&")}}else je=null;else je=be;return"XMLHTTP REQ ("+Q+") [attempt "+me+"]: "+D+`
`+F+`
`+je})}function Bn(m,D,F,Q,me,be,je){m.info(function(){return"XMLHTTP RESP ("+Q+") [ attempt "+me+"]: "+D+`
`+F+`
`+be+" "+je})}function lr(m,D,F,Q){m.info(function(){return"XMLHTTP TEXT ("+D+"): "+Rs(m,F)+(Q?" "+Q:"")})}function il(m,D){m.info(function(){return"TIMEOUT: "+D})}ar.prototype.info=function(){};function Rs(m,D){if(!m.g)return D;if(!D)return null;try{var F=JSON.parse(D);if(F){for(m=0;m<F.length;m++)if(Array.isArray(F[m])){var Q=F[m];if(!(2>Q.length)){var me=Q[1];if(Array.isArray(me)&&!(1>me.length)){var be=me[0];if(be!="noop"&&be!="stop"&&be!="close")for(var je=1;je<me.length;je++)me[je]=""}}}}return Gt(F)}catch{return D}}var Yr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ti={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},di;function fi(){}g(fi,Ft),fi.prototype.g=function(){return new XMLHttpRequest},fi.prototype.i=function(){return{}},di=new fi;function Kn(m,D,F,Q){this.j=m,this.i=D,this.l=F,this.R=Q||1,this.U=new Vt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $i}function $i(){this.i=null,this.g="",this.h=!1}var uo={},ho={};function fo(m,D,F){m.L=1,m.v=la(pi(D)),m.m=F,m.P=!0,ra(m,null)}function ra(m,D){m.F=Date.now(),sl(m),m.A=pi(m.v);var F=m.A,Q=m.R;Array.isArray(Q)||(Q=[String(Q)]),yt(F.i,"t",Q),m.C=0,F=m.j.J,m.h=new $i,m.g=B(m.j,F?D:null,!m.m),0<m.O&&(m.M=new $e(d(m.Y,m,m.g),m.O)),D=m.U,F=m.g,Q=m.ca;var me="readystatechange";Array.isArray(me)||(me&&(Ct[0]=me.toString()),me=Ct);for(var be=0;be<me.length;be++){var je=ie(F,me[be],Q||D.handleEvent,!1,D.h||D);if(!je)break;D.g[je.key]=je}D=m.H?y(m.H):{},m.m?(m.u||(m.u="POST"),D["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,D)):(m.u="GET",m.g.ea(m.A,m.u,null,D)),qr(),Gn(m.i,m.u,m.A,m.l,m.R,m.m)}Kn.prototype.ca=function(m){m=m.target;const D=this.M;D&&mr(m)==3?D.j():this.Y(m)},Kn.prototype.Y=function(m){try{if(m==this.g)e:{const pn=mr(this.g);var D=this.g.Ba();const Us=this.g.Z();if(!(3>pn)&&(pn!=3||this.g&&(this.h.h||this.g.oa()||xh(this.g)))){this.J||pn!=4||D==7||(D==8||0>=Us?qr(3):qr(2)),po(this);var F=this.g.Z();this.X=F;t:if(ia(this)){var Q=xh(this.g);m="";var me=Q.length,be=mr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ls(this),mo(this);var je="";break t}this.h.i=new a.TextDecoder}for(D=0;D<me;D++)this.h.h=!0,m+=this.h.i.decode(Q[D],{stream:!(be&&D==me-1)});Q.length=0,this.h.g+=m,this.C=0,je=this.h.g}else je=this.g.oa();if(this.o=F==200,Bn(this.i,this.u,this.A,this.l,this.R,pn,F),this.o){if(this.T&&!this.K){t:{if(this.g){var St,Rt=this.g;if((St=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(St)){var Et=St;break t}}Et=null}if(F=Et)lr(this.i,this.l,F,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sa(this,F);else{this.o=!1,this.s=3,tt(12),Ls(this),mo(this);break e}}if(this.P){F=!0;let Rr;for(;!this.J&&this.C<je.length;)if(Rr=fh(this,je),Rr==ho){pn==4&&(this.s=4,tt(14),F=!1),lr(this.i,this.l,null,"[Incomplete Response]");break}else if(Rr==uo){this.s=4,tt(15),lr(this.i,this.l,je,"[Invalid Chunk]"),F=!1;break}else lr(this.i,this.l,Rr,null),sa(this,Rr);if(ia(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pn!=4||je.length!=0||this.h.h||(this.s=1,tt(16),F=!1),this.o=this.o&&F,!F)lr(this.i,this.l,je,"[Invalid Chunked Response]"),Ls(this),mo(this);else if(0<je.length&&!this.W){this.W=!0;var Jt=this.j;Jt.g==this&&Jt.ba&&!Jt.M&&(Jt.j.info("Great, no buffering proxy detected. Bytes received: "+je.length),_l(Jt),Jt.M=!0,tt(11))}}else lr(this.i,this.l,je,null),sa(this,je);pn==4&&Ls(this),this.o&&!this.J&&(pn==4?wo(this.j,this):(this.o=!1,sl(this)))}else yo(this.g),F==400&&0<je.indexOf("Unknown SID")?(this.s=3,tt(12)):(this.s=0,tt(13)),Ls(this),mo(this)}}}catch{}finally{}};function ia(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function fh(m,D){var F=m.C,Q=D.indexOf(`
`,F);return Q==-1?ho:(F=Number(D.substring(F,Q)),isNaN(F)?uo:(Q+=1,Q+F>D.length?ho:(D=D.slice(Q,Q+F),m.C=Q+F,D)))}Kn.prototype.cancel=function(){this.J=!0,Ls(this)};function sl(m){m.S=Date.now()+m.I,ph(m,m.I)}function ph(m,D){if(m.B!=null)throw Error("WatchDog timer not null");m.B=$r(d(m.ba,m),D)}function po(m){m.B&&(a.clearTimeout(m.B),m.B=null)}Kn.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(il(this.i,this.A),this.L!=2&&(qr(),tt(17)),Ls(this),this.s=2,mo(this)):ph(this,this.S-m)};function mo(m){m.j.G==0||m.J||wo(m.j,m)}function Ls(m){po(m);var D=m.M;D&&typeof D.ma=="function"&&D.ma(),m.M=null,Nr(m.U),m.g&&(D=m.g,m.g=null,D.abort(),D.ma())}function sa(m,D){try{var F=m.j;if(F.G!=0&&(F.g==m||Hc(F.h,m))){if(!m.K&&Hc(F.h,m)&&F.G==3){try{var Q=F.Da.g.parse(D)}catch{Q=null}if(Array.isArray(Q)&&Q.length==3){var me=Q;if(me[0]==0){e:if(!F.u){if(F.g)if(F.g.F+3e3<m.F)Bs(F),ml(F);else break e;fa(F),tt(18)}}else F.za=me[1],0<F.za-F.T&&37500>me[2]&&F.F&&F.v==0&&!F.C&&(F.C=$r(d(F.Za,F),6e3));if(1>=oa(F.h)&&F.ca){try{F.ca()}catch{}F.ca=void 0}}else Gr(F,11)}else if((m.K||F.g==m)&&Bs(F),!b(D))for(me=F.Da.g.parse(D),D=0;D<me.length;D++){let Et=me[D];if(F.T=Et[0],Et=Et[1],F.G==2)if(Et[0]=="c"){F.K=Et[1],F.ia=Et[2];const Jt=Et[3];Jt!=null&&(F.la=Jt,F.j.info("VER="+F.la));const pn=Et[4];pn!=null&&(F.Aa=pn,F.j.info("SVER="+F.Aa));const Us=Et[5];Us!=null&&typeof Us=="number"&&0<Us&&(Q=1.5*Us,F.L=Q,F.j.info("backChannelRequestTimeoutMs_="+Q)),Q=F;const Rr=m.g;if(Rr){const bo=Rr.g?Rr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bo){var be=Q.h;be.g||bo.indexOf("spdy")==-1&&bo.indexOf("quic")==-1&&bo.indexOf("h2")==-1||(be.j=be.l,be.g=new Set,be.h&&(kn(be,be.h),be.h=null))}if(Q.D){const xo=Rr.g?Rr.g.getResponseHeader("X-HTTP-Session-Id"):null;xo&&(Q.ya=xo,nn(Q.I,Q.D,xo))}}F.G=3,F.l&&F.l.ua(),F.ba&&(F.R=Date.now()-m.F,F.j.info("Handshake RTT: "+F.R+"ms")),Q=F;var je=m;if(Q.qa=A(Q,Q.J?Q.ia:null,Q.W),je.K){qc(Q.h,je);var St=je,Rt=Q.L;Rt&&(St.I=Rt),St.B&&(po(St),sl(St)),Q.g=je}else yl(Q);0<F.i.length&&gl(F)}else Et[0]!="stop"&&Et[0]!="close"||Gr(F,7);else F.G==3&&(Et[0]=="stop"||Et[0]=="close"?Et[0]=="stop"?Gr(F,7):Vs(F):Et[0]!="noop"&&F.l&&F.l.ta(Et),F.v=0)}}qr(4)}catch{}}var uf=class{constructor(m,D){this.g=m,this.map=D}};function Wc(m){this.l=m||10,a.PerformanceNavigationTiming?(m=a.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function mh(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function oa(m){return m.h?1:m.g?m.g.size:0}function Hc(m,D){return m.h?m.h==D:m.g?m.g.has(D):!1}function kn(m,D){m.g?m.g.add(D):m.h=D}function qc(m,D){m.h&&m.h==D?m.h=null:m.g&&m.g.has(D)&&m.g.delete(D)}Wc.prototype.cancel=function(){if(this.i=$c(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function $c(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let D=m.i;for(const F of m.g.values())D=D.concat(F.D);return D}return w(m.i)}function gh(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(l(m)){for(var D=[],F=m.length,Q=0;Q<F;Q++)D.push(m[Q]);return D}D=[],F=0;for(Q in m)D[F++]=m[Q];return D}function Yc(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(l(m)||typeof m=="string"){var D=[];m=m.length;for(var F=0;F<m;F++)D.push(F);return D}D=[],F=0;for(const Q in m)D[F++]=Q;return D}}}function vh(m,D){if(m.forEach&&typeof m.forEach=="function")m.forEach(D,void 0);else if(l(m)||typeof m=="string")Array.prototype.forEach.call(m,D,void 0);else for(var F=Yc(m),Q=gh(m),me=Q.length,be=0;be<me;be++)D.call(void 0,Q[be],F&&F[be],m)}var Ci=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ol(m,D){if(m){m=m.split("&");for(var F=0;F<m.length;F++){var Q=m[F].indexOf("="),me=null;if(0<=Q){var be=m[F].substring(0,Q);me=m[F].substring(Q+1)}else be=m[F];D(be,me?decodeURIComponent(me.replace(/\+/g," ")):"")}}}function Un(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Un){this.h=m.h,aa(this,m.j),this.o=m.o,this.g=m.g,al(this,m.s),this.l=m.l;var D=m.i,F=new go;F.i=D.i,D.g&&(F.g=new Map(D.g),F.h=D.h),Gc(this,F),this.m=m.m}else m&&(D=String(m).match(Ci))?(this.h=!1,aa(this,D[1]||"",!0),this.o=ca(D[2]||""),this.g=ca(D[3]||"",!0),al(this,D[4]),this.l=ca(D[5]||"",!0),Gc(this,D[6]||"",!0),this.m=ca(D[7]||"")):(this.h=!1,this.i=new go(null,this.h))}Un.prototype.toString=function(){var m=[],D=this.j;D&&m.push(Ms(D,yh,!0),":");var F=this.g;return(F||D=="file")&&(m.push("//"),(D=this.o)&&m.push(Ms(D,yh,!0),"@"),m.push(encodeURIComponent(String(F)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),F=this.s,F!=null&&m.push(":",String(F))),(F=this.l)&&(this.g&&F.charAt(0)!="/"&&m.push("/"),m.push(Ms(F,F.charAt(0)=="/"?Os:df,!0))),(F=this.i.toString())&&m.push("?",F),(F=this.m)&&m.push("#",Ms(F,cl)),m.join("")};function pi(m){return new Un(m)}function aa(m,D,F){m.j=F?ca(D,!0):D,m.j&&(m.j=m.j.replace(/:$/,""))}function al(m,D){if(D){if(D=Number(D),isNaN(D)||0>D)throw Error("Bad port number "+D);m.s=D}else m.s=null}function Gc(m,D,F){D instanceof go?(m.i=D,ff(m.i,m.h)):(F||(D=Ms(D,ll)),m.i=new go(D,m.h))}function nn(m,D,F){m.i.set(D,F)}function la(m){return nn(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function ca(m,D){return m?D?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Ms(m,D,F){return typeof m=="string"?(m=encodeURI(m).replace(D,hf),F&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function hf(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var yh=/[#\/\?@]/g,df=/[#\?:]/g,Os=/[#\?]/g,ll=/[#\?@]/g,cl=/#/g;function go(m,D){this.h=this.g=null,this.i=m||null,this.j=!!D}function An(m){m.g||(m.g=new Map,m.h=0,m.i&&ol(m.i,function(D,F){m.add(decodeURIComponent(D.replace(/\+/g," ")),F)}))}n=go.prototype,n.add=function(m,D){An(this),this.i=null,m=vo(this,m);var F=this.g.get(m);return F||this.g.set(m,F=[]),F.push(D),this.h+=1,this};function _h(m,D){An(m),D=vo(m,D),m.g.has(D)&&(m.i=null,m.h-=m.g.get(D).length,m.g.delete(D))}function Kc(m,D){return An(m),D=vo(m,D),m.g.has(D)}n.forEach=function(m,D){An(this),this.g.forEach(function(F,Q){F.forEach(function(me){m.call(D,me,Q,this)},this)},this)},n.na=function(){An(this);const m=Array.from(this.g.values()),D=Array.from(this.g.keys()),F=[];for(let Q=0;Q<D.length;Q++){const me=m[Q];for(let be=0;be<me.length;be++)F.push(D[Q])}return F},n.V=function(m){An(this);let D=[];if(typeof m=="string")Kc(this,m)&&(D=D.concat(this.g.get(vo(this,m))));else{m=Array.from(this.g.values());for(let F=0;F<m.length;F++)D=D.concat(m[F])}return D},n.set=function(m,D){return An(this),this.i=null,m=vo(this,m),Kc(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[D]),this.h+=1,this},n.get=function(m,D){return m?(m=this.V(m),0<m.length?String(m[0]):D):D};function yt(m,D,F){_h(m,D),0<F.length&&(m.i=null,m.g.set(vo(m,D),w(F)),m.h+=F.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],D=Array.from(this.g.keys());for(var F=0;F<D.length;F++){var Q=D[F];const be=encodeURIComponent(String(Q)),je=this.V(Q);for(Q=0;Q<je.length;Q++){var me=be;je[Q]!==""&&(me+="="+encodeURIComponent(String(je[Q]))),m.push(me)}}return this.i=m.join("&")};function vo(m,D){return D=String(D),m.j&&(D=D.toLowerCase()),D}function ff(m,D){D&&!m.j&&(An(m),m.i=null,m.g.forEach(function(F,Q){var me=Q.toLowerCase();Q!=me&&(_h(this,Q),yt(this,me,F))},m)),m.j=D}function hs(m,D){const F=new ar;if(a.Image){const Q=new Image;Q.onload=f(Yi,F,"TestLoadImage: loaded",!0,D,Q),Q.onerror=f(Yi,F,"TestLoadImage: error",!1,D,Q),Q.onabort=f(Yi,F,"TestLoadImage: abort",!1,D,Q),Q.ontimeout=f(Yi,F,"TestLoadImage: timeout",!1,D,Q),a.setTimeout(function(){Q.ontimeout&&Q.ontimeout()},1e4),Q.src=m}else D(!1)}function wh(m,D){const F=new ar,Q=new AbortController,me=setTimeout(()=>{Q.abort(),Yi(F,"TestPingServer: timeout",!1,D)},1e4);fetch(m,{signal:Q.signal}).then(be=>{clearTimeout(me),be.ok?Yi(F,"TestPingServer: ok",!0,D):Yi(F,"TestPingServer: server error",!1,D)}).catch(()=>{clearTimeout(me),Yi(F,"TestPingServer: error",!1,D)})}function Yi(m,D,F,Q,me){try{me&&(me.onload=null,me.onerror=null,me.onabort=null,me.ontimeout=null),Q(F)}catch{}}function ul(){this.g=new cs}function Qc(m,D,F){const Q=F||"";try{vh(m,function(me,be){let je=me;c(me)&&(je=Gt(me)),D.push(Q+be+"="+encodeURIComponent(je))})}catch(me){throw D.push(Q+"type="+encodeURIComponent("_badmap")),me}}function hl(m){this.l=m.Ub||null,this.j=m.eb||!1}g(hl,Ft),hl.prototype.g=function(){return new dl(this.l,this.j)},hl.prototype.i=function(m){return function(){return m}}({});function dl(m,D){Xe.call(this),this.D=m,this.o=D,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(dl,Xe),n=dl.prototype,n.open=function(m,D){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=D,this.readyState=1,Gi(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const D={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(D.body=m),(this.D||a).fetch(new Request(this.A,D)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fs(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Gi(this)),this.g&&(this.readyState=3,Gi(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bh(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function bh(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var D=m.value?m.value:new Uint8Array(0);(D=this.v.decode(D,{stream:!m.done}))&&(this.response=this.responseText+=D)}m.done?Fs(this):Gi(this),this.readyState==3&&bh(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,Fs(this))},n.Qa=function(m){this.g&&(this.response=m,Fs(this))},n.ga=function(){this.g&&Fs(this)};function Fs(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Gi(m)}n.setRequestHeader=function(m,D){this.u.append(m,D)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],D=this.h.entries();for(var F=D.next();!F.done;)F=F.value,m.push(F[0]+": "+F[1]),F=D.next();return m.join(`\r
`)};function Gi(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(dl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function js(m){let D="";return V(m,function(F,Q){D+=Q,D+=":",D+=F,D+=`\r
`}),D}function Xc(m,D,F){e:{for(Q in F){var Q=!1;break e}Q=!0}Q||(F=js(F),typeof m=="string"?F!=null&&encodeURIComponent(String(F)):nn(m,D,F))}function Xt(m){Xe.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(Xt,Xe);var Jc=/^https?$/i,fl=["POST","PUT"];n=Xt.prototype,n.Ha=function(m){this.J=m},n.ea=function(m,D,F,Q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);D=D?D.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():di.g(),this.v=this.o?co(this.o):co(di),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(D,String(m),!0),this.B=!1}catch(be){Zc(this,be);return}if(m=F||"",F=new Map(this.headers),Q)if(Object.getPrototypeOf(Q)===Object.prototype)for(var me in Q)F.set(me,Q[me]);else if(typeof Q.keys=="function"&&typeof Q.get=="function")for(const be of Q.keys())F.set(be,Q.get(be));else throw Error("Unknown input type for opt_headers: "+String(Q));Q=Array.from(F.keys()).find(be=>be.toLowerCase()=="content-type"),me=a.FormData&&m instanceof a.FormData,!(0<=Array.prototype.indexOf.call(fl,D,void 0))||Q||me||F.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[be,je]of F)this.g.setRequestHeader(be,je);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ki(this),this.u=!0,this.g.send(m),this.u=!1}catch(be){Zc(this,be)}};function Zc(m,D){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=D,m.m=5,eu(m),ua(m)}function eu(m){m.A||(m.A=!0,ot(m,"complete"),ot(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,ot(this,"complete"),ot(this,"abort"),ua(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ua(this,!0)),Xt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?tu(this):this.bb())},n.bb=function(){tu(this)};function tu(m){if(m.h&&typeof o<"u"&&(!m.v[1]||mr(m)!=4||m.Z()!=2)){if(m.u&&mr(m)==4)dt(m.Ea,0,m);else if(ot(m,"readystatechange"),mr(m)==4){m.h=!1;try{const je=m.Z();e:switch(je){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var D=!0;break e;default:D=!1}var F;if(!(F=D)){var Q;if(Q=je===0){var me=String(m.D).match(Ci)[1]||null;!me&&a.self&&a.self.location&&(me=a.self.location.protocol.slice(0,-1)),Q=!Jc.test(me?me.toLowerCase():"")}F=Q}if(F)ot(m,"complete"),ot(m,"success");else{m.m=6;try{var be=2<mr(m)?m.g.statusText:""}catch{be=""}m.l=be+" ["+m.Z()+"]",eu(m)}}finally{ua(m)}}}}function ua(m,D){if(m.g){Ki(m);const F=m.g,Q=m.v[0]?()=>{}:null;m.g=null,m.v=null,D||ot(m,"ready");try{F.onreadystatechange=Q}catch{}}}function Ki(m){m.I&&(a.clearTimeout(m.I),m.I=null)}n.isActive=function(){return!!this.g};function mr(m){return m.g?m.g.readyState:0}n.Z=function(){try{return 2<mr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var D=this.g.responseText;return m&&D.indexOf(m)==0&&(D=D.substring(m.length)),_n(D)}};function xh(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function yo(m){const D={};m=(m.g&&2<=mr(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let Q=0;Q<m.length;Q++){if(b(m[Q]))continue;var F=k(m[Q]);const me=F[0];if(F=F[1],typeof F!="string")continue;F=F.trim();const be=D[me]||[];D[me]=be,be.push(F)}C(D,function(Q){return Q.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Dr(m,D,F){return F&&F.internalChannelParams&&F.internalChannelParams[m]||D}function pl(m){this.Aa=0,this.i=[],this.j=new ar,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Dr("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Dr("baseRetryDelayMs",5e3,m),this.cb=Dr("retryDelaySeedMs",1e4,m),this.Wa=Dr("forwardChannelMaxRetries",2,m),this.wa=Dr("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new Wc(m&&m.concurrentRequestLimit),this.Da=new ul,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=pl.prototype,n.la=8,n.G=1,n.connect=function(m,D,F,Q){tt(0),this.W=m,this.H=D||{},F&&Q!==void 0&&(this.H.OSID=F,this.H.OAID=Q),this.F=this.X,this.I=A(this,null,this.W),gl(this)};function Vs(m){if(ha(m),m.G==3){var D=m.U++,F=pi(m.I);if(nn(F,"SID",m.K),nn(F,"RID",D),nn(F,"TYPE","terminate"),_o(m,F),D=new Kn(m,m.j,D),D.L=2,D.v=la(pi(F)),F=!1,a.navigator&&a.navigator.sendBeacon)try{F=a.navigator.sendBeacon(D.v.toString(),"")}catch{}!F&&a.Image&&(new Image().src=D.v,F=!0),F||(D.g=B(D.j,null),D.g.ea(D.v)),D.F=Date.now(),sl(D)}bl(m)}function ml(m){m.g&&(_l(m),m.g.cancel(),m.g=null)}function ha(m){ml(m),m.u&&(a.clearTimeout(m.u),m.u=null),Bs(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&a.clearTimeout(m.s),m.s=null)}function gl(m){if(!mh(m.h)&&!m.s){m.s=!0;var D=m.Ga;q||oe(),W||(q(),W=!0),H.add(D,m),m.B=0}}function nu(m,D){return oa(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=D.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=$r(d(m.Ga,m,D),wl(m,m.B)),m.B++,!0)}n.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const me=new Kn(this,this.j,m);let be=this.o;if(this.S&&(be?(be=y(be),I(be,this.S)):be=this.S),this.m!==null||this.O||(me.H=be,be=null),this.P)e:{for(var D=0,F=0;F<this.i.length;F++){t:{var Q=this.i[F];if("__data__"in Q.map&&(Q=Q.map.__data__,typeof Q=="string")){Q=Q.length;break t}Q=void 0}if(Q===void 0)break;if(D+=Q,4096<D){D=F;break e}if(D===4096||F===this.i.length-1){D=F+1;break e}}D=1e3}else D=1e3;D=da(this,me,D),F=pi(this.I),nn(F,"RID",m),nn(F,"CVER",22),this.D&&nn(F,"X-HTTP-Session-Id",this.D),_o(this,F),be&&(this.O?D="headers="+encodeURIComponent(String(js(be)))+"&"+D:this.m&&Xc(F,this.m,be)),kn(this.h,me),this.Ua&&nn(F,"TYPE","init"),this.P?(nn(F,"$req",D),nn(F,"SID","null"),me.T=!0,fo(me,F,null)):fo(me,F,D),this.G=2}}else this.G==3&&(m?vl(this,m):this.i.length==0||mh(this.h)||vl(this))};function vl(m,D){var F;D?F=D.l:F=m.U++;const Q=pi(m.I);nn(Q,"SID",m.K),nn(Q,"RID",F),nn(Q,"AID",m.T),_o(m,Q),m.m&&m.o&&Xc(Q,m.m,m.o),F=new Kn(m,m.j,F,m.B+1),m.m===null&&(F.H=m.o),D&&(m.i=D.D.concat(m.i)),D=da(m,F,1e3),F.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),kn(m.h,F),fo(F,Q,D)}function _o(m,D){m.H&&V(m.H,function(F,Q){nn(D,Q,F)}),m.l&&vh({},function(F,Q){nn(D,Q,F)})}function da(m,D,F){F=Math.min(m.i.length,F);var Q=m.l?d(m.l.Na,m.l,m):null;e:{var me=m.i;let be=-1;for(;;){const je=["count="+F];be==-1?0<F?(be=me[0].g,je.push("ofs="+be)):be=0:je.push("ofs="+be);let St=!0;for(let Rt=0;Rt<F;Rt++){let Et=me[Rt].g;const Jt=me[Rt].map;if(Et-=be,0>Et)be=Math.max(0,me[Rt].g-100),St=!1;else try{Qc(Jt,je,"req"+Et+"_")}catch{Q&&Q(Jt)}}if(St){Q=je.join("&");break e}}}return m=m.i.splice(0,F),D.D=m,Q}function yl(m){if(!m.g&&!m.u){m.Y=1;var D=m.Fa;q||oe(),W||(q(),W=!0),H.add(D,m),m.v=0}}function fa(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=$r(d(m.Fa,m),wl(m,m.v)),m.v++,!0)}n.Fa=function(){if(this.u=null,Sh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=$r(d(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,tt(10),ml(this),Sh(this))};function _l(m){m.A!=null&&(a.clearTimeout(m.A),m.A=null)}function Sh(m){m.g=new Kn(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var D=pi(m.qa);nn(D,"RID","rpc"),nn(D,"SID",m.K),nn(D,"AID",m.T),nn(D,"CI",m.F?"0":"1"),!m.F&&m.ja&&nn(D,"TO",m.ja),nn(D,"TYPE","xmlhttp"),_o(m,D),m.m&&m.o&&Xc(D,m.m,m.o),m.L&&(m.g.I=m.L);var F=m.g;m=m.ia,F.L=1,F.v=la(pi(D)),F.m=null,F.P=!0,ra(F,m)}n.Za=function(){this.C!=null&&(this.C=null,ml(this),fa(this),tt(19))};function Bs(m){m.C!=null&&(a.clearTimeout(m.C),m.C=null)}function wo(m,D){var F=null;if(m.g==D){Bs(m),_l(m),m.g=null;var Q=2}else if(Hc(m.h,D))F=D.D,qc(m.h,D),Q=1;else return;if(m.G!=0){if(D.o)if(Q==1){F=D.m?D.m.length:0,D=Date.now()-D.F;var me=m.B;Q=us(),ot(Q,new Pi(Q,F)),gl(m)}else yl(m);else if(me=D.s,me==3||me==0&&0<D.X||!(Q==1&&nu(m,D)||Q==2&&fa(m)))switch(F&&0<F.length&&(D=m.h,D.i=D.i.concat(F)),me){case 1:Gr(m,5);break;case 4:Gr(m,10);break;case 3:Gr(m,6);break;default:Gr(m,2)}}}function wl(m,D){let F=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(F*=2),F*D}function Gr(m,D){if(m.j.info("Error code "+D),D==2){var F=d(m.fb,m),Q=m.Xa;const me=!Q;Q=new Un(Q||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||aa(Q,"https"),la(Q),me?hs(Q.toString(),F):wh(Q.toString(),F)}else tt(2);m.G=0,m.l&&m.l.sa(D),bl(m),ha(m)}n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),tt(2)):(this.j.info("Failed to ping google.com"),tt(1))};function bl(m){if(m.G=0,m.ka=[],m.l){const D=$c(m.h);(D.length!=0||m.i.length!=0)&&(x(m.ka,D),x(m.ka,m.i),m.h.i.length=0,w(m.i),m.i.length=0),m.l.ra()}}function A(m,D,F){var Q=F instanceof Un?pi(F):new Un(F);if(Q.g!="")D&&(Q.g=D+"."+Q.g),al(Q,Q.s);else{var me=a.location;Q=me.protocol,D=D?D+"."+me.hostname:me.hostname,me=+me.port;var be=new Un(null);Q&&aa(be,Q),D&&(be.g=D),me&&al(be,me),F&&(be.l=F),Q=be}return F=m.D,D=m.ya,F&&D&&nn(Q,F,D),nn(Q,"VER",m.la),_o(m,Q),Q}function B(m,D,F){if(D&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return D=m.Ca&&!m.pa?new Xt(new hl({eb:F})):new Xt(m.pa),D.Ha(m.J),D}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ae(){}n=ae.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ce(){}ce.prototype.g=function(m,D){return new ve(m,D)};function ve(m,D){Xe.call(this),this.g=new pl(D),this.l=m,this.h=D&&D.messageUrlParams||null,m=D&&D.messageHeaders||null,D&&D.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=D&&D.initMessageHeaders||null,D&&D.messageContentType&&(m?m["X-WebChannel-Content-Type"]=D.messageContentType:m={"X-WebChannel-Content-Type":D.messageContentType}),D&&D.va&&(m?m["X-WebChannel-Client-Profile"]=D.va:m={"X-WebChannel-Client-Profile":D.va}),this.g.S=m,(m=D&&D.Sb)&&!b(m)&&(this.g.m=m),this.v=D&&D.supportsCrossDomainXhr||!1,this.u=D&&D.sendRawJson||!1,(D=D&&D.httpSessionIdParam)&&!b(D)&&(this.g.D=D,m=this.h,m!==null&&D in m&&(m=this.h,D in m&&delete m[D])),this.j=new Ke(this)}g(ve,Xe),ve.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ve.prototype.close=function(){Vs(this.g)},ve.prototype.o=function(m){var D=this.g;if(typeof m=="string"){var F={};F.__data__=m,m=F}else this.u&&(F={},F.__data__=Gt(m),m=F);D.i.push(new uf(D.Ya++,m)),D.G==3&&gl(D)},ve.prototype.N=function(){this.g.l=null,delete this.j,Vs(this.g),delete this.g,ve.aa.N.call(this)};function ke(m){Hi.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var D=m.__sm__;if(D){e:{for(const F in D){m=F;break e}m=void 0}(this.i=m)&&(m=this.i,D=D!==null&&m in D?D[m]:void 0),this.data=D}else this.data=m}g(ke,Hi);function Oe(){wn.call(this),this.status=1}g(Oe,wn);function Ke(m){this.g=m}g(Ke,ae),Ke.prototype.ua=function(){ot(this.g,"a")},Ke.prototype.ta=function(m){ot(this.g,new ke(m))},Ke.prototype.sa=function(m){ot(this.g,new Oe)},Ke.prototype.ra=function(){ot(this.g,"b")},ce.prototype.createWebChannel=ce.prototype.g,ve.prototype.send=ve.prototype.o,ve.prototype.open=ve.prototype.m,ve.prototype.close=ve.prototype.close,iN=function(){return new ce},rN=function(){return us()},nN=pt,_w={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Yr.NO_ERROR=0,Yr.TIMEOUT=8,Yr.HTTP_ERROR=6,U0=Yr,Ti.COMPLETE="complete",tN=Ti,En.EventType=Ir,Ir.OPEN="a",Ir.CLOSE="b",Ir.ERROR="c",Ir.MESSAGE="d",Xe.prototype.listen=Xe.prototype.K,ep=En,Xt.prototype.listenOnce=Xt.prototype.L,Xt.prototype.getLastError=Xt.prototype.Ka,Xt.prototype.getLastErrorCode=Xt.prototype.Ba,Xt.prototype.getStatus=Xt.prototype.Z,Xt.prototype.getResponseJson=Xt.prototype.Oa,Xt.prototype.getResponseText=Xt.prototype.oa,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Ha,eN=Xt}).apply(typeof Hg<"u"?Hg:typeof self<"u"?self:typeof window<"u"?window:{});const mE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ri.UNAUTHENTICATED=new ri(null),ri.GOOGLE_CREDENTIALS=new ri("google-credentials-uid"),ri.FIRST_PARTY=new ri("first-party-uid"),ri.MOCK_USER=new ri("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zd="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu=new hb("@firebase/firestore");function Of(){return Qu.logLevel}function at(n,...e){if(Qu.logLevel<=Ot.DEBUG){const t=e.map(Sb);Qu.debug(`Firestore (${Zd}): ${n}`,...t)}}function Qa(n,...e){if(Qu.logLevel<=Ot.ERROR){const t=e.map(Sb);Qu.error(`Firestore (${Zd}): ${n}`,...t)}}function Id(n,...e){if(Qu.logLevel<=Ot.WARN){const t=e.map(Sb);Qu.warn(`Firestore (${Zd}): ${n}`,...t)}}function Sb(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(n="Unexpected state"){const e=`FIRESTORE (${Zd}) INTERNAL ASSERTION FAILED: `+n;throw Qa(e),new Error(e)}function $t(n,e){n||gt()}function xt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Je extends Zo{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class I9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ri.UNAUTHENTICATED))}shutdown(){}}class D9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class R9{constructor(e){this.t=e,this.currentUser=ri.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){$t(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve();let s=new Wo;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Wo,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Wo)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($t(typeof r.accessToken=="string"),new sN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $t(e===null||typeof e=="string"),new ri(e)}}class L9{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=ri.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class M9{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new L9(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(ri.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class O9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class F9{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){$t(this.o===void 0);const r=s=>{s.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,at("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?($t(typeof t.token=="string"),this.R=t.token,new O9(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j9(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=j9(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function Yt(n,e){return n<e?-1:n>e?1:0}function Dd(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Je(Ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Je(Ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Je(Ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Je(Ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return xr.fromMillis(Date.now())}static fromDate(e){return xr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new xr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Yt(this.nanoseconds,e.nanoseconds):Yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _t(e)}static min(){return new _t(new xr(0,0))}static max(){return new _t(new xr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,t,r){t===void 0?t=0:t>e.length&&gt(),r===void 0?r=e.length-t:r>e.length-t&&gt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return om.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof om?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class vn extends om{construct(e,t,r){return new vn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Je(Ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new vn(t)}static emptyPath(){return new vn([])}}const V9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jr extends om{construct(e,t,r){return new jr(e,t,r)}static isValidIdentifier(e){return V9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new jr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Je(Ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Je(Ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Je(Ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Je(Ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jr(t)}static emptyPath(){return new jr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.path=e}static fromPath(e){return new ht(vn.fromString(e))}static fromName(e){return new ht(vn.fromString(e).popFirst(5))}static empty(){return new ht(vn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return vn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ht(new vn(e.slice()))}}function B9(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=_t.fromTimestamp(r===1e9?new xr(t+1,0):new xr(t,r));return new Ac(i,ht.empty(),e)}function U9(n){return new Ac(n.readTime,n.key,-1)}class Ac{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ac(_t.min(),ht.empty(),-1)}static max(){return new Ac(_t.max(),ht.empty(),-1)}}function z9(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ht.comparator(n.documentKey,e.documentKey),t!==0?t:Yt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class H9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bm(n){if(n.code!==Ne.FAILED_PRECONDITION||n.message!==W9)throw n;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&gt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Be((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Be?t:Be.resolve(t)}catch(t){return Be.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Be.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Be.reject(t)}static resolve(e){return new Be((t,r)=>{t(e)})}static reject(e){return new Be((t,r)=>{r(e)})}static waitFor(e){return new Be((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},l=>r(l))}),o=!0,s===i&&t()})}static or(e){let t=Be.resolve(!1);for(const r of e)t=t.next(i=>i?Be.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new Be((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;t(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,t){return new Be((r,i)=>{const s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}}function q9(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Um(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Eb.oe=-1;function zm(n){return n==null}function j1(n){return n===0&&1/n==-1/0}function $9(n){return typeof n=="number"&&Number.isInteger(n)&&!j1(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function lh(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function aN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,t){this.comparator=e,this.root=t||Fr.EMPTY}insert(e,t){return new Vn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Fr.BLACK,null,null))}remove(e){return new Vn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qg(this.root,e,this.comparator,!1)}getReverseIterator(){return new qg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qg(this.root,e,this.comparator,!0)}}class qg{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fr{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Fr.RED,this.left=i??Fr.EMPTY,this.right=s??Fr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Fr(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Fr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Fr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw gt();const e=this.left.check();if(e!==this.right.check())throw gt();return e+(this.isRed()?0:1)}}Fr.EMPTY=null,Fr.RED=!0,Fr.BLACK=!1;Fr.EMPTY=new class{constructor(){this.size=0}get key(){throw gt()}get value(){throw gt()}get color(){throw gt()}get left(){throw gt()}get right(){throw gt()}copy(e,t,r,i,s){return this}insert(e,t,r){return new Fr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this.comparator=e,this.data=new Vn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new vE(this.data.getIterator())}getIteratorFrom(e){return new vE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ur)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ur(this.comparator);return t.data=e,t}}class vE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e){this.fields=e,e.sort(jr.comparator)}static empty(){return new ts([])}unionWith(e){let t=new Ur(jr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ts(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Dd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new lN("Invalid base64 string: "+s):s}}(e);return new Hr(t)}static fromUint8Array(e){const t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Hr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Hr.EMPTY_BYTE_STRING=new Hr("");const Y9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pc(n){if($t(!!n),typeof n=="string"){let e=0;const t=Y9.exec(n);if($t(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Jn(n.seconds),nanos:Jn(n.nanos)}}function Jn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Xu(n){return typeof n=="string"?Hr.fromBase64String(n):Hr.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Ab(n){const e=n.mapValue.fields.__previous_value__;return kb(e)?Ab(e):e}function am(n){const e=Pc(n.mapValue.fields.__local_write_time__.timestampValue);return new xr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(e,t,r,i,s,o,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class lm{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new lm("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof lm&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g={mapValue:{}};function Ju(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?kb(n)?4:Q9(n)?9007199254740991:K9(n)?10:11:gt()}function Ko(n,e){if(n===e)return!0;const t=Ju(n);if(t!==Ju(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return am(n).isEqual(am(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Pc(i.timestampValue),a=Pc(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return Xu(i.bytesValue).isEqual(Xu(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return Jn(i.geoPointValue.latitude)===Jn(s.geoPointValue.latitude)&&Jn(i.geoPointValue.longitude)===Jn(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Jn(i.integerValue)===Jn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Jn(i.doubleValue),a=Jn(s.doubleValue);return o===a?j1(o)===j1(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return Dd(n.arrayValue.values||[],e.arrayValue.values||[],Ko);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(gE(o)!==gE(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Ko(o[l],a[l])))return!1;return!0}(n,e);default:return gt()}}function cm(n,e){return(n.values||[]).find(t=>Ko(t,e))!==void 0}function Rd(n,e){if(n===e)return 0;const t=Ju(n),r=Ju(e);if(t!==r)return Yt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Yt(n.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Jn(s.integerValue||s.doubleValue),l=Jn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return yE(n.timestampValue,e.timestampValue);case 4:return yE(am(n),am(e));case 5:return Yt(n.stringValue,e.stringValue);case 6:return function(s,o){const a=Xu(s),l=Xu(o);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Yt(a[c],l[c]);if(u!==0)return u}return Yt(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Yt(Jn(s.latitude),Jn(o.latitude));return a!==0?a:Yt(Jn(s.longitude),Jn(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return _E(n.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,u;const h=s.fields||{},d=o.fields||{},f=(a=h.value)===null||a===void 0?void 0:a.arrayValue,g=(l=d.value)===null||l===void 0?void 0:l.arrayValue,w=Yt(((c=f==null?void 0:f.values)===null||c===void 0?void 0:c.length)||0,((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0);return w!==0?w:_E(f,g)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===$g.mapValue&&o===$g.mapValue)return 0;if(s===$g.mapValue)return 1;if(o===$g.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const d=Yt(l[h],u[h]);if(d!==0)return d;const f=Rd(a[l[h]],c[u[h]]);if(f!==0)return f}return Yt(l.length,u.length)}(n.mapValue,e.mapValue);default:throw gt()}}function yE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Yt(n,e);const t=Pc(n),r=Pc(e),i=Yt(t.seconds,r.seconds);return i!==0?i:Yt(t.nanos,r.nanos)}function _E(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=Rd(t[i],r[i]);if(s)return s}return Yt(t.length,r.length)}function Ld(n){return ww(n)}function ww(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Pc(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Xu(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ht.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=ww(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${ww(t.fields[o])}`;return i+"}"}(n.mapValue):gt()}function wE(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function bw(n){return!!n&&"integerValue"in n}function Pb(n){return!!n&&"arrayValue"in n}function bE(n){return!!n&&"nullValue"in n}function xE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function z0(n){return!!n&&"mapValue"in n}function K9(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function xp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return lh(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=xp(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=xp(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Q9(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e){this.value=e}static empty(){return new bi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!z0(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xp(t)}setAll(e){let t=jr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=xp(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());z0(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ko(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];z0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){lh(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new bi(xp(this.value))}}function cN(n){const e=[];return lh(n.fields,(t,r)=>{const i=new jr([t]);if(z0(r)){const s=cN(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new ts(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Pr(e,0,_t.min(),_t.min(),_t.min(),bi.empty(),0)}static newFoundDocument(e,t,r,i){return new Pr(e,1,t,_t.min(),r,i,0)}static newNoDocument(e,t){return new Pr(e,2,t,_t.min(),_t.min(),bi.empty(),0)}static newUnknownDocument(e,t){return new Pr(e,3,t,_t.min(),_t.min(),bi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e,t){this.position=e,this.inclusive=t}}function SE(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(s.field.isKeyField()?r=ht.comparator(ht.fromName(o.referenceValue),t.key):r=Rd(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function EE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ko(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,t="asc"){this.field=e,this.dir=t}}function X9(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{}class fr extends uN{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Z9(e,t,r):t==="array-contains"?new nV(e,r):t==="in"?new rV(e,r):t==="not-in"?new iV(e,r):t==="array-contains-any"?new sV(e,r):new fr(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new eV(e,r):new tV(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Rd(t,this.value)):t!==null&&Ju(this.value)===Ju(t)&&this.matchesComparison(Rd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return gt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class io extends uN{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new io(e,t)}matches(e){return hN(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function hN(n){return n.op==="and"}function dN(n){return J9(n)&&hN(n)}function J9(n){for(const e of n.filters)if(e instanceof io)return!1;return!0}function xw(n){if(n instanceof fr)return n.field.canonicalString()+n.op.toString()+Ld(n.value);if(dN(n))return n.filters.map(e=>xw(e)).join(",");{const e=n.filters.map(t=>xw(t)).join(",");return`${n.op}(${e})`}}function fN(n,e){return n instanceof fr?function(r,i){return i instanceof fr&&r.op===i.op&&r.field.isEqual(i.field)&&Ko(r.value,i.value)}(n,e):n instanceof io?function(r,i){return i instanceof io&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&fN(o,i.filters[a]),!0):!1}(n,e):void gt()}function pN(n){return n instanceof fr?function(t){return`${t.field.canonicalString()} ${t.op} ${Ld(t.value)}`}(n):n instanceof io?function(t){return t.op.toString()+" {"+t.getFilters().map(pN).join(" ,")+"}"}(n):"Filter"}class Z9 extends fr{constructor(e,t,r){super(e,t,r),this.key=ht.fromName(r.referenceValue)}matches(e){const t=ht.comparator(e.key,this.key);return this.matchesComparison(t)}}class eV extends fr{constructor(e,t){super(e,"in",t),this.keys=mN("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class tV extends fr{constructor(e,t){super(e,"not-in",t),this.keys=mN("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function mN(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ht.fromName(r.referenceValue))}class nV extends fr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Pb(t)&&cm(t.arrayValue,this.value)}}class rV extends fr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&cm(this.value.arrayValue,t)}}class iV extends fr{constructor(e,t){super(e,"not-in",t)}matches(e){if(cm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!cm(this.value.arrayValue,t)}}class sV extends fr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Pb(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>cm(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function kE(n,e=null,t=[],r=[],i=null,s=null,o=null){return new oV(n,e,t,r,i,s,o)}function Tb(n){const e=xt(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>xw(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),zm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ld(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ld(r)).join(",")),e.ue=t}return e.ue}function Cb(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!X9(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!fN(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!EE(n.startAt,e.startAt)&&EE(n.endAt,e.endAt)}function Sw(n){return ht.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function aV(n,e,t,r,i,s,o,a){return new ef(n,e,t,r,i,s,o,a)}function Yv(n){return new ef(n)}function AE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function gN(n){return n.collectionGroup!==null}function Sp(n){const e=xt(n);if(e.ce===null){e.ce=[];const t=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ur(jr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new um(s,r))}),t.has(jr.keyField().canonicalString())||e.ce.push(new um(jr.keyField(),r))}return e.ce}function Ho(n){const e=xt(n);return e.le||(e.le=lV(e,Sp(n))),e.le}function lV(n,e){if(n.limitType==="F")return kE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new um(i.field,s)});const t=n.endAt?new V1(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new V1(n.startAt.position,n.startAt.inclusive):null;return kE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Ew(n,e){const t=n.filters.concat([e]);return new ef(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function kw(n,e,t){return new ef(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Gv(n,e){return Cb(Ho(n),Ho(e))&&n.limitType===e.limitType}function vN(n){return`${Tb(Ho(n))}|lt:${n.limitType}`}function Wh(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>pN(i)).join(", ")}]`),zm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Ld(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Ld(i)).join(",")),`Target(${r})`}(Ho(n))}; limitType=${n.limitType})`}function Kv(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ht.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of Sp(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=SE(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Sp(r),i)||r.endAt&&!function(o,a,l){const c=SE(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Sp(r),i))}(n,e)}function cV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function yN(n){return(e,t)=>{let r=!1;for(const i of Sp(n)){const s=uV(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function uV(n,e,t){const r=n.field.isKeyField()?ht.comparator(e.key,t.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Rd(l,c):gt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return gt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){lh(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return aN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV=new Vn(ht.comparator);function Xa(){return hV}const _N=new Vn(ht.comparator);function tp(...n){let e=_N;for(const t of n)e=e.insert(t.key,t);return e}function wN(n){let e=_N;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Su(){return Ep()}function bN(){return Ep()}function Ep(){return new tf(n=>n.toString(),(n,e)=>n.isEqual(e))}const dV=new Vn(ht.comparator),fV=new Ur(ht.comparator);function Mt(...n){let e=fV;for(const t of n)e=e.add(t);return e}const pV=new Ur(Yt);function mV(){return pV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:j1(e)?"-0":e}}function xN(n){return{integerValue:""+n}}function gV(n,e){return $9(e)?xN(e):Nb(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(){this._=void 0}}function vV(n,e,t){return n instanceof hm?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&kb(s)&&(s=Ab(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof dm?EN(n,e):n instanceof fm?kN(n,e):function(i,s){const o=SN(i,s),a=PE(o)+PE(i.Pe);return bw(o)&&bw(i.Pe)?xN(a):Nb(i.serializer,a)}(n,e)}function yV(n,e,t){return n instanceof dm?EN(n,e):n instanceof fm?kN(n,e):t}function SN(n,e){return n instanceof B1?function(r){return bw(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class hm extends Qv{}class dm extends Qv{constructor(e){super(),this.elements=e}}function EN(n,e){const t=AN(e);for(const r of n.elements)t.some(i=>Ko(i,r))||t.push(r);return{arrayValue:{values:t}}}class fm extends Qv{constructor(e){super(),this.elements=e}}function kN(n,e){let t=AN(e);for(const r of n.elements)t=t.filter(i=>!Ko(i,r));return{arrayValue:{values:t}}}class B1 extends Qv{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function PE(n){return Jn(n.integerValue||n.doubleValue)}function AN(n){return Pb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e,t){this.field=e,this.transform=t}}function wV(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof dm&&i instanceof dm||r instanceof fm&&i instanceof fm?Dd(r.elements,i.elements,Ko):r instanceof B1&&i instanceof B1?Ko(r.Pe,i.Pe):r instanceof hm&&i instanceof hm}(n.transform,e.transform)}class bV{constructor(e,t){this.version=e,this.transformResults=t}}class pr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new pr}static exists(e){return new pr(void 0,e)}static updateTime(e){return new pr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function W0(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Xv{}function PN(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Hm(n.key,pr.none()):new Wm(n.key,n.data,pr.none());{const t=n.data,r=bi.empty();let i=new Ur(jr.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Uc(n.key,r,new ts(i.toArray()),pr.none())}}function xV(n,e,t){n instanceof Wm?function(i,s,o){const a=i.value.clone(),l=CE(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Uc?function(i,s,o){if(!W0(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=CE(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(TN(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function kp(n,e,t,r){return n instanceof Wm?function(s,o,a,l){if(!W0(s.precondition,o))return a;const c=s.value.clone(),u=NE(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof Uc?function(s,o,a,l){if(!W0(s.precondition,o))return a;const c=NE(s.fieldTransforms,l,o),u=o.data;return u.setAll(TN(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(n,e,t,r):function(s,o,a){return W0(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function SV(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=SN(r.transform,i||null);s!=null&&(t===null&&(t=bi.empty()),t.set(r.field,s))}return t||null}function TE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Dd(r,i,(s,o)=>wV(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Wm extends Xv{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Uc extends Xv{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function TN(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function CE(n,e,t){const r=new Map;$t(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,yV(o,a,t[i]))}return r}function NE(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,vV(s,o,e))}return r}class Hm extends Xv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CN extends Xv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&xV(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=kp(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=kp(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=bN();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const l=PN(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(_t.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Mt())}isEqual(e){return this.batchId===e.batchId&&Dd(this.mutations,e.mutations,(t,r)=>TE(t,r))&&Dd(this.baseMutations,e.baseMutations,(t,r)=>TE(t,r))}}class Ib{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){$t(e.mutations.length===r.length);let i=function(){return dV}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Ib(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hr,jt;function NN(n){switch(n){default:return gt();case Ne.CANCELLED:case Ne.UNKNOWN:case Ne.DEADLINE_EXCEEDED:case Ne.RESOURCE_EXHAUSTED:case Ne.INTERNAL:case Ne.UNAVAILABLE:case Ne.UNAUTHENTICATED:return!1;case Ne.INVALID_ARGUMENT:case Ne.NOT_FOUND:case Ne.ALREADY_EXISTS:case Ne.PERMISSION_DENIED:case Ne.FAILED_PRECONDITION:case Ne.ABORTED:case Ne.OUT_OF_RANGE:case Ne.UNIMPLEMENTED:case Ne.DATA_LOSS:return!0}}function IN(n){if(n===void 0)return Qa("GRPC error has no .code"),Ne.UNKNOWN;switch(n){case hr.OK:return Ne.OK;case hr.CANCELLED:return Ne.CANCELLED;case hr.UNKNOWN:return Ne.UNKNOWN;case hr.DEADLINE_EXCEEDED:return Ne.DEADLINE_EXCEEDED;case hr.RESOURCE_EXHAUSTED:return Ne.RESOURCE_EXHAUSTED;case hr.INTERNAL:return Ne.INTERNAL;case hr.UNAVAILABLE:return Ne.UNAVAILABLE;case hr.UNAUTHENTICATED:return Ne.UNAUTHENTICATED;case hr.INVALID_ARGUMENT:return Ne.INVALID_ARGUMENT;case hr.NOT_FOUND:return Ne.NOT_FOUND;case hr.ALREADY_EXISTS:return Ne.ALREADY_EXISTS;case hr.PERMISSION_DENIED:return Ne.PERMISSION_DENIED;case hr.FAILED_PRECONDITION:return Ne.FAILED_PRECONDITION;case hr.ABORTED:return Ne.ABORTED;case hr.OUT_OF_RANGE:return Ne.OUT_OF_RANGE;case hr.UNIMPLEMENTED:return Ne.UNIMPLEMENTED;case hr.DATA_LOSS:return Ne.DATA_LOSS;default:return gt()}}(jt=hr||(hr={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV=new Iu([4294967295,4294967295],0);function IE(n){const e=PV().encode(n),t=new ZC;return t.update(e),new Uint8Array(t.digest())}function DE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Iu([t,r],0),new Iu([i,s],0)]}class Db{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new np(`Invalid padding: ${t}`);if(r<0)throw new np(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new np(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new np(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Iu.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(Iu.fromNumber(r)));return i.compare(TV)===1&&(i=new Iu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=IE(e),[r,i]=DE(t);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Db(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const t=IE(e),[r,i]=DE(t);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class np extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,qm.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Jv(_t.min(),i,new Vn(Yt),Xa(),Mt())}}class qm{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new qm(r,t,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}}class DN{constructor(e,t){this.targetId=e,this.me=t}}class RN{constructor(e,t,r=Hr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class RE{constructor(){this.fe=0,this.ge=ME(),this.pe=Hr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Mt(),t=Mt(),r=Mt();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:gt()}}),new qm(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=ME()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,$t(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class CV{constructor(e){this.Le=e,this.Be=new Map,this.ke=Xa(),this.qe=LE(),this.Qe=new Vn(Yt)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:gt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){const t=e.targetId,r=e.me.count,i=this.Je(t);if(i){const s=i.target;if(Sw(s))if(r===0){const o=new ht(s.path);this.Ue(t,o,Pr.newNoDocument(o,_t.min()))}else $t(r===1);else{const o=this.Ye(t);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(t);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,c)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,a;try{o=Xu(r).toUint8Array()}catch(l){if(l instanceof lN)return Id("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Db(o,i,s)}catch(l){return Id(l instanceof np?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,s,null),i++)}),i}rt(e){const t=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Sw(a.target)){const l=new ht(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Pr.newNoDocument(l,e))}s.be&&(t.set(o,s.ve()),s.Ce())}});let r=Mt();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Jv(e,t,this.Qe,this.ke,r);return this.ke=Xa(),this.qe=LE(),this.Qe=new Vn(Yt),i}$e(e,t){if(!this.ze(e))return;const r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new RE,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Ur(Yt),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||at("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new RE),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function LE(){return new Vn(ht.comparator)}function ME(){return new Vn(ht.comparator)}const NV={asc:"ASCENDING",desc:"DESCENDING"},IV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DV={and:"AND",or:"OR"};class RV{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Aw(n,e){return n.useProto3Json||zm(e)?e:{value:e}}function U1(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LN(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function LV(n,e){return U1(n,e.toTimestamp())}function is(n){return $t(!!n),_t.fromTimestamp(function(t){const r=Pc(t);return new xr(r.seconds,r.nanos)}(n))}function Rb(n,e){return Pw(n,e).canonicalString()}function Pw(n,e){const t=function(i){return new vn(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function MN(n){const e=vn.fromString(n);return $t(UN(e)),e}function z1(n,e){return Rb(n.databaseId,e.path)}function Ap(n,e){const t=MN(e);if(t.get(1)!==n.databaseId.projectId)throw new Je(Ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Je(Ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ht(FN(t))}function ON(n,e){return Rb(n.databaseId,e)}function MV(n){const e=MN(n);return e.length===4?vn.emptyPath():FN(e)}function Tw(n){return new vn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function FN(n){return $t(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function OE(n,e,t){return{name:z1(n,e),fields:t.value.mapValue.fields}}function OV(n,e){return"found"in e?function(r,i){$t(!!i.found),i.found.name,i.found.updateTime;const s=Ap(r,i.found.name),o=is(i.found.updateTime),a=i.found.createTime?is(i.found.createTime):_t.min(),l=new bi({mapValue:{fields:i.found.fields}});return Pr.newFoundDocument(s,o,a,l)}(n,e):"missing"in e?function(r,i){$t(!!i.missing),$t(!!i.readTime);const s=Ap(r,i.missing),o=is(i.readTime);return Pr.newNoDocument(s,o)}(n,e):gt()}function FV(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:gt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?($t(u===void 0||typeof u=="string"),Hr.fromBase64String(u||"")):($t(u===void 0||u instanceof Buffer||u instanceof Uint8Array),Hr.fromUint8Array(u||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?Ne.UNKNOWN:IN(c.code);return new Je(u,c.message||"")}(o);t=new RN(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ap(n,r.document.name),s=is(r.document.updateTime),o=r.document.createTime?is(r.document.createTime):_t.min(),a=new bi({mapValue:{fields:r.document.fields}}),l=Pr.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];t=new H0(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ap(n,r.document),s=r.readTime?is(r.readTime):_t.min(),o=Pr.newNoDocument(i,s),a=r.removedTargetIds||[];t=new H0([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ap(n,r.document),s=r.removedTargetIds||[];t=new H0([],s,i,null)}else{if(!("filter"in e))return gt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new AV(i,s),a=r.targetId;t=new DN(a,o)}}return t}function jN(n,e){let t;if(e instanceof Wm)t={update:OE(n,e.key,e.value)};else if(e instanceof Hm)t={delete:z1(n,e.key)};else if(e instanceof Uc)t={update:OE(n,e.key,e.data),updateMask:$V(e.fieldMask)};else{if(!(e instanceof CN))return gt();t={verify:z1(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof hm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof dm)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof fm)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof B1)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw gt()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:LV(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:gt()}(n,e.precondition)),t}function jV(n,e){return n&&n.length>0?($t(e!==void 0),n.map(t=>function(i,s){let o=i.updateTime?is(i.updateTime):is(s);return o.isEqual(_t.min())&&(o=is(s)),new bV(o,i.transformResults||[])}(t,e))):[]}function VV(n,e){return{documents:[ON(n,e.path)]}}function BV(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=ON(n,i);const s=function(c){if(c.length!==0)return BN(io.create(c,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(u=>function(d){return{field:Hh(d.field),direction:WV(d.dir)}}(u))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const a=Aw(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:t,parent:i}}function UV(n){let e=MV(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){$t(r===1);const u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=function(h){const d=VN(h);return d instanceof io&&dN(d)?d.getFilters():[d]}(t.where));let o=[];t.orderBy&&(o=function(h){return h.map(d=>function(g){return new um(qh(g.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(d))}(t.orderBy));let a=null;t.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,zm(d)?null:d}(t.limit));let l=null;t.startAt&&(l=function(h){const d=!!h.before,f=h.values||[];return new V1(f,d)}(t.startAt));let c=null;return t.endAt&&(c=function(h){const d=!h.before,f=h.values||[];return new V1(f,d)}(t.endAt)),aV(e,i,o,s,a,"F",l,c)}function zV(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function VN(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=qh(t.unaryFilter.field);return fr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=qh(t.unaryFilter.field);return fr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=qh(t.unaryFilter.field);return fr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=qh(t.unaryFilter.field);return fr.create(o,"!=",{nullValue:"NULL_VALUE"});default:return gt()}}(n):n.fieldFilter!==void 0?function(t){return fr.create(qh(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gt()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return io.create(t.compositeFilter.filters.map(r=>VN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return gt()}}(t.compositeFilter.op))}(n):gt()}function WV(n){return NV[n]}function HV(n){return IV[n]}function qV(n){return DV[n]}function Hh(n){return{fieldPath:n.canonicalString()}}function qh(n){return jr.fromServerFormat(n.fieldPath)}function BN(n){return n instanceof fr?function(t){if(t.op==="=="){if(xE(t.value))return{unaryFilter:{field:Hh(t.field),op:"IS_NAN"}};if(bE(t.value))return{unaryFilter:{field:Hh(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(xE(t.value))return{unaryFilter:{field:Hh(t.field),op:"IS_NOT_NAN"}};if(bE(t.value))return{unaryFilter:{field:Hh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hh(t.field),op:HV(t.op),value:t.value}}}(n):n instanceof io?function(t){const r=t.getFilters().map(i=>BN(i));return r.length===1?r[0]:{compositeFilter:{op:qV(t.op),filters:r}}}(n):gt()}function $V(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function UN(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,t,r,i,s=_t.min(),o=_t.min(),a=Hr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Zl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Zl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(e){this.ct=e}}function GV(n){const e=UV({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?kw(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(){this.un=new QV}addToCollectionParentIndex(e,t){return this.un.add(t),Be.resolve()}getCollectionParents(e,t){return Be.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return Be.resolve()}deleteFieldIndex(e,t){return Be.resolve()}deleteAllFieldIndexes(e){return Be.resolve()}createTargetIndexes(e,t){return Be.resolve()}getDocumentsMatchingTarget(e,t){return Be.resolve(null)}getIndexType(e,t){return Be.resolve(0)}getFieldIndexes(e,t){return Be.resolve([])}getNextCollectionGroupToUpdate(e){return Be.resolve(null)}getMinOffset(e,t){return Be.resolve(Ac.min())}getMinOffsetFromCollectionGroup(e,t){return Be.resolve(Ac.min())}updateCollectionGroup(e,t,r){return Be.resolve()}updateIndexEntries(e,t){return Be.resolve()}}class QV{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ur(vn.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ur(vn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Md(0)}static kn(){return new Md(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(){this.changes=new tf(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Pr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Be.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&kp(r.mutation,i,ts.empty(),xr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Mt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Mt()){const i=Su();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=tp();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=Su();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Mt()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Xa();const o=Ep(),a=function(){return Ep()}();return t.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Uc)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),kp(u.mutation,c,u.mutation.getFieldMask(),xr.now())):o.set(c.key,ts.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),t.forEach((c,u)=>{var h;return a.set(c,new JV(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Ep();let i=new Vn((o,a)=>o-a),s=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=t.get(l);if(c===null)return;let u=r.get(l)||ts.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(i.get(a.batchId)||Mt()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=bN();u.forEach(d=>{if(!s.has(d)){const f=PN(t.get(d),r.get(d));f!==null&&h.set(d,f),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return Be.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(o){return ht.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):gN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):Be.resolve(Su());let a=-1,l=s;return o.next(c=>Be.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(u)?Be.resolve():this.remoteDocumentCache.getEntry(e,u).next(d=>{l=l.insert(u,d)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Mt())).next(u=>({batchId:a,changes:wN(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ht(t)).next(r=>{let i=tp();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=tp();return this.indexManager.getCollectionParents(e,s).next(a=>Be.forEach(a,l=>{const c=function(h,d){return new ef(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(t,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((h,d)=>{o=o.insert(h,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Pr.newInvalidDocument(u)))});let a=tp();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&kp(u.mutation,c,ts.empty(),xr.now()),Kv(t,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return Be.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:is(i.createTime)}}(t)),Be.resolve()}getNamedQuery(e,t){return Be.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:GV(i.bundledQuery),readTime:is(i.readTime)}}(t)),Be.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tB{constructor(){this.overlays=new Vn(ht.comparator),this.Ir=new Map}getOverlay(e,t){return Be.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Su();return Be.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ht(e,t,s)}),Be.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),Be.resolve()}getOverlaysForCollection(e,t,r){const i=Su(),s=t.length+1,o=new ht(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Be.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Vn((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=Su(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Su(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return Be.resolve(a)}ht(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new kV(t,r));let s=this.Ir.get(t);s===void 0&&(s=Mt(),this.Ir.set(t,s)),this.Ir.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(){this.sessionToken=Hr.EMPTY_BYTE_STRING}getSessionToken(e){return Be.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Be.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(){this.Tr=new Ur(kr.Er),this.dr=new Ur(kr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const r=new kr(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new kr(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){const t=new ht(new vn([])),r=new kr(t,e),i=new kr(t,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new ht(new vn([])),r=new kr(t,e),i=new kr(t,e+1);let s=Mt();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new kr(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class kr{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return ht.comparator(e.key,t.key)||Yt(e.wr,t.wr)}static Ar(e,t){return Yt(e.wr,t.wr)||ht.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Ur(kr.Er)}checkEmpty(e){return Be.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new EV(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new kr(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Be.resolve(o)}lookupMutationBatch(e,t){return Be.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.vr(r),s=i<0?0:i;return Be.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Be.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new kr(t,0),i=new kr(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),Be.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ur(Yt);return t.forEach(i=>{const s=new kr(i,0),o=new kr(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),Be.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;ht.isDocumentKey(s)||(s=s.child(""));const o=new kr(new ht(s),0);let a=new Ur(Yt);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.wr)),!0)},o),Be.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){$t(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Be.forEach(t.mutations,i=>{const s=new kr(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){const r=new kr(t,0),i=this.br.firstAfterOrEqual(r);return Be.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Be.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iB{constructor(e){this.Mr=e,this.docs=function(){return new Vn(ht.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Be.resolve(r?r.document.mutableCopy():Pr.newInvalidDocument(t))}getEntries(e,t){let r=Xa();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Pr.newInvalidDocument(i))}),Be.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Xa();const o=t.path,a=new ht(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||z9(U9(u),r)<=0||(i.has(u.key)||Kv(t,u))&&(s=s.insert(u.key,u.mutableCopy()))}return Be.resolve(s)}getAllFromCollectionGroup(e,t,r,i){gt()}Or(e,t){return Be.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new sB(this)}getSize(e){return Be.resolve(this.size)}}class sB extends XV{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Be.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(e){this.persistence=e,this.Nr=new tf(t=>Tb(t),Cb),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Lb,this.targetCount=0,this.kr=Md.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),Be.resolve()}getLastRemoteSnapshotVersion(e){return Be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Be.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Be.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),Be.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new Md(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,Be.resolve()}updateTargetData(e,t){return this.Kn(t),Be.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,Be.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Be.waitFor(s).next(()=>i)}getTargetCount(e){return Be.resolve(this.targetCount)}getTargetData(e,t){const r=this.Nr.get(t)||null;return Be.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),Be.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Be.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),Be.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Br.yr(t);return Be.resolve(r)}containsKey(e,t){return Be.resolve(this.Br.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Eb(0),this.Kr=!1,this.Kr=!0,this.$r=new nB,this.referenceDelegate=e(this),this.Ur=new oB(this),this.indexManager=new KV,this.remoteDocumentCache=function(i){return new iB(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new YV(t),this.Gr=new eB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new tB,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new rB(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){at("MemoryPersistence","Starting transaction:",e);const i=new lB(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,t){return Be.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}}class lB extends H9{constructor(e){super(),this.currentSequenceNumber=e}}class Mb{constructor(e){this.persistence=e,this.Jr=new Lb,this.Yr=null}static Zr(e){return new Mb(e)}get Xr(){if(this.Yr)return this.Yr;throw gt()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),Be.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),Be.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),Be.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Be.forEach(this.Xr,r=>{const i=ht.fromPath(r);return this.ei(e,i).next(s=>{s||t.removeEntry(i,_t.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return Be.or([()=>Be.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=Mt(),i=Mt();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Ob(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uB{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Z8()?8:q9(hi())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.Yi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new cB;return this.Xi(e,t,o).next(a=>{if(s.result=a,this.zi)return this.es(e,t,o,a.size)})}).next(()=>s.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(Of()<=Ot.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Wh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Be.resolve()):(Of()<=Ot.DEBUG&&at("QueryEngine","Query:",Wh(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Of()<=Ot.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Wh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ho(t))):Be.resolve())}Yi(e,t){if(AE(t))return Be.resolve(null);let r=Ho(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=kw(t,null,"F"),r=Ho(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Mt(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(t,a);return this.ns(t,c,o,l.readTime)?this.Yi(e,kw(t,null,"F")):this.rs(e,c,t,l)}))})))}Zi(e,t,r,i){return AE(t)||i.isEqual(_t.min())?Be.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(t,s);return this.ns(t,o,r,i)?Be.resolve(null):(Of()<=Ot.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Wh(t)),this.rs(e,o,t,B9(i,-1)).next(a=>a))})}ts(e,t){let r=new Ur(yN(e));return t.forEach((i,s)=>{Kv(e,s)&&(r=r.add(s))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,t,r){return Of()<=Ot.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Wh(t)),this.Ji.getDocumentsMatchingQuery(e,t,Ac.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new Vn(Yt),this._s=new tf(s=>Tb(s),Cb),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZV(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function dB(n,e,t,r){return new hB(n,e,t,r)}async function zN(n,e){const t=xt(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Mt();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function fB(n,e){const t=xt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,d=h.keys();let f=Be.resolve();return d.forEach(g=>{f=f.next(()=>u.getEntry(l,g)).next(w=>{const x=c.docVersions.get(g);$t(x!==null),w.version.compareTo(x)<0&&(h.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),u.addEntry(w)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Mt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function WN(n){const e=xt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function pB(n,e){const t=xt(n),r=e.snapshotVersion;let i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;const a=[];e.targetChanges.forEach((u,h)=>{const d=i.get(h);if(!d)return;a.push(t.Ur.removeMatchingKeys(s,u.removedDocuments,h).next(()=>t.Ur.addMatchingKeys(s,u.addedDocuments,h)));let f=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?f=f.withResumeToken(Hr.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),i=i.insert(h,f),function(w,x,_){return w.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(d,f,u)&&a.push(t.Ur.updateTargetData(s,f))});let l=Xa(),c=Mt();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(mB(s,o,e.documentUpdates).next(u=>{l=u.Ps,c=u.Is})),!r.isEqual(_t.min())){const u=t.Ur.getLastRemoteSnapshotVersion(s).next(h=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return Be.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.os=i,s))}function mB(n,e,t){let r=Mt(),i=Mt();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Xa();return t.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(_t.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):at("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function gB(n,e){const t=xt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function vB(n,e){const t=xt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(s=>s?(i=s,Be.resolve(i)):t.Ur.allocateTargetId(r).next(o=>(i=new Zl(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}async function Cw(n,e,t){const r=xt(n),i=r.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Um(o))throw o;at("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function FE(n,e,t){const r=xt(n);let i=_t.min(),s=Mt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const h=xt(l),d=h._s.get(u);return d!==void 0?Be.resolve(h.os.get(d)):h.Ur.getTargetData(c,u)}(r,o,Ho(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,t?i:_t.min(),t?s:Mt())).next(a=>(yB(r,cV(e),a),{documents:a,Ts:s})))}function yB(n,e,t){let r=n.us.get(e)||_t.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.us.set(e,r)}class jE{constructor(){this.activeTargetIds=mV()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _B{constructor(){this.so=new jE,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new jE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wB{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){at("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){at("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yg=null;function A2(){return Yg===null?Yg=function(){return 268435456+Math.round(2147483648*Math.random())}():Yg++,"0x"+Yg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr="WebChannelConnection";class SB extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(t,r,i,s,o){const a=A2(),l=this.xo(t,r.toUriEncodedString());at("RestConnection",`Sending RPC '${t}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(t,l,c,i).then(u=>(at("RestConnection",`Received RPC '${t}' ${a}: `,u),u),u=>{throw Id("RestConnection",`RPC '${t}' ${a} failed with error: `,u,"url: ",l,"request:",i),u})}Lo(t,r,i,s,o,a){return this.Mo(t,r,i,s,o)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zd}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}xo(t,r){const i=bB[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){const s=A2();return new Promise((o,a)=>{const l=new eN;l.setWithCredentials(!0),l.listenOnce(tN.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case U0.NO_ERROR:const u=l.getResponseJson();at(Xr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case U0.TIMEOUT:at(Xr,`RPC '${e}' ${s} timed out`),a(new Je(Ne.DEADLINE_EXCEEDED,"Request time out"));break;case U0.HTTP_ERROR:const h=l.getStatus();if(at(Xr,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const f=d==null?void 0:d.error;if(f&&f.status&&f.message){const g=function(x){const _=x.toLowerCase().replace(/_/g,"-");return Object.values(Ne).indexOf(_)>=0?_:Ne.UNKNOWN}(f.status);a(new Je(g,f.message))}else a(new Je(Ne.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Je(Ne.UNAVAILABLE,"Connection failed."));break;default:gt()}}finally{at(Xr,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);at(Xr,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",c,r,15)})}Bo(e,t,r){const i=A2(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=iN(),a=rN(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const u=s.join("");at(Xr,`Creating RPC '${e}' stream ${i}: ${u}`,l);const h=o.createWebChannel(u,l);let d=!1,f=!1;const g=new xB({Io:x=>{f?at(Xr,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(d||(at(Xr,`Opening RPC '${e}' stream ${i} transport.`),h.open(),d=!0),at(Xr,`RPC '${e}' stream ${i} sending:`,x),h.send(x))},To:()=>h.close()}),w=(x,_,b)=>{x.listen(_,E=>{try{b(E)}catch(R){setTimeout(()=>{throw R},0)}})};return w(h,ep.EventType.OPEN,()=>{f||(at(Xr,`RPC '${e}' stream ${i} transport opened.`),g.yo())}),w(h,ep.EventType.CLOSE,()=>{f||(f=!0,at(Xr,`RPC '${e}' stream ${i} transport closed`),g.So())}),w(h,ep.EventType.ERROR,x=>{f||(f=!0,Id(Xr,`RPC '${e}' stream ${i} transport errored:`,x),g.So(new Je(Ne.UNAVAILABLE,"The operation could not be completed")))}),w(h,ep.EventType.MESSAGE,x=>{var _;if(!f){const b=x.data[0];$t(!!b);const E=b,R=E.error||((_=E[0])===null||_===void 0?void 0:_.error);if(R){at(Xr,`RPC '${e}' stream ${i} received error:`,R);const O=R.status;let V=function(S){const I=hr[S];if(I!==void 0)return IN(I)}(O),C=R.message;V===void 0&&(V=Ne.INTERNAL,C="Unknown error status: "+O+" with message "+R.message),f=!0,g.So(new Je(V,C)),h.close()}else at(Xr,`RPC '${e}' stream ${i} received:`,b),g.bo(b)}}),w(a,nN.STAT_EVENT,x=>{x.stat===_w.PROXY?at(Xr,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===_w.NOPROXY&&at(Xr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}function P2(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(n){return new RV(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&at("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,t,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Fb(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===Ne.RESOURCE_EXHAUSTED?(Qa(t.toString()),Qa("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===Ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{const i=new Je(Ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){const r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return at("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(at("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class EB extends HN{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=FV(this.serializer,e),r=function(s){if(!("targetChange"in s))return _t.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?_t.min():o.readTime?is(o.readTime):_t.min()}(e);return this.listener.d_(t,r)}A_(e){const t={};t.database=Tw(this.serializer),t.addTarget=function(s,o){let a;const l=o.target;if(a=Sw(l)?{documents:VV(s,l)}:{query:BV(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=LN(s,o.resumeToken);const c=Aw(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(_t.min())>0){a.readTime=U1(s,o.snapshotVersion.toTimestamp());const c=Aw(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=zV(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){const t={};t.database=Tw(this.serializer),t.removeTarget=e,this.a_(t)}}class kB extends HN{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return $t(!!e.streamToken),this.lastStreamToken=e.streamToken,$t(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){$t(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=jV(e.writeResults,e.commitTime),r=is(e.commitTime);return this.listener.g_(r,t)}p_(){const e={};e.database=Tw(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>jN(this.serializer,r))};this.a_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Je(Ne.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Pw(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Je(Ne.UNKNOWN,s.toString())})}Lo(e,t,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Pw(t,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Je(Ne.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class PB{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Qa(t),this.D_=!1):at("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TB{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{ch(this)&&(at("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=xt(l);c.L_.add(4),await $m(c),c.q_.set("Unknown"),c.L_.delete(4),await ey(c)}(this))})}),this.q_=new PB(r,i)}}async function ey(n){if(ch(n))for(const e of n.B_)await e(!0)}async function $m(n){for(const e of n.B_)await e(!1)}function qN(n,e){const t=xt(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),Ub(t)?Bb(t):nf(t).r_()&&Vb(t,e))}function jb(n,e){const t=xt(n),r=nf(t);t.N_.delete(e),r.r_()&&$N(t,e),t.N_.size===0&&(r.r_()?r.o_():ch(t)&&t.q_.set("Unknown"))}function Vb(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_t.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}nf(n).A_(e)}function $N(n,e){n.Q_.xe(e),nf(n).R_(e)}function Bb(n){n.Q_=new CV({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),nf(n).start(),n.q_.v_()}function Ub(n){return ch(n)&&!nf(n).n_()&&n.N_.size>0}function ch(n){return xt(n).L_.size===0}function YN(n){n.Q_=void 0}async function CB(n){n.q_.set("Online")}async function NB(n){n.N_.forEach((e,t)=>{Vb(n,e)})}async function IB(n,e){YN(n),Ub(n)?(n.q_.M_(e),Bb(n)):n.q_.set("Unknown")}async function DB(n,e,t){if(n.q_.set("Online"),e instanceof RN&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(n,e)}catch(r){at("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await W1(n,r)}else if(e instanceof H0?n.Q_.Ke(e):e instanceof DN?n.Q_.He(e):n.Q_.We(e),!t.isEqual(_t.min()))try{const r=await WN(n.localStore);t.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.N_.get(c);u&&s.N_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.N_.get(l);if(!u)return;s.N_.set(l,u.withResumeToken(Hr.EMPTY_BYTE_STRING,u.snapshotVersion)),$N(s,l);const h=new Zl(u.target,l,c,u.sequenceNumber);Vb(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t)}catch(r){at("RemoteStore","Failed to raise snapshot:",r),await W1(n,r)}}async function W1(n,e,t){if(!Um(e))throw e;n.L_.add(1),await $m(n),n.q_.set("Offline"),t||(t=()=>WN(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{at("RemoteStore","Retrying IndexedDB access"),await t(),n.L_.delete(1),await ey(n)})}function GN(n,e){return e().catch(t=>W1(n,t,e))}async function ty(n){const e=xt(n),t=Tc(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;RB(e);)try{const i=await gB(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,LB(e,i)}catch(i){await W1(e,i)}KN(e)&&QN(e)}function RB(n){return ch(n)&&n.O_.length<10}function LB(n,e){n.O_.push(e);const t=Tc(n);t.r_()&&t.V_&&t.m_(e.mutations)}function KN(n){return ch(n)&&!Tc(n).n_()&&n.O_.length>0}function QN(n){Tc(n).start()}async function MB(n){Tc(n).p_()}async function OB(n){const e=Tc(n);for(const t of n.O_)e.m_(t.mutations)}async function FB(n,e,t){const r=n.O_.shift(),i=Ib.from(r,e,t);await GN(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await ty(n)}async function jB(n,e){e&&Tc(n).V_&&await async function(r,i){if(function(o){return NN(o)&&o!==Ne.ABORTED}(i.code)){const s=r.O_.shift();Tc(r).s_(),await GN(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await ty(r)}}(n,e),KN(n)&&QN(n)}async function BE(n,e){const t=xt(n);t.asyncQueue.verifyOperationInProgress(),at("RemoteStore","RemoteStore received new credentials");const r=ch(t);t.L_.add(3),await $m(t),r&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await ey(t)}async function VB(n,e){const t=xt(n);e?(t.L_.delete(2),await ey(t)):e||(t.L_.add(2),await $m(t),t.q_.set("Unknown"))}function nf(n){return n.K_||(n.K_=function(t,r,i){const s=xt(t);return s.w_(),new EB(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:CB.bind(null,n),Ro:NB.bind(null,n),mo:IB.bind(null,n),d_:DB.bind(null,n)}),n.B_.push(async e=>{e?(n.K_.s_(),Ub(n)?Bb(n):n.q_.set("Unknown")):(await n.K_.stop(),YN(n))})),n.K_}function Tc(n){return n.U_||(n.U_=function(t,r,i){const s=xt(t);return s.w_(),new kB(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:MB.bind(null,n),mo:jB.bind(null,n),f_:OB.bind(null,n),g_:FB.bind(null,n)}),n.B_.push(async e=>{e?(n.U_.s_(),await ty(n)):(await n.U_.stop(),n.O_.length>0&&(at("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))})),n.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Wo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new zb(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Je(Ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wb(n,e){if(Qa("AsyncQueue",`${e}: ${n}`),Um(n))return new Je(Ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ht.comparator(t.key,r.key):(t,r)=>ht.comparator(t.key,r.key),this.keyedMap=tp(),this.sortedSet=new Vn(this.comparator)}static emptySet(e){return new yd(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof yd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new yd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(){this.W_=new Vn(ht.comparator)}track(e){const t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):gt():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Od{constructor(e,t,r,i,s,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new Od(e,t,yd.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class UB{constructor(){this.queries=zE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){const i=xt(t),s=i.queries;i.queries=zE(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Je(Ne.ABORTED,"Firestore shutting down"))}}function zE(){return new tf(n=>vN(n),Gv)}async function Hb(n,e){const t=xt(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new BB,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await t.onListen(i,!0);break;case 1:s.z_=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(o){const a=Wb(o,`Initialization of query '${Wh(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&$b(t)}async function qb(n,e){const t=xt(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function zB(n,e){const t=xt(n);let r=!1;for(const i of e){const s=i.query,o=t.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&$b(t)}function WB(n,e,t){const r=xt(n),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(t);r.queries.delete(e)}function $b(n){n.Y_.forEach(e=>{e.next()})}var Nw,WE;(WE=Nw||(Nw={})).ea="default",WE.Cache="cache";class Yb{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Od(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Od.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Nw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e){this.key=e}}class JN{constructor(e){this.key=e}}class HB{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Mt(),this.mutatedKeys=Mt(),this.Aa=yN(e),this.Ra=new yd(this.Aa)}get Va(){return this.Ta}ma(e,t){const r=t?t.fa:new UE,i=t?t.Ra:this.Ra;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,h)=>{const d=i.get(u),f=Kv(this.query,h)?h:null,g=!!d&&this.mutatedKeys.has(d.key),w=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let x=!1;d&&f?d.data.isEqual(f.data)?g!==w&&(r.track({type:3,doc:f}),x=!0):this.ga(d,f)||(r.track({type:2,doc:f}),x=!0,(l&&this.Aa(f,l)>0||c&&this.Aa(f,c)<0)&&(a=!0)):!d&&f?(r.track({type:0,doc:f}),x=!0):d&&!f&&(r.track({type:1,doc:d}),x=!0,(l||c)&&(a=!0)),x&&(f?(o=o.add(f),s=w?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((u,h)=>function(f,g){const w=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt()}};return w(f)-w(g)}(u.type,h.type)||this.Aa(u.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=t&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new Od(this.query,e.Ra,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new UE,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Mt(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const t=[];return e.forEach(r=>{this.da.has(r)||t.push(new JN(r))}),this.da.forEach(r=>{e.has(r)||t.push(new XN(r))}),t}ba(e){this.Ta=e.Ts,this.da=Mt();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Od.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class qB{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class $B{constructor(e){this.key=e,this.va=!1}}class YB{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new tf(a=>vN(a),Gv),this.Ma=new Map,this.xa=new Set,this.Oa=new Vn(ht.comparator),this.Na=new Map,this.La=new Lb,this.Ba={},this.ka=new Map,this.qa=Md.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function GB(n,e,t=!0){const r=iI(n);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await ZN(r,e,t,!0),i}async function KB(n,e){const t=iI(n);await ZN(t,e,!0,!1)}async function ZN(n,e,t,r){const i=await vB(n.localStore,Ho(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t);let a;return r&&(a=await QB(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&qN(n.remoteStore,i),a}async function QB(n,e,t,r,i){n.Ka=(h,d,f)=>async function(w,x,_,b){let E=x.view.ma(_);E.ns&&(E=await FE(w.localStore,x.query,!1).then(({documents:C})=>x.view.ma(C,E)));const R=b&&b.targetChanges.get(x.targetId),O=b&&b.targetMismatches.get(x.targetId)!=null,V=x.view.applyChanges(E,w.isPrimaryClient,R,O);return qE(w,x.targetId,V.wa),V.snapshot}(n,h,d,f);const s=await FE(n.localStore,e,!0),o=new HB(e,s.Ts),a=o.ma(s.documents),l=qm.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),c=o.applyChanges(a,n.isPrimaryClient,l);qE(n,t,c.wa);const u=new qB(e,t,o);return n.Fa.set(e,u),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),c.snapshot}async function XB(n,e,t){const r=xt(n),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Gv(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Cw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&jb(r.remoteStore,i.targetId),Iw(r,i.targetId)}).catch(Bm)):(Iw(r,i.targetId),await Cw(r.localStore,i.targetId,!0))}async function JB(n,e){const t=xt(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),jb(t.remoteStore,r.targetId))}async function ZB(n,e,t){const r=oU(n);try{const i=await function(o,a){const l=xt(o),c=xr.now(),u=a.reduce((f,g)=>f.add(g.key),Mt());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let g=Xa(),w=Mt();return l.cs.getEntries(f,u).next(x=>{g=x,g.forEach((_,b)=>{b.isValidDocument()||(w=w.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,g)).next(x=>{h=x;const _=[];for(const b of a){const E=SV(b,h.get(b.key).overlayedDocument);E!=null&&_.push(new Uc(b.key,E,cN(E.value.mapValue),pr.exists(!0)))}return l.mutationQueue.addMutationBatch(f,c,_,a)}).next(x=>{d=x;const _=x.applyToLocalDocumentSet(h,w);return l.documentOverlayCache.saveOverlays(f,x.batchId,_)})}).then(()=>({batchId:d.batchId,changes:wN(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new Vn(Yt)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,t),await Ym(r,i.changes),await ty(r.remoteStore)}catch(i){const s=Wb(i,"Failed to persist write");t.reject(s)}}async function eI(n,e){const t=xt(n);try{const r=await pB(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.Na.get(s);o&&($t(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?$t(o.va):i.removedDocuments.size>0&&($t(o.va),o.va=!1))}),await Ym(t,r,e)}catch(r){await Bm(r)}}function HE(n,e,t){const r=xt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=xt(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const d of h.j_)d.Z_(a)&&(c=!0)}),c&&$b(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function eU(n,e,t){const r=xt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new Vn(ht.comparator);o=o.insert(s,Pr.newNoDocument(s,_t.min()));const a=Mt().add(s),l=new Jv(_t.min(),new Map,new Vn(Yt),o,a);await eI(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),Gb(r)}else await Cw(r.localStore,e,!1).then(()=>Iw(r,e,t)).catch(Bm)}async function tU(n,e){const t=xt(n),r=e.batch.batchId;try{const i=await fB(t.localStore,e);nI(t,r,null),tI(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Ym(t,i)}catch(i){await Bm(i)}}async function nU(n,e,t){const r=xt(n);try{const i=await function(o,a){const l=xt(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>($t(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);nI(r,e,t),tI(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Ym(r,i)}catch(i){await Bm(i)}}function tI(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function nI(n,e,t){const r=xt(n);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Iw(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||rI(n,r)})}function rI(n,e){n.xa.delete(e.path.canonicalString());const t=n.Oa.get(e);t!==null&&(jb(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),Gb(n))}function qE(n,e,t){for(const r of t)r instanceof XN?(n.La.addReference(r.key,e),rU(n,r)):r instanceof JN?(at("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||rI(n,r.key)):gt()}function rU(n,e){const t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(at("SyncEngine","New document in limbo: "+t),n.xa.add(r),Gb(n))}function Gb(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const e=n.xa.values().next().value;n.xa.delete(e);const t=new ht(vn.fromString(e)),r=n.qa.next();n.Na.set(r,new $B(t)),n.Oa=n.Oa.insert(t,r),qN(n.remoteStore,new Zl(Ho(Yv(t.path)),r,"TargetPurposeLimboResolution",Eb.oe))}}async function Ym(n,e,t){const r=xt(n),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,t).then(c=>{var u;if((c||t)&&r.isPrimaryClient){const h=c?!c.fromCache:(u=t==null?void 0:t.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=Ob.Wi(l.targetId,c);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,c){const u=xt(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>Be.forEach(c,d=>Be.forEach(d.$i,f=>u.persistence.referenceDelegate.addReference(h,d.targetId,f)).next(()=>Be.forEach(d.Ui,f=>u.persistence.referenceDelegate.removeReference(h,d.targetId,f)))))}catch(h){if(!Um(h))throw h;at("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const d=h.targetId;if(!h.fromCache){const f=u.os.get(d),g=f.snapshotVersion,w=f.withLastLimboFreeSnapshotVersion(g);u.os=u.os.insert(d,w)}}}(r.localStore,s))}async function iU(n,e){const t=xt(n);if(!t.currentUser.isEqual(e)){at("SyncEngine","User change. New user:",e.toKey());const r=await zN(t.localStore,e);t.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new Je(Ne.CANCELLED,o))})}),s.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ym(t,r.hs)}}function sU(n,e){const t=xt(n),r=t.Na.get(e);if(r&&r.va)return Mt().add(r.key);{let i=Mt();const s=t.Ma.get(e);if(!s)return i;for(const o of s){const a=t.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function iI(n){const e=xt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=eI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eU.bind(null,e),e.Ca.d_=zB.bind(null,e.eventManager),e.Ca.$a=WB.bind(null,e.eventManager),e}function oU(n){const e=xt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nU.bind(null,e),e}class H1{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zv(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return dB(this.persistence,new uB,e.initialUser,this.serializer)}Ga(e){return new aB(Mb.Zr,this.serializer)}Wa(e){return new _B}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}H1.provider={build:()=>new H1};class Dw{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>HE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=iU.bind(null,this.syncEngine),await VB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new UB}()}createDatastore(e){const t=Zv(e.databaseInfo.databaseId),r=function(s){return new SB(s)}(e.databaseInfo);return function(s,o,a,l){return new AB(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,s,o,a){return new TB(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,t=>HE(this.syncEngine,t,0),function(){return VE.D()?new VE:new wB}())}createSyncEngine(e,t){return function(i,s,o,a,l,c,u){const h=new YB(i,s,o,a,l,c);return u&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const s=xt(i);at("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await $m(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Dw.provider={build:()=>new Dw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Qa("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Je(Ne.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(i,s){const o=xt(i),a={documents:s.map(h=>z1(o.serializer,h))},l=await o.Lo("BatchGetDocuments",o.serializer.databaseId,vn.emptyPath(),a,s.length),c=new Map;l.forEach(h=>{const d=OV(o.serializer,h);c.set(d.key.toString(),d)});const u=[];return s.forEach(h=>{const d=c.get(h.toString());$t(!!d),u.push(d)}),u}(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Hm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{const i=ht.fromPath(r);this.mutations.push(new CN(i,this.precondition(i)))}),await async function(r,i){const s=xt(r),o={writes:i.map(a=>jN(s.serializer,a))};await s.Mo("Commit",s.serializer.databaseId,vn.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw gt();t=_t.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Je(Ne.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(_t.min())?pr.exists(!1):pr.updateTime(t):pr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(_t.min()))throw new Je(Ne.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return pr.updateTime(t)}return pr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lU{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this._u=r.maxAttempts,this.t_=new Fb(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new aU(this.datastore),t=this.cu(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.lu(i)}))}).catch(r=>{this.lu(r)})})}cu(e){try{const t=this.updateFunction(e);return!zm(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!NN(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ri.UNAUTHENTICATED,this.clientId=oN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{at("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(at("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Wb(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function T2(n,e){n.asyncQueue.verifyOperationInProgress(),at("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await zN(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function $E(n,e){n.asyncQueue.verifyOperationInProgress();const t=await uU(n);at("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>BE(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>BE(e.remoteStore,i)),n._onlineComponents=e}async function uU(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){at("FirestoreClient","Using user provided OfflineComponentProvider");try{await T2(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===Ne.FAILED_PRECONDITION||i.code===Ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Id("Error using user provided cache. Falling back to memory cache: "+t),await T2(n,new H1)}}else at("FirestoreClient","Using default OfflineComponentProvider"),await T2(n,new H1);return n._offlineComponents}async function Qb(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(at("FirestoreClient","Using user provided OnlineComponentProvider"),await $E(n,n._uninitializedComponentsProvider._online)):(at("FirestoreClient","Using default OnlineComponentProvider"),await $E(n,new Dw))),n._onlineComponents}function hU(n){return Qb(n).then(e=>e.syncEngine)}function dU(n){return Qb(n).then(e=>e.datastore)}async function q1(n){const e=await Qb(n),t=e.eventManager;return t.onListen=GB.bind(null,e.syncEngine),t.onUnlisten=XB.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=KB.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=JB.bind(null,e.syncEngine),t}function fU(n,e,t={}){const r=new Wo;return n.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new Kb({next:d=>{u.Za(),o.enqueueAndForget(()=>qb(s,h));const f=d.docs.has(a);!f&&d.fromCache?c.reject(new Je(Ne.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&d.fromCache&&l&&l.source==="server"?c.reject(new Je(Ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(d)},error:d=>c.reject(d)}),h=new Yb(Yv(a.path),u,{includeMetadataChanges:!0,_a:!0});return Hb(s,h)}(await q1(n),n.asyncQueue,e,t,r)),r.promise}function pU(n,e,t={}){const r=new Wo;return n.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new Kb({next:d=>{u.Za(),o.enqueueAndForget(()=>qb(s,h)),d.fromCache&&l.source==="server"?c.reject(new Je(Ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),h=new Yb(a,u,{includeMetadataChanges:!0,_a:!0});return Hb(s,h)}(await q1(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(n,e,t){if(!t)throw new Je(Ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function mU(n,e,t,r){if(e===!0&&r===!0)throw new Je(Ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function GE(n){if(!ht.isDocumentKey(n))throw new Je(Ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function KE(n){if(ht.isDocumentKey(n))throw new Je(Ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ny(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":gt()}function ci(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Je(Ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ny(n);throw new Je(Ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Je(Ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Je(Ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Je(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Je(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Je(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ry{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new QE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Je(Ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Je(Ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new QE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new I9;switch(r.type){case"firstParty":return new M9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Je(Ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=YE.get(t);r&&(at("ComponentProvider","Removing Datastore"),YE.delete(t),r.terminate())}(this),Promise.resolve()}}function gU(n,e,t,r={}){var i;const s=(n=ci(n,ry))._getSettings(),o=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Id("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=ri.MOCK_USER;else{a=fC(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Je(Ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ri(c)}n._authCredentials=new D9(new sN(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new zc(this.firestore,e,this._query)}}class zr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zr(this.firestore,e,this._key)}}class gc extends zc{constructor(e,t,r){super(e,t,Yv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zr(this.firestore,null,new ht(e))}withConverter(e){return new gc(this.firestore,e,this._path)}}function zi(n,e,...t){if(n=jn(n),oI("collection","path",e),n instanceof ry){const r=vn.fromString(e,...t);return KE(r),new gc(n,null,r)}{if(!(n instanceof zr||n instanceof gc))throw new Je(Ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(vn.fromString(e,...t));return KE(r),new gc(n.firestore,null,r)}}function qn(n,e,...t){if(n=jn(n),arguments.length===1&&(e=oN.newId()),oI("doc","path",e),n instanceof ry){const r=vn.fromString(e,...t);return GE(r),new zr(n,null,new ht(r))}{if(!(n instanceof zr||n instanceof gc))throw new Je(Ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(vn.fromString(e,...t));return GE(r),new zr(n.firestore,n instanceof gc?n.converter:null,new ht(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Fb(this,"async_queue_retry"),this.Vu=()=>{const r=P2();r&&at("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const t=P2();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=P2();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new Wo;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Um(e))throw e;at("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Qa("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const i=zb.createAndSchedule(this,e,t,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&gt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function JE(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(n,["next","error","complete"])}class so extends ry{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new XE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new XE(e),this._firestoreClient=void 0,await e}}}function aI(n,e){const t=typeof n=="object"?n:Mm(),r=typeof n=="string"?n:"(default)",i=Wv(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=uC("firestore");s&&gU(i,...s)}return i}function rf(n){if(n._terminated)throw new Je(Ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||vU(n),n._firestoreClient}function vU(n){var e,t,r;const i=n._freezeSettings(),s=function(a,l,c,u){return new G9(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,sI(u.experimentalLongPollingOptions),u.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new cU(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zu(Hr.fromBase64String(e))}catch(t){throw new Je(Ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Zu(Hr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Je(Ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Je(Ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Je(Ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Yt(this._lat,e._lat)||Yt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU=/^__.*__$/;class _U{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Uc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Wm(e,this.data,t,this.fieldTransforms)}}class lI{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Uc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function cI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt()}}class Zb{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Zb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return $1(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(cI(this.Cu)&&yU.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class wU{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Zv(e)}Qu(e,t,r,i=!1){return new Zb({Cu:e,methodName:t,qu:r,path:jr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function of(n){const e=n._freezeSettings(),t=Zv(n._databaseId);return new wU(n._databaseId,!!e.ignoreUndefinedProperties,t)}function sy(n,e,t,r,i,s={}){const o=n.Qu(s.merge||s.mergeFields?2:0,e,t,i);rx("Data must be an object, but it was:",o,r);const a=uI(r,o);let l,c;if(s.merge)l=new ts(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const h of s.mergeFields){const d=Rw(e,h,t);if(!o.contains(d))throw new Je(Ne.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);dI(u,d)||u.push(d)}l=new ts(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new _U(new bi(a),l,c)}class oy extends iy{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof oy}}class ex extends iy{_toFieldTransform(e){return new _V(e.path,new hm)}isEqual(e){return e instanceof ex}}function tx(n,e,t,r){const i=n.Qu(1,e,t);rx("Data must be an object, but it was:",i,r);const s=[],o=bi.empty();lh(r,(l,c)=>{const u=ix(e,l,t);c=jn(c);const h=i.Nu(u);if(c instanceof oy)s.push(u);else{const d=Gm(c,h);d!=null&&(s.push(u),o.set(u,d))}});const a=new ts(s);return new lI(o,a,i.fieldTransforms)}function nx(n,e,t,r,i,s){const o=n.Qu(1,e,t),a=[Rw(e,r,t)],l=[i];if(s.length%2!=0)throw new Je(Ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(Rw(e,s[d])),l.push(s[d+1]);const c=[],u=bi.empty();for(let d=a.length-1;d>=0;--d)if(!dI(c,a[d])){const f=a[d];let g=l[d];g=jn(g);const w=o.Nu(f);if(g instanceof oy)c.push(f);else{const x=Gm(g,w);x!=null&&(c.push(f),u.set(f,x))}}const h=new ts(c);return new lI(u,h,o.fieldTransforms)}function bU(n,e,t,r=!1){return Gm(t,n.Qu(r?4:3,e))}function Gm(n,e){if(hI(n=jn(n)))return rx("Unsupported field value:",e,n),uI(n,e);if(n instanceof iy)return function(r,i){if(!cI(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Gm(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=jn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return gV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=xr.fromDate(r);return{timestampValue:U1(i.serializer,s)}}if(r instanceof xr){const s=new xr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:U1(i.serializer,s)}}if(r instanceof Xb)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zu)return{bytesValue:LN(i.serializer,r._byteString)};if(r instanceof zr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Rb(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Jb)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return Nb(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${ny(r)}`)}(n,e)}function uI(n,e){const t={};return aN(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):lh(n,(r,i)=>{const s=Gm(i,e.Mu(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function hI(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof xr||n instanceof Xb||n instanceof Zu||n instanceof zr||n instanceof iy||n instanceof Jb)}function rx(n,e,t){if(!hI(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=ny(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function Rw(n,e,t){if((e=jn(e))instanceof sf)return e._internalPath;if(typeof e=="string")return ix(n,e);throw $1("Field path arguments must be of type string or ",n,!1,void 0,t)}const xU=new RegExp("[~\\*/\\[\\]]");function ix(n,e,t){if(e.search(xU)>=0)throw $1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new sf(...e.split("."))._internalPath}catch{throw $1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function $1(n,e,t,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Je(Ne.INVALID_ARGUMENT,a+n+l)}function dI(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new zr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new SU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ay("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class SU extends Y1{data(){return super.data()}}function ay(n,e){return typeof e=="string"?ix(n,e):e instanceof sf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Je(Ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sx{}class pI extends sx{}function G1(n,e,...t){let r=[];e instanceof sx&&r.push(e),r=r.concat(t),function(s){const o=s.filter(l=>l instanceof ox).length,a=s.filter(l=>l instanceof ly).length;if(o>1||o>0&&a>0)throw new Je(Ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class ly extends pI{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new ly(e,t,r)}_apply(e){const t=this._parse(e);return mI(e._query,t),new zc(e.firestore,e.converter,Ew(e._query,t))}_parse(e){const t=of(e.firestore);return function(s,o,a,l,c,u,h){let d;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Je(Ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){t3(h,u);const f=[];for(const g of h)f.push(e3(l,s,g));d={arrayValue:{values:f}}}else d=e3(l,s,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||t3(h,u),d=bU(a,o,h,u==="in"||u==="not-in");return fr.create(c,u,d)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function ZE(n,e,t){const r=e,i=ay("where",n);return ly._create(i,r,t)}class ox extends sx{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ox(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:io.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)mI(o,l),o=Ew(o,l)}(e._query,t),new zc(e.firestore,e.converter,Ew(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ax extends pI{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ax(e,t)}_apply(e){const t=function(i,s,o){if(i.startAt!==null)throw new Je(Ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Je(Ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new um(s,o)}(e._query,this._field,this._direction);return new zc(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new ef(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function EU(n,e="asc"){const t=e,r=ay("orderBy",n);return ax._create(r,t)}function e3(n,e,t){if(typeof(t=jn(t))=="string"){if(t==="")throw new Je(Ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gN(e)&&t.indexOf("/")!==-1)throw new Je(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(vn.fromString(t));if(!ht.isDocumentKey(r))throw new Je(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return wE(n,new ht(r))}if(t instanceof zr)return wE(n,t._key);throw new Je(Ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ny(t)}.`)}function t3(n,e){if(!Array.isArray(n)||n.length===0)throw new Je(Ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mI(n,e){const t=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Je(Ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Je(Ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class gI{convertValue(e,t="none"){switch(Ju(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw gt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return lh(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;const s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Jn(o.doubleValue));return new Jb(s)}convertGeoPoint(e){return new Xb(Jn(e.latitude),Jn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Ab(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(am(e));default:return null}}convertTimestamp(e){const t=Pc(e);return new xr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=vn.fromString(e);$t(UN(r));const i=new lm(r.get(1),r.get(3)),s=new ht(r.popFirst(5));return i.isEqual(t)||Qa(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class kU extends gI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new zr(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lx extends Y1{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new q0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(ay("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class q0 extends lx{data(e={}){return super.data(e)}}class vI{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ld(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new q0(this._firestore,this._userDataWriter,r.key,r,new ld(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Je(Ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new q0(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ld(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new q0(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ld(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:AU(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function AU(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(n){n=ci(n,zr);const e=ci(n.firestore,so);return fU(rf(e),n._key).then(t=>_I(e,n,t))}class uy extends gI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new zr(this.firestore,null,t)}}function n3(n){n=ci(n,zc);const e=ci(n.firestore,so),t=rf(e),r=new uy(e);return fI(n._query),pU(t,n._query).then(i=>new vI(e,r,n,i))}function Lw(n,e,t){n=ci(n,zr);const r=ci(n.firestore,so),i=cy(n.converter,e,t);return Km(r,[sy(of(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,pr.none())])}function hy(n,e,t,...r){n=ci(n,zr);const i=ci(n.firestore,so),s=of(i);let o;return o=typeof(e=jn(e))=="string"||e instanceof sf?nx(s,"updateDoc",n._key,e,t,r):tx(s,"updateDoc",n._key,e),Km(i,[o.toMutation(n._key,pr.exists(!0))])}function cx(n){return Km(ci(n.firestore,so),[new Hm(n._key,pr.none())])}function af(n,e){const t=ci(n.firestore,so),r=qn(n),i=cy(n.converter,e);return Km(t,[sy(of(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,pr.exists(!1))]).then(()=>r)}function PU(n,...e){var t,r,i;n=jn(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||JE(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(JE(e[o])){const h=e[o];e[o]=(t=h.next)===null||t===void 0?void 0:t.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,c,u;if(n instanceof zr)c=ci(n.firestore,so),u=Yv(n._key.path),l={next:h=>{e[o]&&e[o](_I(c,n,h))},error:e[o+1],complete:e[o+2]};else{const h=ci(n,zc);c=ci(h.firestore,so),u=h._query;const d=new uy(c);l={next:f=>{e[o]&&e[o](new vI(c,d,h,f))},error:e[o+1],complete:e[o+2]},fI(n._query)}return function(d,f,g,w){const x=new Kb(w),_=new Yb(f,x,g);return d.asyncQueue.enqueueAndForget(async()=>Hb(await q1(d),_)),()=>{x.Za(),d.asyncQueue.enqueueAndForget(async()=>qb(await q1(d),_))}}(rf(c),u,a,l)}function Km(n,e){return function(r,i){const s=new Wo;return r.asyncQueue.enqueueAndForget(async()=>ZB(await hU(r),i,s)),s.promise}(rf(n),e)}function _I(n,e,t){const r=t.docs.get(e._key),i=new uy(n);return new lx(n,i,e._key,r,new ld(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=of(e)}set(e,t,r){this._verifyNotCommitted();const i=Gl(e,this._firestore),s=cy(i.converter,t,r),o=sy(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,pr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=Gl(e,this._firestore);let o;return o=typeof(t=jn(t))=="string"||t instanceof sf?nx(this._dataReader,"WriteBatch.update",s._key,t,r,i):tx(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(o.toMutation(s._key,pr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Gl(e,this._firestore);return this._mutations=this._mutations.concat(new Hm(t._key,pr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Je(Ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Gl(n,e){if((n=jn(n)).firestore!==e)throw new Je(Ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU extends class{constructor(t,r){this._firestore=t,this._transaction=r,this._dataReader=of(t)}get(t){const r=Gl(t,this._firestore),i=new kU(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return gt();const o=s[0];if(o.isFoundDocument())return new Y1(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new Y1(this._firestore,i,r._key,null,r.converter);throw gt()})}set(t,r,i){const s=Gl(t,this._firestore),o=cy(s.converter,r,i),a=sy(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(t,r,i,...s){const o=Gl(t,this._firestore);let a;return a=typeof(r=jn(r))=="string"||r instanceof sf?nx(this._dataReader,"Transaction.update",o._key,r,i,s):tx(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(t){const r=Gl(t,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Gl(e,this._firestore),r=new uy(this._firestore);return super.get(e).then(i=>new lx(this._firestore,r,t._key,i._document,new ld(!1,!1),t.converter))}}function wI(n,e,t){n=ci(n,so);const r=Object.assign(Object.assign({},TU),t);return function(s){if(s.maxAttempts<1)throw new Je(Ne.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new Wo;return s.asyncQueue.enqueueAndForget(async()=>{const c=await dU(s);new lU(s.asyncQueue,c,a,o,l).au()}),l.promise}(rf(n),i=>e(new NU(n,i)),r)}function Du(){return new ex("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(n){return rf(n=ci(n,so)),new CU(n,e=>Km(n,e))}(function(e,t=!0){(function(i){Zd=i})(oh),Yu(new kc("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new so(new R9(r.getProvider("auth-internal")),new F9(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Je(Ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lm(c.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Bo(mE,"4.7.3",e),Bo(mE,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI="firebasestorage.googleapis.com",IU="storageBucket",DU=2*60*1e3,RU=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends Zo{constructor(e,t,r=0){super(C2(e),`Firebase Storage: ${t} (${C2(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ea.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return C2(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Qo;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Qo||(Qo={}));function C2(n){return"storage/"+n}function LU(){const n="An unknown error occurred, please check the error payload for server response.";return new ea(Qo.UNKNOWN,n)}function MU(){return new ea(Qo.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function OU(){return new ea(Qo.CANCELED,"User canceled the upload/download.")}function FU(n){return new ea(Qo.INVALID_URL,"Invalid URL '"+n+"'.")}function jU(n){return new ea(Qo.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function r3(n){return new ea(Qo.INVALID_ARGUMENT,n)}function SI(){return new ea(Qo.APP_DELETED,"The Firebase app was deleted.")}function VU(n){return new ea(Qo.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Js.makeFromUrl(e,t)}catch{return new Js(e,"")}if(r.path==="")return r;throw jU(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(R){R.path_=decodeURIComponent(R.path)}const u="v[A-Za-z0-9_]+",h=t.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",f=new RegExp(`^https?://${h}/${u}/b/${i}/o${d}`,"i"),g={bucket:1,path:3},w=t===xI?"(?:storage.googleapis.com|storage.cloud.google.com)":t,x="([^?#]*)",_=new RegExp(`^https?://${w}/${i}/${x}`,"i"),E=[{regex:a,indices:l,postModify:s},{regex:f,indices:g,postModify:c},{regex:_,indices:{bucket:1,path:2},postModify:c}];for(let R=0;R<E.length;R++){const O=E[R],V=O.regex.exec(e);if(V){const C=V[O.indices.bucket];let y=V[O.indices.path];y||(y=""),r=new Js(C,y),O.postModify(r);break}}if(r==null)throw FU(e);return r}}class BU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UU(n,e,t){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...x){c||(c=!0,e.apply(null,x))}function h(x){i=setTimeout(()=>{i=null,n(f,l())},x)}function d(){s&&clearTimeout(s)}function f(x,..._){if(c){d();return}if(x){d(),u.call(null,x,..._);return}if(l()||o){d(),u.call(null,x,..._);return}r<64&&(r*=2);let E;a===1?(a=2,E=0):E=(r+Math.random())*1e3,h(E)}let g=!1;function w(x){g||(g=!0,d(),!c&&(i!==null?(x||(a=2),clearTimeout(i),h(0)):x||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,w(!0)},t),w}function zU(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WU(n){return n!==void 0}function i3(n,e,t,r){if(r<e)throw r3(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw r3(`Invalid value for '${n}'. Expected ${t} or less.`)}function HU(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var K1;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(K1||(K1={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qU(n,e){const t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,s=e.indexOf(n)!==-1;return t||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(e,t,r,i,s,o,a,l,c,u,h,d=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=h,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,g)=>{this.resolve_=f,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Gg(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===K1.NO_ERROR,l=s.getStatus();if(!a||qU(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===K1.ABORT;r(!1,new Gg(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Gg(c,s))})},t=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());WU(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=LU();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?SI():OU();o(l)}else{const l=MU();o(l)}};this.canceled_?t(!1,new Gg(!1,null,!0)):this.backoffId_=UU(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&zU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Gg{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function YU(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function GU(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function KU(n,e){e&&(n["X-Firebase-GMPID"]=e)}function QU(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function XU(n,e,t,r,i,s,o=!0){const a=HU(n.urlParams),l=n.url+a,c=Object.assign({},n.headers);return KU(c,e),YU(c,t),GU(c,s),QU(c,r),new $U(l,n.method,c,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JU(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function ZU(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,t){this._service=e,t instanceof Js?this._location=t:this._location=Js.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Q1(e,t)}get root(){const e=new Js(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ZU(this._location.path)}get storage(){return this._service}get parent(){const e=JU(this._location.path);if(e===null)return null;const t=new Js(this._location.bucket,e);return new Q1(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw VU(e)}}function s3(n,e){const t=e==null?void 0:e[IU];return t==null?null:Js.makeFromBucketSpec(t,n)}function ez(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken=typeof i=="string"?i:fC(i,n.app.options.projectId))}class tz{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=xI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=DU,this._maxUploadRetryTime=RU,this._requests=new Set,i!=null?this._bucket=Js.makeFromBucketSpec(i,this._host):this._bucket=s3(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Js.makeFromBucketSpec(this._url,e):this._bucket=s3(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){i3("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){i3("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Q1(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new BU(SI());{const o=XU(e,this._appId,r,i,t,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,t){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()}}const o3="@firebase/storage",a3="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI="storage";function nz(n=Mm(),e){n=jn(n);const r=Wv(n,EI).getImmediate({identifier:e}),i=uC("storage");return i&&rz(r,...i),r}function rz(n,e,t,r={}){ez(n,e,t,r)}function iz(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new tz(t,r,i,e,oh)}function sz(){Yu(new kc(EI,iz,"PUBLIC").setMultipleInstances(!0)),Bo(o3,a3,""),Bo(o3,a3,"esm2017")}sz();const kI={apiKey:"AIzaSyBzOdGmNOzRTNgzEPpWPNYjZBqLLZ7i2hU",authDomain:"controle-estoque-3b9b7.firebaseapp.com",projectId:"controle-estoque-3b9b7",storageBucket:"controle-estoque-3b9b7.appspot.com",messagingSenderId:"866478824847",appId:"1:866478824847:web:123456789abcdef"},oz=()=>kI,az=oz(),ux=aF().length?Mm():fb(az),Kg=JC(ux),N2=aI(ux);nz(ux);const AI=ee.createContext(),Ai=()=>ee.useContext(AI),lz=({children:n})=>{const[e,t]=ee.useState(null),[r,i]=ee.useState(null),[s,o]=ee.useState(!0);ee.useEffect(()=>gj(Kg,async d=>{if(t(d),d){const f=qn(N2,"users",d.uid),g=await yI(f);if(g.exists())i({id:g.id,...g.data()});else{let w="viewer";d.email==="allanmths@gmail.com"&&(w="admin"),await Lw(qn(N2,"users",d.uid),{email:d.email,role:w,createdAt:new Date,displayName:d.email.split("@")[0]}),i({id:d.uid,email:d.email,role:w,createdAt:new Date,displayName:d.email.split("@")[0]})}}else i(null);o(!1)}),[]);const u={currentUser:e,userData:r,loading:s,login:async(h,d)=>fj(Kg,h,d),register:async(h,d)=>{const f=await dj(Kg,h,d);let g="viewer";return h==="allanmths@gmail.com"&&(g="admin"),await Lw(qn(N2,"users",f.user.uid),{email:f.user.email,role:g,createdAt:new Date,displayName:f.user.email.split("@")[0]}),f},logout:()=>vj(Kg)};return T.jsx(AI.Provider,{value:u,children:!s&&n})};function cz(){const[n,e]=ee.useState(!0),[t,r]=ee.useState(""),[i,s]=ee.useState(""),[o,a]=ee.useState(""),[l,c]=ee.useState(!1),{login:u,register:h}=Ai(),d=Fc(),f=async w=>{w.preventDefault(),a(""),c(!0);try{n?await u(t,i):await h(t,i),d("/")}catch(x){a(x.message||"Falha na autenticao. Verifique suas credenciais.")}c(!1)},g=()=>{e(!n),a(""),r(""),s("")};return T.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-gray-50",children:T.jsx("div",{className:"w-full max-w-md",children:T.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl border border-gray-200 text-center",children:[T.jsx("i",{className:`fas ${n?"fa-boxes-stacked":"fa-user-plus"} fa-2x text-blue-600 mb-4`}),T.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-1",children:n?"Bem-vindo de volta!":"Crie sua Conta"}),T.jsx("p",{className:"text-gray-500 mb-6",children:n?"Faa login para acessar o estoque.":"O registro cria uma conta com permisso de 'Visualizador'."}),o&&T.jsx("p",{className:"bg-red-100 text-red-700 p-3 rounded-lg mb-4",children:o}),T.jsxs("form",{onSubmit:f,className:"space-y-4",children:[T.jsx("input",{type:"email",placeholder:"Email",className:"w-full p-3 bg-white rounded-lg text-gray-900 border border-gray-300 focus:ring-2 focus:ring-blue-300 focus:border-blue-500",required:!0,value:t,onChange:w=>r(w.target.value)}),T.jsx("input",{type:"password",placeholder:n?"Senha":"Senha (mnimo 6 caracteres)",className:"w-full p-3 bg-white rounded-lg text-gray-900 border border-gray-300 focus:ring-2 focus:ring-blue-300 focus:border-blue-500",required:!0,value:i,onChange:w=>s(w.target.value)}),T.jsx("button",{type:"submit",disabled:l,className:`w-full text-white font-bold py-3 rounded-lg transition ${n?"bg-blue-600 hover:bg-blue-700":"bg-green-600 hover:bg-green-700"} disabled:bg-gray-400`,children:l?"Processando...":n?"Entrar":"Registrar"})]}),T.jsxs("p",{className:"mt-6 text-sm",children:[n?"No tem uma conta?":"J tem uma conta?",T.jsx("button",{onClick:g,className:"font-semibold text-blue-600 hover:underline ml-1",children:n?"Registre-se":"Faa Login"})]})]})})})}const I2={ADMIN:"admin",EDITOR:"editor",VIEWER:"viewer"},Ye={MANAGE_USERS:"manage_users",VIEW_USERS:"view_users",CREATE_PRODUCTS:"create_products",EDIT_PRODUCTS:"edit_products",DELETE_PRODUCTS:"delete_products",VIEW_PRODUCTS:"view_products",CREATE_CATEGORIES:"create_categories",EDIT_CATEGORIES:"edit_categories",DELETE_CATEGORIES:"delete_categories",VIEW_CATEGORIES:"view_categories",CREATE_SUPPLIERS:"create_suppliers",EDIT_SUPPLIERS:"edit_suppliers",DELETE_SUPPLIERS:"delete_suppliers",VIEW_SUPPLIERS:"view_suppliers",ADJUST_STOCK:"adjust_stock",TRANSFER_STOCK:"transfer_stock",VIEW_STOCK:"view_stock",CREATE_MOVEMENTS:"create_movements",EDIT_MOVEMENTS:"edit_movements",DELETE_MOVEMENTS:"delete_movements",VIEW_MOVEMENTS:"view_movements",CREATE_COUNTING:"create_counting",EDIT_COUNTING:"edit_counting",DELETE_COUNTING:"delete_counting",VIEW_COUNTING:"view_counting",VIEW_REPORTS:"view_reports",EXPORT_REPORTS:"export_reports",VIEW_AUDIT:"view_audit",MANAGE_SETTINGS:"manage_settings",VIEW_SETTINGS:"view_settings"},uz={[I2.ADMIN]:[Ye.MANAGE_USERS,Ye.VIEW_USERS,Ye.CREATE_PRODUCTS,Ye.EDIT_PRODUCTS,Ye.DELETE_PRODUCTS,Ye.VIEW_PRODUCTS,Ye.CREATE_CATEGORIES,Ye.EDIT_CATEGORIES,Ye.DELETE_CATEGORIES,Ye.VIEW_CATEGORIES,Ye.CREATE_SUPPLIERS,Ye.EDIT_SUPPLIERS,Ye.DELETE_SUPPLIERS,Ye.VIEW_SUPPLIERS,Ye.ADJUST_STOCK,Ye.TRANSFER_STOCK,Ye.VIEW_STOCK,Ye.CREATE_MOVEMENTS,Ye.EDIT_MOVEMENTS,Ye.DELETE_MOVEMENTS,Ye.VIEW_MOVEMENTS,Ye.CREATE_COUNTING,Ye.EDIT_COUNTING,Ye.DELETE_COUNTING,Ye.VIEW_COUNTING,Ye.VIEW_REPORTS,Ye.EXPORT_REPORTS,Ye.VIEW_AUDIT,Ye.MANAGE_SETTINGS,Ye.VIEW_SETTINGS],[I2.EDITOR]:[Ye.VIEW_USERS,Ye.CREATE_PRODUCTS,Ye.EDIT_PRODUCTS,Ye.VIEW_PRODUCTS,Ye.CREATE_CATEGORIES,Ye.EDIT_CATEGORIES,Ye.VIEW_CATEGORIES,Ye.CREATE_SUPPLIERS,Ye.EDIT_SUPPLIERS,Ye.VIEW_SUPPLIERS,Ye.ADJUST_STOCK,Ye.TRANSFER_STOCK,Ye.VIEW_STOCK,Ye.CREATE_MOVEMENTS,Ye.EDIT_MOVEMENTS,Ye.VIEW_MOVEMENTS,Ye.CREATE_COUNTING,Ye.EDIT_COUNTING,Ye.VIEW_COUNTING,Ye.VIEW_REPORTS,Ye.EXPORT_REPORTS,Ye.VIEW_AUDIT,Ye.VIEW_SETTINGS],[I2.VIEWER]:[Ye.VIEW_PRODUCTS,Ye.VIEW_CATEGORIES,Ye.VIEW_SUPPLIERS,Ye.VIEW_STOCK,Ye.VIEW_MOVEMENTS,Ye.VIEW_COUNTING,Ye.VIEW_REPORTS,Ye.VIEW_SETTINGS]},hx=(n,e)=>n?(uz[n]||[]).includes(e):!1,PI=(n,e)=>n?e.some(t=>hx(n,t)):!1,xa=({children:n,requiredPermissions:e=[],requireAll:t=!1,fallbackRoute:r="/dashboard",fallbackComponent:i=null})=>{const{currentUser:s,userData:o,loading:a}=Ai();if(a)return T.jsx("div",{className:"flex items-center justify-center min-h-screen",children:T.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(!s)return T.jsx(sw,{to:"/auth",replace:!0});if(!e||e.length===0)return n;const l=o==null?void 0:o.role,c=Array.isArray(e)?e:[e];let u=!1;return t?u=c.every(h=>hx(l,h)):u=PI(l,c),u?n:i||T.jsx(sw,{to:r,replace:!0})},hz=({children:n,requiredPermissions:e=[],requireAll:t=!1,fallback:r=null})=>{const{userData:i}=Ai();if(!e||e.length===0)return n;const s=i==null?void 0:i.role,o=Array.isArray(e)?e:[e];let a=!1;return t?a=o.every(l=>hx(s,l)):a=PI(s,o),a?n:r};var TI={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},l3=Ae.createContext&&Ae.createContext(TI),vc=function(){return vc=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},vc.apply(this,arguments)},dz=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function CI(n){return n&&n.map(function(e,t){return Ae.createElement(e.tag,vc({key:t},e.attr),CI(e.child))})}function yn(n){return function(e){return Ae.createElement(fz,vc({attr:vc({},n.attr)},e),CI(n.child))}}function fz(n){var e=function(t){var r=n.attr,i=n.size,s=n.title,o=dz(n,["attr","size","title"]),a=i||t.size||"1em",l;return t.className&&(l=t.className),n.className&&(l=(l?l+" ":"")+n.className),Ae.createElement("svg",vc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,o,{className:l,style:vc(vc({color:n.color||t.color},t.style),n.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Ae.createElement("title",null,s),n.children)};return l3!==void 0?Ae.createElement(l3.Consumer,null,function(t){return e(t)}):e(TI)}function pz(n){return yn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-143.6-28.9L288 302.6V120c0-13.3-10.7-24-24-24h-16c-13.3 0-24 10.7-24 24v182.6l-72.4-75.5c-9.3-9.7-24.8-9.9-34.3-.4l-10.9 11c-9.4 9.4-9.4 24.6 0 33.9L239 404.3c9.4 9.4 24.6 9.4 33.9 0l132.7-132.7c9.4-9.4 9.4-24.6 0-33.9l-10.9-11c-9.5-9.5-25-9.3-34.3.4z"}}]})(n)}function mz(n){return yn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}}]})(n)}function gz(n){return yn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M425.7 256c-16.9 0-32.8-9-41.4-23.4L320 126l-64.2 106.6c-8.7 14.5-24.6 23.5-41.5 23.5-4.5 0-9-.6-13.3-1.9L64 215v178c0 14.7 10 27.5 24.2 31l216.2 54.1c10.2 2.5 20.9 2.5 31 0L551.8 424c14.2-3.6 24.2-16.4 24.2-31V215l-137 39.1c-4.3 1.3-8.8 1.9-13.3 1.9zm212.6-112.2L586.8 41c-3.1-6.2-9.8-9.8-16.7-8.9L320 64l91.7 152.1c3.8 6.3 11.4 9.3 18.5 7.3l197.9-56.5c9.9-2.9 14.7-13.9 10.2-23.1zM53.2 41L1.7 143.8c-4.6 9.2.3 20.2 10.1 23l197.9 56.5c7.1 2 14.7-1 18.5-7.3L320 64 69.8 32.1c-6.9-.8-13.5 2.7-16.6 8.9z"}}]})(n)}function vz(n){return yn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M509.5 184.6L458.9 32.8C452.4 13.2 434.1 0 413.4 0H272v192h238.7c-.4-2.5-.4-5-1.2-7.4zM240 0H98.6c-20.7 0-39 13.2-45.5 32.8L2.5 184.6c-.8 2.4-.8 4.9-1.2 7.4H240V0zM0 224v240c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V224H0z"}}]})(n)}function c3(n){return yn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"}}]})(n)}function yz(n){return yn({attr:{viewBox:"0 0 544 512"},child:[{tag:"path",attr:{d:"M527.79 288H290.5l158.03 158.03c6.04 6.04 15.98 6.53 22.19.68 38.7-36.46 65.32-85.61 73.13-140.86 1.34-9.46-6.51-17.85-16.06-17.85zm-15.83-64.8C503.72 103.74 408.26 8.28 288.8.04 279.68-.59 272 7.1 272 16.24V240h223.77c9.14 0 16.82-7.68 16.19-16.8zM224 288V50.71c0-9.55-8.39-17.4-17.84-16.06C86.99 51.49-4.1 155.6.14 280.37 4.5 408.51 114.83 513.59 243.03 511.98c50.4-.63 96.97-16.87 135.26-44.03 7.9-5.6 8.42-17.23 1.57-24.08L224 288z"}}]})(n)}function _z(n){return yn({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm121.2 231.8l-143 141.8c-4.7 4.7-12.3 4.6-17-.1l-82.6-83.3c-4.7-4.7-4.6-12.3.1-17L99.1 285c4.7-4.7 12.3-4.6 17 .1l46 46.4 106-105.2c4.7-4.7 12.3-4.6 17 .1l28.2 28.4c4.7 4.8 4.6 12.3-.1 17z"}}]})(n)}function wz(n){return yn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"}}]})(n)}function bz(n){return yn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}}]})(n)}function NI(n){return yn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"}}]})(n)}function xz(n){return yn({attr:{viewBox:"0 0 192 512"},child:[{tag:"path",attr:{d:"M96 184c39.8 0 72 32.2 72 72s-32.2 72-72 72-72-32.2-72-72 32.2-72 72-72zM24 80c0 39.8 32.2 72 72 72s72-32.2 72-72S135.8 8 96 8 24 40.2 24 80zm0 352c0 39.8 32.2 72 72 72s72-32.2 72-72-32.2-72-72-72-72 32.2-72 72z"}}]})(n)}function II(n){return yn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 168v-16c0-13.255 10.745-24 24-24h360V80c0-21.367 25.899-32.042 40.971-16.971l80 80c9.372 9.373 9.372 24.569 0 33.941l-80 80C409.956 271.982 384 261.456 384 240v-48H24c-13.255 0-24-10.745-24-24zm488 152H128v-48c0-21.314-25.862-32.08-40.971-16.971l-80 80c-9.372 9.373-9.372 24.569 0 33.941l80 80C102.057 463.997 128 453.437 128 432v-48h360c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24z"}}]})(n)}function Sz(n){return yn({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"}}]})(n)}function DI(n){return yn({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"}}]})(n)}function Ez(n){return yn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"}}]})(n)}function kz(n){return yn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"}}]})(n)}function Az(n){return yn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"}}]})(n)}function Pz(n){return yn({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"}}]})(n)}function Tz(n){return yn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"}}]})(n)}function pm(n){return yn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}}]})(n)}function Cz(n){return yn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"}}]})(n)}function Nz(n){return yn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"}}]})(n)}function Iz(n){return yn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"}}]})(n)}function Dz(n){return yn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"}}]})(n)}function RI(n){return yn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}}]})(n)}function Rz(n){return yn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}}]})(n)}function Lz(n){return yn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M507.31 72.57L439.43 4.69c-6.25-6.25-16.38-6.25-22.63 0l-22.63 22.63c-6.25 6.25-6.25 16.38 0 22.63l-76.67 76.67c-46.58-19.7-102.4-10.73-140.37 27.23L18.75 312.23c-24.99 24.99-24.99 65.52 0 90.51l90.51 90.51c24.99 24.99 65.52 24.99 90.51 0l158.39-158.39c37.96-37.96 46.93-93.79 27.23-140.37l76.67-76.67c6.25 6.25 16.38 6.25 22.63 0l22.63-22.63c6.24-6.24 6.24-16.37-.01-22.62zM179.22 423.29l-90.51-90.51 122.04-122.04 90.51 90.51-122.04 122.04z"}}]})(n)}const Mz=[{to:"/",text:"Incio",icon:kz,permissions:[]},{to:"/dashboard",text:"Dashboard",icon:yz,permissions:[]},{to:"/stock",text:"Estoque",icon:gz,permissions:[Ye.VIEW_STOCK]},{to:"/registers",text:"Cadastros",icon:Tz,permissions:[Ye.VIEW_PRODUCTS,Ye.VIEW_CATEGORIES,Ye.VIEW_SUPPLIERS]},{to:"/movements",text:"Movimentaes",icon:II,permissions:[Ye.VIEW_MOVEMENTS]},{to:"/counting",text:"Contagem",icon:_z,permissions:[Ye.VIEW_COUNTING]},{to:"/audit",text:"Auditoria",icon:Ez,permissions:[Ye.VIEW_AUDIT]},{to:"/reports",text:"Relatrios",icon:Sz,permissions:[Ye.VIEW_REPORTS]}],D2=({to:n,text:e,icon:t,onClick:r,permissions:i=[]})=>T.jsx(hz,{requiredPermissions:i,requireAll:!1,children:T.jsx("li",{children:T.jsxs($O,{to:n,end:!0,className:({isActive:s})=>`flex items-center py-2.5 px-4 rounded-lg transition-colors font-medium ${s?"bg-blue-100 text-blue-600":"text-slate-700 hover:bg-slate-100"}`,onClick:r,children:[T.jsx(t,{className:"w-5 h-5 mr-3 text-slate-500"}),e]})})});function Oz({isOpen:n,onClose:e}){var o;const{logout:t,userData:r}=Ai(),i=Fc(),s=async()=>{await t(),i("/auth")};return T.jsxs(T.Fragment,{children:[T.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-50 z-40 transition-opacity lg:hidden ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:e}),T.jsxs("aside",{className:`fixed top-0 left-0 h-full w-64 bg-white z-50 transform transition-transform duration-300 ease-in-out flex flex-col ${n?"translate-x-0":"-translate-x-full"} lg:translate-x-0`,children:[T.jsxs("div",{className:"p-4 border-b border-slate-200",children:[T.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Menu"}),r&&T.jsxs("div",{className:"mt-2 text-sm text-slate-600",children:[T.jsx("p",{className:"font-medium",children:r.displayName}),T.jsx("p",{className:"text-xs bg-slate-100 px-2 py-1 rounded mt-1 inline-block",children:((o=r.role)==null?void 0:o.toUpperCase())||"VIEWER"})]})]}),T.jsxs("div",{className:"flex flex-col justify-between flex-grow p-2",children:[T.jsx("nav",{children:T.jsx("ul",{className:"space-y-1",children:Mz.map(a=>T.jsx(D2,{...a},a.to))})}),T.jsx("nav",{children:T.jsxs("ul",{className:"pt-2 mt-2 space-y-1 border-t border-slate-200",children:[T.jsx(D2,{to:"/settings",icon:wz,text:"Configuraes",permissions:[Ye.VIEW_SETTINGS]}),T.jsx(D2,{to:"/auth",icon:Nz,text:"Sair",onClick:s})]})})]})]})]})}function Fz({onMenuClick:n}){const{currentUser:e}=Ai(),t=(e==null?void 0:e.role)||"Administrador";return T.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-30",children:T.jsxs("div",{className:"container mx-auto px-4 h-20 flex items-center justify-between lg:justify-center relative",children:[T.jsx("button",{onClick:n,className:"p-2 rounded-md text-slate-600 hover:bg-slate-100 lg:hidden","aria-label":"Abrir menu",children:T.jsx(mz,{className:"h-6 w-6"})}),T.jsxs("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 flex flex-col items-center",children:[T.jsxs("div",{className:"flex items-center",children:[T.jsx(Lz,{className:"h-8 w-8 text-blue-600 mr-3"}),T.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Estoque HCM"})]}),T.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["Bem-vindo! Voc est logado como ",t,"."]})]}),T.jsx("div",{className:"w-8 lg:hidden"})]})})}function jz(){const[n,e]=ee.useState(!1),{logout:t}=Ai();Fc();const r=()=>{e(!n)};return T.jsxs("div",{className:"flex h-screen bg-slate-50",children:[T.jsx(Oz,{isOpen:n,onClose:()=>e(!1)}),T.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden lg:ml-64",children:[T.jsx(Fz,{onMenuClick:r}),T.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto",children:T.jsx("div",{className:"container mx-auto px-6 py-8 max-w-7xl",children:T.jsx(DO,{})})})]})]})}function Vz({children:n}){const{currentUser:e}=Ai();return e?n:T.jsx(sw,{to:"/auth"})}let X1;try{X1=Mm()}catch{X1=fb(kI)}JC(X1);const Zt=aI(X1),fn=(n,e)=>{const[t,r]=ee.useState([]),[i,s]=ee.useState(!0),[o,a]=ee.useState(null),l=JSON.stringify(e);return ee.useEffect(()=>{a(null);try{let c=G1(zi(Zt,n));const u=l?JSON.parse(l):null;if(u!=null&&u.field){const d=u.direction||"asc";c=G1(c,EU(u.field,d))}const h=PU(c,d=>{const f=[];d.forEach(g=>{f.push({...g.data(),id:g.id})}),r(f),s(!1)},d=>{console.error(`Erro ao buscar dados de '${n}': `,d),a(d),r([]),s(!1)});return()=>h()}catch(c){console.error(`Erro ao configurar o listener do Firestore para '${n}':`,c),a(c),r([]),s(!1)}},[n,l]),{docs:t,loading:i,error:o}},Qg=({title:n,value:e,icon:t,color:r,loading:i})=>T.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm flex items-center",children:[T.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mr-4 ${r}`,children:T.jsx("i",{className:`fas ${t} text-white text-xl`})}),T.jsxs("div",{children:[T.jsx("p",{className:"text-gray-500 text-sm font-medium",children:n}),i?T.jsx("div",{className:"h-8 w-16 bg-gray-200 rounded animate-pulse mt-1"}):T.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e})]})]}),Bz=({movement:n,products:e})=>{var l;const t=e.find(c=>c.id===n.productId),r=t?t.name:"Produto Excludo",i=((l=n.date)==null?void 0:l.toDate().toLocaleString("pt-BR"))||"Data indefinida";let s,o,a;switch(n.type){case"entrada":s="fa-arrow-down",o="text-green-500",a=`<strong>${n.quantity}x</strong> ${r} entraram no estoque.`;break;case"saida":s="fa-arrow-up",o="text-red-500",a=`<strong>${n.quantity}x</strong> ${r} saram do estoque.`;break;case"ajuste":s="fa-arrows-left-right-to-line",o="text-blue-500",a=`Ajuste de <strong>${Math.abs(n.quantity)}x</strong> em ${r}.`;break;default:s="fa-exchange-alt",o="text-gray-500",a=`Movimentao de <strong>${n.quantity}x</strong> ${r}.`}return T.jsxs("li",{className:"flex items-center space-x-4 p-3 hover:bg-gray-50 rounded-lg",children:[T.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center bg-gray-100 ${o}`,children:T.jsx("i",{className:`fas ${s}`})}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-800",dangerouslySetInnerHTML:{__html:a}}),T.jsxs("p",{className:"text-xs text-gray-500",children:[n.motive||"Sem motivo","  ",i]})]})]})};function Uz(){const{docs:n,loading:e}=fn("products"),{docs:t,loading:r}=fn("categories"),{docs:i,loading:s}=fn("movements",{field:"date",direction:"desc"}),o=e||r||s,a=n.reduce((u,h)=>u+(h.totalQuantity||0),0),l=n.filter(u=>u.minStock>0&&u.totalQuantity<=u.minStock).length,c=i.slice(0,7);return T.jsxs("div",{children:[T.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Incio"}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[T.jsx(Qg,{title:"Total de Produtos",value:n.length,icon:"fa-box",color:"bg-blue-500",loading:o}),T.jsx(Qg,{title:"Total de Itens",value:a,icon:"fa-boxes-stacked",color:"bg-green-500",loading:o}),T.jsx(Qg,{title:"Categorias",value:t.length,icon:"fa-tags",color:"bg-purple-500",loading:o}),T.jsx(Qg,{title:"Estoque Baixo",value:l,icon:"fa-exclamation-triangle",color:"bg-red-500",loading:o})]}),T.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm mt-8",children:[T.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Atividade Recente"}),o?T.jsx("p",{className:"text-center text-gray-500 p-4",children:"Carregando atividades..."}):c.length>0?T.jsx("ul",{children:c.map(u=>T.jsx(Bz,{movement:u,products:n},u.id))}):T.jsx("p",{className:"text-center text-gray-500 p-4",children:"Nenhuma atividade recente para mostrar."})]})]})}const zz="modulepreload",Wz=function(n){return"/Controle1/"+n},u3={},Mw=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(t.map(l=>{if(l=Wz(l),l in u3)return;u3[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":zz,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((d,f)=>{h.addEventListener("load",d),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function cn(n){"@babel/helpers - typeof";return cn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cn(n)}var si=Uint8Array,ns=Uint16Array,dx=Int32Array,dy=new si([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fy=new si([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Ow=new si([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),LI=function(n,e){for(var t=new ns(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new dx(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return{b:t,r:i}},MI=LI(dy,2),OI=MI.b,Fw=MI.r;OI[28]=258,Fw[258]=28;var FI=LI(fy,0),Hz=FI.b,h3=FI.r,jw=new ns(32768);for(var Cn=0;Cn<32768;++Cn){var Ml=(Cn&43690)>>1|(Cn&21845)<<1;Ml=(Ml&52428)>>2|(Ml&13107)<<2,Ml=(Ml&61680)>>4|(Ml&3855)<<4,jw[Cn]=((Ml&65280)>>8|(Ml&255)<<8)>>1}var qo=function(n,e,t){for(var r=n.length,i=0,s=new ns(e);i<r;++i)n[i]&&++s[n[i]-1];var o=new ns(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(t){a=new ns(1<<e);var l=15-e;for(i=0;i<r;++i)if(n[i])for(var c=i<<4|n[i],u=e-n[i],h=o[n[i]-1]++<<u,d=h|(1<<u)-1;h<=d;++h)a[jw[h]>>l]=c}else for(a=new ns(r),i=0;i<r;++i)n[i]&&(a[i]=jw[o[n[i]-1]++]>>15-n[i]);return a},Cc=new si(288);for(var Cn=0;Cn<144;++Cn)Cc[Cn]=8;for(var Cn=144;Cn<256;++Cn)Cc[Cn]=9;for(var Cn=256;Cn<280;++Cn)Cc[Cn]=7;for(var Cn=280;Cn<288;++Cn)Cc[Cn]=8;var mm=new si(32);for(var Cn=0;Cn<32;++Cn)mm[Cn]=5;var qz=qo(Cc,9,0),$z=qo(Cc,9,1),Yz=qo(mm,5,0),Gz=qo(mm,5,1),R2=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},qs=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},L2=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},fx=function(n){return(n+7)/8|0},jI=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new si(n.subarray(e,t))},Kz=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Gs=function(n,e,t){var r=new Error(e||Kz[n]);if(r.code=n,Error.captureStackTrace&&Error.captureStackTrace(r,Gs),!t)throw r;return r},Qz=function(n,e,t,r){var i=n.length,s=0;if(!i||e.f&&!e.l)return t||new si(0);var o=!t,a=o||e.i!=2,l=e.i;o&&(t=new si(i*3));var c=function(Se){var Me=t.length;if(Se>Me){var Ve=new si(Math.max(Me*2,Se));Ve.set(t),t=Ve}},u=e.f||0,h=e.p||0,d=e.b||0,f=e.l,g=e.d,w=e.m,x=e.n,_=i*8;do{if(!f){u=qs(n,h,1);var b=qs(n,h+1,3);if(h+=3,b)if(b==1)f=$z,g=Gz,w=9,x=5;else if(b==2){var V=qs(n,h,31)+257,C=qs(n,h+10,15)+4,y=V+qs(n,h+5,31)+1;h+=14;for(var S=new si(y),I=new si(19),k=0;k<C;++k)I[Ow[k]]=qs(n,h+k*3,7);h+=C*3;for(var P=R2(I),L=(1<<P)-1,$=qo(I,P,1),k=0;k<y;){var te=$[qs(n,h,L)];h+=te&15;var E=te>>4;if(E<16)S[k++]=E;else{var K=0,q=0;for(E==16?(q=3+qs(n,h,3),h+=2,K=S[k-1]):E==17?(q=3+qs(n,h,7),h+=3):E==18&&(q=11+qs(n,h,127),h+=7);q--;)S[k++]=K}}var W=S.subarray(0,V),H=S.subarray(V);w=R2(W),x=R2(H),f=qo(W,w,1),g=qo(H,x,1)}else Gs(1);else{var E=fx(h)+4,R=n[E-4]|n[E-3]<<8,O=E+R;if(O>i){l&&Gs(0);break}a&&c(d+R),t.set(n.subarray(E,O),d),e.b=d+=R,e.p=h=O*8,e.f=u;continue}if(h>_){l&&Gs(0);break}}a&&c(d+131072);for(var oe=(1<<w)-1,le=(1<<x)-1,j=h;;j=h){var K=f[L2(n,h)&oe],z=K>>4;if(h+=K&15,h>_){l&&Gs(0);break}if(K||Gs(2),z<256)t[d++]=z;else if(z==256){j=h,f=null;break}else{var Z=z-254;if(z>264){var k=z-257,ne=dy[k];Z=qs(n,h,(1<<ne)-1)+OI[k],h+=ne}var se=g[L2(n,h)&le],fe=se>>4;se||Gs(3),h+=se&15;var H=Hz[fe];if(fe>3){var ne=fy[fe];H+=L2(n,h)&(1<<ne)-1,h+=ne}if(h>_){l&&Gs(0);break}a&&c(d+131072);var de=d+Z;if(d<H){var ge=s-H,Te=Math.min(H,de);for(ge+d<0&&Gs(3);d<Te;++d)t[d]=r[ge+d]}for(;d<de;++d)t[d]=t[d-H]}}e.l=f,e.p=j,e.b=d,e.f=u,f&&(u=1,e.m=w,e.d=g,e.n=x)}while(!u);return d!=t.length&&o?jI(t,0,d):t.subarray(0,d)},Sa=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},Ff=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},M2=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,s=t.slice();if(!i)return{t:BI,l:0};if(i==1){var o=new si(t[0].s+1);return o[t[0].s]=1,{t:o,l:1}}t.sort(function(O,V){return O.f-V.f}),t.push({s:-1,f:25001});var a=t[0],l=t[1],c=0,u=1,h=2;for(t[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=t[t[c].f<t[h].f?c++:h++],l=t[c!=u&&t[c].f<t[h].f?c++:h++],t[u++]={s:-1,f:a.f+l.f,l:a,r:l};for(var d=s[0].s,r=1;r<i;++r)s[r].s>d&&(d=s[r].s);var f=new ns(d+1),g=Vw(t[u-1],f,0);if(g>e){var r=0,w=0,x=g-e,_=1<<x;for(s.sort(function(V,C){return f[C.s]-f[V.s]||V.f-C.f});r<i;++r){var b=s[r].s;if(f[b]>e)w+=_-(1<<g-f[b]),f[b]=e;else break}for(w>>=x;w>0;){var E=s[r].s;f[E]<e?w-=1<<e-f[E]++-1:++r}for(;r>=0&&w;--r){var R=s[r].s;f[R]==e&&(--f[R],++w)}g=e}return{t:new si(f),l:g}},Vw=function(n,e,t){return n.s==-1?Math.max(Vw(n.l,e,t+1),Vw(n.r,e,t+1)):e[n.s]=t},d3=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new ns(++e),r=0,i=n[0],s=1,o=function(l){t[r++]=l},a=1;a<=e;++a)if(n[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=n[a]}return{c:t.subarray(0,r),n:e}},jf=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},VI=function(n,e,t){var r=t.length,i=fx(e+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var s=0;s<r;++s)n[i+s+4]=t[s];return(i+4+r)*8},f3=function(n,e,t,r,i,s,o,a,l,c,u){Sa(e,u++,t),++i[256];for(var h=M2(i,15),d=h.t,f=h.l,g=M2(s,15),w=g.t,x=g.l,_=d3(d),b=_.c,E=_.n,R=d3(w),O=R.c,V=R.n,C=new ns(19),y=0;y<b.length;++y)++C[b[y]&31];for(var y=0;y<O.length;++y)++C[O[y]&31];for(var S=M2(C,7),I=S.t,k=S.l,P=19;P>4&&!I[Ow[P-1]];--P);var L=c+5<<3,$=jf(i,Cc)+jf(s,mm)+o,te=jf(i,d)+jf(s,w)+o+14+3*P+jf(C,I)+2*C[16]+3*C[17]+7*C[18];if(l>=0&&L<=$&&L<=te)return VI(e,u,n.subarray(l,l+c));var K,q,W,H;if(Sa(e,u,1+(te<$)),u+=2,te<$){K=qo(d,f,0),q=d,W=qo(w,x,0),H=w;var oe=qo(I,k,0);Sa(e,u,E-257),Sa(e,u+5,V-1),Sa(e,u+10,P-4),u+=14;for(var y=0;y<P;++y)Sa(e,u+3*y,I[Ow[y]]);u+=3*P;for(var le=[b,O],j=0;j<2;++j)for(var z=le[j],y=0;y<z.length;++y){var Z=z[y]&31;Sa(e,u,oe[Z]),u+=I[Z],Z>15&&(Sa(e,u,z[y]>>5&127),u+=z[y]>>12)}}else K=qz,q=Cc,W=Yz,H=mm;for(var y=0;y<a;++y){var ne=r[y];if(ne>255){var Z=ne>>18&31;Ff(e,u,K[Z+257]),u+=q[Z+257],Z>7&&(Sa(e,u,ne>>23&31),u+=dy[Z]);var se=ne&31;Ff(e,u,W[se]),u+=H[se],se>3&&(Ff(e,u,ne>>5&8191),u+=fy[se])}else Ff(e,u,K[ne]),u+=q[ne]}return Ff(e,u,K[256]),u+q[256]},Xz=new dx([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),BI=new si(0),Jz=function(n,e,t,r,i,s){var o=s.z||n.length,a=new si(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),c=s.l,u=(s.r||0)&7;if(e){u&&(l[0]=s.r>>3);for(var h=Xz[e-1],d=h>>13,f=h&8191,g=(1<<t)-1,w=s.p||new ns(32768),x=s.h||new ns(g+1),_=Math.ceil(t/3),b=2*_,E=function(qe){return(n[qe]^n[qe+1]<<_^n[qe+2]<<b)&g},R=new dx(25e3),O=new ns(288),V=new ns(32),C=0,y=0,S=s.i||0,I=0,k=s.w||0,P=0;S+2<o;++S){var L=E(S),$=S&32767,te=x[L];if(w[$]=te,x[L]=$,k<=S){var K=o-S;if((C>7e3||I>24576)&&(K>423||!c)){u=f3(n,l,0,R,O,V,y,I,P,S-P,u),I=C=y=0,P=S;for(var q=0;q<286;++q)O[q]=0;for(var q=0;q<30;++q)V[q]=0}var W=2,H=0,oe=f,le=$-te&32767;if(K>2&&L==E(S-le))for(var j=Math.min(d,K)-1,z=Math.min(32767,S),Z=Math.min(258,K);le<=z&&--oe&&$!=te;){if(n[S+W]==n[S+W-le]){for(var ne=0;ne<Z&&n[S+ne]==n[S+ne-le];++ne);if(ne>W){if(W=ne,H=le,ne>j)break;for(var se=Math.min(le,ne-2),fe=0,q=0;q<se;++q){var de=S-le+q&32767,ge=w[de],Te=de-ge&32767;Te>fe&&(fe=Te,te=de)}}}$=te,te=w[$],le+=$-te&32767}if(H){R[I++]=268435456|Fw[W]<<18|h3[H];var Se=Fw[W]&31,Me=h3[H]&31;y+=dy[Se]+fy[Me],++O[257+Se],++V[Me],k=S+W,++C}else R[I++]=n[S],++O[n[S]]}}for(S=Math.max(S,k);S<o;++S)R[I++]=n[S],++O[n[S]];u=f3(n,l,c,R,O,V,y,I,P,S-P,u),c||(s.r=u&7|l[u/8|0]<<3,u-=7,s.h=x,s.p=w,s.i=S,s.w=k)}else{for(var S=s.w||0;S<o+c;S+=65535){var Ve=S+65535;Ve>=o&&(l[u/8|0]=c,Ve=o),u=VI(l,u+1,n.subarray(S,Ve))}s.i=o}return jI(a,0,r+fx(u)+i)},UI=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,s=t.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=t[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},Zz=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new si(s.length+n.length);o.set(s),o.set(n,s.length),n=o,i.w=s.length}return Jz(n,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,i)},zI=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},eW=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=UI();i.p(e.dictionary),zI(n,2,i.d())}},tW=function(n,e){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&Gs(6,"invalid zlib data"),(n[1]>>5&1)==1&&Gs(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function Bw(n,e){e||(e={});var t=UI();t.p(n);var r=Zz(n,e,e.dictionary?6:2,4);return eW(r,e),zI(r,r.length-4,t.d()),r}function nW(n,e){return Qz(n.subarray(tW(n),-4),{i:2},e,e)}var rW=typeof TextDecoder<"u"&&new TextDecoder,iW=0;try{rW.decode(BI,{stream:!0}),iW=1}catch{}var vt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function O2(){vt.console&&typeof vt.console.log=="function"&&vt.console.log.apply(vt.console,arguments)}var gn={log:O2,warn:function(n){vt.console&&(typeof vt.console.warn=="function"?vt.console.warn.apply(vt.console,arguments):O2.call(null,arguments))},error:function(n){vt.console&&(typeof vt.console.error=="function"?vt.console.error.apply(vt.console,arguments):O2(n))}};function F2(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){mu(r.response,e,t)},r.onerror=function(){gn.error("could not download file")},r.send()}function p3(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Xg(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Pp,Uw,mu=vt.saveAs||((typeof window>"u"?"undefined":cn(window))!=="object"||window!==vt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=vt.URL||vt.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?p3(i.href)?F2(n,e,t):Xg(i,i.target="_blank"):Xg(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Xg(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(p3(n))F2(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){Xg(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:cn(s)!=="object"&&(gn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return F2(n,e,t);var i=n.type==="application/octet-stream",s=/constructor/i.test(vt.HTMLElement)||vt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":cn(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var u=a.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},a.readAsDataURL(n)}else{var l=vt.URL||vt.webkitURL,c=l.createObjectURL(n);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function WI(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,s=t[r].process,o=i.exec(n);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function j2(n,e){var t=n[0],r=n[1],i=n[2],s=n[3];t=Jr(t,r,i,s,e[0],7,-680876936),s=Jr(s,t,r,i,e[1],12,-389564586),i=Jr(i,s,t,r,e[2],17,606105819),r=Jr(r,i,s,t,e[3],22,-1044525330),t=Jr(t,r,i,s,e[4],7,-176418897),s=Jr(s,t,r,i,e[5],12,1200080426),i=Jr(i,s,t,r,e[6],17,-1473231341),r=Jr(r,i,s,t,e[7],22,-45705983),t=Jr(t,r,i,s,e[8],7,1770035416),s=Jr(s,t,r,i,e[9],12,-1958414417),i=Jr(i,s,t,r,e[10],17,-42063),r=Jr(r,i,s,t,e[11],22,-1990404162),t=Jr(t,r,i,s,e[12],7,1804603682),s=Jr(s,t,r,i,e[13],12,-40341101),i=Jr(i,s,t,r,e[14],17,-1502002290),t=Zr(t,r=Jr(r,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Zr(s,t,r,i,e[6],9,-1069501632),i=Zr(i,s,t,r,e[11],14,643717713),r=Zr(r,i,s,t,e[0],20,-373897302),t=Zr(t,r,i,s,e[5],5,-701558691),s=Zr(s,t,r,i,e[10],9,38016083),i=Zr(i,s,t,r,e[15],14,-660478335),r=Zr(r,i,s,t,e[4],20,-405537848),t=Zr(t,r,i,s,e[9],5,568446438),s=Zr(s,t,r,i,e[14],9,-1019803690),i=Zr(i,s,t,r,e[3],14,-187363961),r=Zr(r,i,s,t,e[8],20,1163531501),t=Zr(t,r,i,s,e[13],5,-1444681467),s=Zr(s,t,r,i,e[2],9,-51403784),i=Zr(i,s,t,r,e[7],14,1735328473),t=ei(t,r=Zr(r,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=ei(s,t,r,i,e[8],11,-2022574463),i=ei(i,s,t,r,e[11],16,1839030562),r=ei(r,i,s,t,e[14],23,-35309556),t=ei(t,r,i,s,e[1],4,-1530992060),s=ei(s,t,r,i,e[4],11,1272893353),i=ei(i,s,t,r,e[7],16,-155497632),r=ei(r,i,s,t,e[10],23,-1094730640),t=ei(t,r,i,s,e[13],4,681279174),s=ei(s,t,r,i,e[0],11,-358537222),i=ei(i,s,t,r,e[3],16,-722521979),r=ei(r,i,s,t,e[6],23,76029189),t=ei(t,r,i,s,e[9],4,-640364487),s=ei(s,t,r,i,e[12],11,-421815835),i=ei(i,s,t,r,e[15],16,530742520),t=ti(t,r=ei(r,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=ti(s,t,r,i,e[7],10,1126891415),i=ti(i,s,t,r,e[14],15,-1416354905),r=ti(r,i,s,t,e[5],21,-57434055),t=ti(t,r,i,s,e[12],6,1700485571),s=ti(s,t,r,i,e[3],10,-1894986606),i=ti(i,s,t,r,e[10],15,-1051523),r=ti(r,i,s,t,e[1],21,-2054922799),t=ti(t,r,i,s,e[8],6,1873313359),s=ti(s,t,r,i,e[15],10,-30611744),i=ti(i,s,t,r,e[6],15,-1560198380),r=ti(r,i,s,t,e[13],21,1309151649),t=ti(t,r,i,s,e[4],6,-145523070),s=ti(s,t,r,i,e[11],10,-1120210379),i=ti(i,s,t,r,e[2],15,718787259),r=ti(r,i,s,t,e[9],21,-343485551),n[0]=ec(t,n[0]),n[1]=ec(r,n[1]),n[2]=ec(i,n[2]),n[3]=ec(s,n[3])}function py(n,e,t,r,i,s){return e=ec(ec(e,n),ec(r,s)),ec(e<<i|e>>>32-i,t)}function Jr(n,e,t,r,i,s,o){return py(e&t|~e&r,n,e,i,s,o)}function Zr(n,e,t,r,i,s,o){return py(e&r|t&~r,n,e,i,s,o)}function ei(n,e,t,r,i,s,o){return py(e^t^r,n,e,i,s,o)}function ti(n,e,t,r,i,s,o){return py(t^(e|~r),n,e,i,s,o)}function HI(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)j2(r,sW(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(j2(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,j2(r,i),r}function sW(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}Pp=vt.atob.bind(vt),Uw=vt.btoa.bind(vt);var m3="0123456789abcdef".split("");function oW(n){for(var e="",t=0;t<4;t++)e+=m3[n>>8*t+4&15]+m3[n>>8*t&15];return e}function aW(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function zw(n){return HI(n).map(aW).join("")}var lW=function(n){for(var e=0;e<n.length;e++)n[e]=oW(n[e]);return n.join("")}(HI("hello"))!="5d41402abc4b2a76b9719d911017c592";function ec(n,e){if(lW){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Ww(n,e){var t,r,i,s;if(n!==t){for(var o=(i=n,s=1+(256/n.length>>0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var u=a[l];c=(c+u+o.charCodeAt(l))%256,a[l]=a[c],a[c]=u}t=n,r=a}else a=r;var h=e.length,d=0,f=0,g="";for(l=0;l<h;l++)f=(f+(u=a[d=(d+1)%256]))%256,a[d]=a[f],a[f]=u,o=a[(a[d]+a[f])%256],g+=String.fromCharCode(e.charCodeAt(l)^o);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var g3={print:4,modify:8,copy:16,"annot-forms":32};function $h(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(a){if(g3.perm!==void 0)throw new Error("Invalid permission: "+a);i+=g3[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=zw(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Ww(this.encryptionKey,this.padding)}function Yh(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=n[r]}return e}function v3(n){if(cn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[r,!!i],s},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var o=e[t][s];try{o[0].apply(n,r)}catch(a){vt.console&&gn.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function gm(n){if(!(this instanceof gm))return new gm(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function qI(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Kl(n,e,t,r,i){if(!(this instanceof Kl))return new Kl(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,qI.call(this,r,i)}function Eu(n,e,t,r,i){if(!(this instanceof Eu))return new Eu(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,qI.call(this,r,i)}function ft(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,c="S",u=null;cn(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,s=n.compress||n.compressPdf||s,(u=n.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(l=n.floatPrecision),c=n.defaultPathOperation||"S"),o=n.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",t=(""+(t||"P")).toLowerCase();var h=n.putOnlyUsedFonts||!1,d={},f={internal:{},__private__:{}};f.__private__.PubSub=v3;var g="1.3",w=f.__private__.getPdfVersion=function(){return g};f.__private__.setPdfVersion=function(A){g=A};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return x};var _=f.__private__.getPageFormat=function(A){return x[A]};i=i||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},E=b.COMPAT;function R(){this.saveGraphicsState(),ie(new tt($e,0,0,-$e,0,Gr()*$e).toString()+" cm"),this.setFontSize(this.getFontSize()/$e),c="n",E=b.ADVANCED}function O(){this.restoreGraphicsState(),c="S",E=b.COMPAT}var V=f.__private__.combineFontStyleAndFontWeight=function(A,B){if(A=="bold"&&B=="normal"||A=="bold"&&B==400||A=="normal"&&B=="italic"||A=="bold"&&B=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return B&&(A=B==400||B==="normal"?A==="italic"?"italic":"normal":B!=700&&B!=="bold"||A!=="normal"?(B==700?"bold":B)+""+A:"bold"),A};f.advancedAPI=function(A){var B=E===b.COMPAT;return B&&R.call(this),typeof A!="function"||(A(this),B&&O.call(this)),this},f.compatAPI=function(A){var B=E===b.ADVANCED;return B&&O.call(this),typeof A!="function"||(A(this),B&&R.call(this)),this},f.isAdvancedAPI=function(){return E===b.ADVANCED};var C,y=function(A){if(E!==b.ADVANCED)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},S=f.roundToPrecision=f.__private__.roundToPrecision=function(A,B){var ae=e||B;if(isNaN(A)||isNaN(ae))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(ae).replace(/0+$/,"")};C=f.hpf=f.__private__.hpf=typeof l=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return S(A,l)}:l==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return S(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return S(A,16)};var I=f.f2=f.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return S(A,2)},k=f.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return S(A,3)},P=f.scale=f.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return E===b.COMPAT?A*$e:E===b.ADVANCED?A:void 0},L=function(A){return E===b.COMPAT?Gr()-A:E===b.ADVANCED?A:void 0},$=function(A){return P(L(A))};f.__private__.setPrecision=f.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(e=parseInt(A,10))};var te,K="00000000000000000000000000000000",q=f.__private__.getFileId=function(){return K},W=f.__private__.setFileId=function(A){return K=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():K.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(An=new $h(u.userPermissions,u.userPassword,u.ownerPassword,K)),K};f.setFileId=function(A){return W(A),this},f.getFileId=function(){return q()};var H=f.__private__.convertDateToPDFDate=function(A){var B=A.getTimezoneOffset(),ae=B<0?"+":"-",ce=Math.floor(Math.abs(B/60)),ve=Math.abs(B%60),ke=[ae,Z(ce),"'",Z(ve),"'"].join("");return["D:",A.getFullYear(),Z(A.getMonth()+1),Z(A.getDate()),Z(A.getHours()),Z(A.getMinutes()),Z(A.getSeconds()),ke].join("")},oe=f.__private__.convertPDFDateToDate=function(A){var B=parseInt(A.substr(2,4),10),ae=parseInt(A.substr(6,2),10)-1,ce=parseInt(A.substr(8,2),10),ve=parseInt(A.substr(10,2),10),ke=parseInt(A.substr(12,2),10),Oe=parseInt(A.substr(14,2),10);return new Date(B,ae,ce,ve,ke,Oe,0)},le=f.__private__.setCreationDate=function(A){var B;if(A===void 0&&(A=new Date),A instanceof Date)B=H(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");B=A}return te=B},j=f.__private__.getCreationDate=function(A){var B=te;return A==="jsDate"&&(B=oe(te)),B};f.setCreationDate=function(A){return le(A),this},f.getCreationDate=function(A){return j(A)};var z,Z=f.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},ne=f.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},se=0,fe=[],de=[],ge=0,Te=[],Se=[],Me=!1,Ve=de,qe=function(){se=0,ge=0,de=[],fe=[],Te=[],Rs=Bn(),Yr=Bn()};f.__private__.setCustomOutputDestination=function(A){Me=!0,Ve=A};var xe=function(A){Me||(Ve=A)};f.__private__.resetCustomOutputDestination=function(){Me=!1,Ve=de};var ie=f.__private__.out=function(A){return A=A.toString(),ge+=A.length+1,Ve.push(A),Ve},ct=f.__private__.write=function(A){return ie(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},Fe=f.__private__.getArrayBuffer=function(A){for(var B=A.length,ae=new ArrayBuffer(B),ce=new Uint8Array(ae);B--;)ce[B]=A.charCodeAt(B);return ae},Ce=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Ce};var ze=n.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(A){return ze=E===b.ADVANCED?A/$e:A,this};var He,We=f.__private__.getFontSize=f.getFontSize=function(){return E===b.COMPAT?ze:ze*$e},rt=n.R2L||!1;f.__private__.setR2L=f.setR2L=function(A){return rt=A,this},f.__private__.getR2L=f.getR2L=function(){return rt};var it,ut=f.__private__.setZoomMode=function(A){var B=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))He=A;else if(isNaN(A)){if(B.indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');He=A}else He=parseInt(A,10)};f.__private__.getZoomMode=function(){return He};var Xe,ot=f.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');it=A};f.__private__.getPageMode=function(){return it};var At=f.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');Xe=A};f.__private__.getLayoutMode=function(){return Xe},f.__private__.setDisplayMode=f.setDisplayMode=function(A,B,ae){return ut(A),At(B),ot(ae),this};var dt={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(A){if(Object.keys(dt).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return dt[A]},f.__private__.getDocumentProperties=function(){return dt},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(A){for(var B in dt)dt.hasOwnProperty(B)&&A[B]&&(dt[B]=A[B]);return this},f.__private__.setDocumentProperty=function(A,B){if(Object.keys(dt).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return dt[A]=B};var Pt,$e,Vt,Ct,Nr,Gt={},_n={},cs=[],Ft={},co={},En={},Ir={},Hi=null,wn=0,pt=[],Bt=new v3(f),us=n.hotfixes||[],or={},qr={},qi=[],tt=function A(B,ae,ce,ve,ke,Oe){if(!(this instanceof A))return new A(B,ae,ce,ve,ke,Oe);isNaN(B)&&(B=1),isNaN(ae)&&(ae=0),isNaN(ce)&&(ce=0),isNaN(ve)&&(ve=1),isNaN(ke)&&(ke=0),isNaN(Oe)&&(Oe=0),this._matrix=[B,ae,ce,ve,ke,Oe]};Object.defineProperty(tt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(tt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(tt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(tt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(tt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(tt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(tt.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(tt.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(tt.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(tt.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(tt.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(tt.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(tt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(tt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(tt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(tt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),tt.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(C).join(A)},tt.prototype.multiply=function(A){var B=A.sx*this.sx+A.shy*this.shx,ae=A.sx*this.shy+A.shy*this.sy,ce=A.shx*this.sx+A.sy*this.shx,ve=A.shx*this.shy+A.sy*this.sy,ke=A.tx*this.sx+A.ty*this.shx+this.tx,Oe=A.tx*this.shy+A.ty*this.sy+this.ty;return new tt(B,ae,ce,ve,ke,Oe)},tt.prototype.decompose=function(){var A=this.sx,B=this.shy,ae=this.shx,ce=this.sy,ve=this.tx,ke=this.ty,Oe=Math.sqrt(A*A+B*B),Ke=(A/=Oe)*ae+(B/=Oe)*ce;ae-=A*Ke,ce-=B*Ke;var m=Math.sqrt(ae*ae+ce*ce);return Ke/=m,A*(ce/=m)<B*(ae/=m)&&(A=-A,B=-B,Ke=-Ke,Oe=-Oe),{scale:new tt(Oe,0,0,m,0,0),translate:new tt(1,0,0,1,ve,ke),rotate:new tt(A,B,-B,A,0,0),skew:new tt(1,0,Ke,1,0,0)}},tt.prototype.toString=function(A){return this.join(" ")},tt.prototype.inversed=function(){var A=this.sx,B=this.shy,ae=this.shx,ce=this.sy,ve=this.tx,ke=this.ty,Oe=1/(A*ce-B*ae),Ke=ce*Oe,m=-B*Oe,D=-ae*Oe,F=A*Oe;return new tt(Ke,m,D,F,-Ke*ve-D*ke,-m*ve-F*ke)},tt.prototype.applyToPoint=function(A){var B=A.x*this.sx+A.y*this.shx+this.tx,ae=A.x*this.shy+A.y*this.sy+this.ty;return new da(B,ae)},tt.prototype.applyToRectangle=function(A){var B=this.applyToPoint(A),ae=this.applyToPoint(new da(A.x+A.w,A.y+A.h));return new yl(B.x,B.y,ae.x-B.x,ae.y-B.y)},tt.prototype.clone=function(){var A=this.sx,B=this.shy,ae=this.shx,ce=this.sy,ve=this.tx,ke=this.ty;return new tt(A,B,ae,ce,ve,ke)},f.Matrix=tt;var Pi=f.matrixMult=function(A,B){return B.multiply(A)},$r=new tt(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=$r;var ar=function(A,B){if(!co[A]){var ae=(B instanceof Kl?"Sh":"P")+(Object.keys(Ft).length+1).toString(10);B.id=ae,co[A]=ae,Ft[ae]=B,Bt.publish("addPattern",B)}};f.ShadingPattern=Kl,f.TilingPattern=Eu,f.addShadingPattern=function(A,B){return y("addShadingPattern()"),ar(A,B),this},f.beginTilingPattern=function(A){y("beginTilingPattern()"),_l(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},f.endTilingPattern=function(A,B){y("endTilingPattern()"),B.stream=Se[z].join(`
`),ar(A,B),Bt.publish("endTilingPattern",B),qi.pop().restore()};var Gn=f.__private__.newObject=function(){var A=Bn();return lr(A,!0),A},Bn=f.__private__.newObjectDeferred=function(){return se++,fe[se]=function(){return ge},se},lr=function(A,B){return B=typeof B=="boolean"&&B,fe[A]=ge,B&&ie(A+" 0 obj"),A},il=f.__private__.newAdditionalObject=function(){var A={objId:Bn(),content:""};return Te.push(A),A},Rs=Bn(),Yr=Bn(),Ti=f.__private__.decodeColorString=function(A){var B=A.split(" ");if(B.length!==2||B[1]!=="g"&&B[1]!=="G")B.length===5&&(B[4]==="k"||B[4]==="K")&&(B=[(1-B[0])*(1-B[3]),(1-B[1])*(1-B[3]),(1-B[2])*(1-B[3]),"r"]);else{var ae=parseFloat(B[0]);B=[ae,ae,ae,"r"]}for(var ce="#",ve=0;ve<3;ve++)ce+=("0"+Math.floor(255*parseFloat(B[ve])).toString(16)).slice(-2);return ce},di=f.__private__.encodeColorString=function(A){var B;typeof A=="string"&&(A={ch1:A});var ae=A.ch1,ce=A.ch2,ve=A.ch3,ke=A.ch4,Oe=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ae=="string"&&ae.charAt(0)!=="#"){var Ke=new WI(ae);if(Ke.ok)ae=Ke.toHex();else if(!/^\d*\.?\d*$/.test(ae))throw new Error('Invalid color "'+ae+'" passed to jsPDF.encodeColorString.')}if(typeof ae=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ae)&&(ae="#"+ae[1]+ae[1]+ae[2]+ae[2]+ae[3]+ae[3]),typeof ae=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ae)){var m=parseInt(ae.substr(1),16);ae=m>>16&255,ce=m>>8&255,ve=255&m}if(ce===void 0||ke===void 0&&ae===ce&&ce===ve)if(typeof ae=="string")B=ae+" "+Oe[0];else switch(A.precision){case 2:B=I(ae/255)+" "+Oe[0];break;case 3:default:B=k(ae/255)+" "+Oe[0]}else if(ke===void 0||cn(ke)==="object"){if(ke&&!isNaN(ke.a)&&ke.a===0)return B=["1.","1.","1.",Oe[1]].join(" ");if(typeof ae=="string")B=[ae,ce,ve,Oe[1]].join(" ");else switch(A.precision){case 2:B=[I(ae/255),I(ce/255),I(ve/255),Oe[1]].join(" ");break;default:case 3:B=[k(ae/255),k(ce/255),k(ve/255),Oe[1]].join(" ")}}else if(typeof ae=="string")B=[ae,ce,ve,ke,Oe[2]].join(" ");else switch(A.precision){case 2:B=[I(ae),I(ce),I(ve),I(ke),Oe[2]].join(" ");break;case 3:default:B=[k(ae),k(ce),k(ve),k(ke),Oe[2]].join(" ")}return B},fi=f.__private__.getFilters=function(){return o},Kn=f.__private__.putStream=function(A){var B=(A=A||{}).data||"",ae=A.filters||fi(),ce=A.alreadyAppliedFilters||[],ve=A.addLength1||!1,ke=B.length,Oe=A.objectId,Ke=function(St){return St};if(u!==null&&Oe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Ke=An.encryptor(Oe,0));var m={};ae===!0&&(ae=["FlateEncode"]);var D=A.additionalKeyValues||[],F=(m=ft.API.processDataByFilters!==void 0?ft.API.processDataByFilters(B,ae):{data:B,reverseChain:[]}).reverseChain+(Array.isArray(ce)?ce.join(" "):ce.toString());if(m.data.length!==0&&(D.push({key:"Length",value:m.data.length}),ve===!0&&D.push({key:"Length1",value:ke})),F.length!=0)if(F.split("/").length-1==1)D.push({key:"Filter",value:F});else{D.push({key:"Filter",value:"["+F+"]"});for(var Q=0;Q<D.length;Q+=1)if(D[Q].key==="DecodeParms"){for(var me=[],be=0;be<m.reverseChain.split("/").length-1;be+=1)me.push("null");me.push(D[Q].value),D[Q].value="["+me.join(" ")+"]"}}ie("<<");for(var je=0;je<D.length;je++)ie("/"+D[je].key+" "+D[je].value);ie(">>"),m.data.length!==0&&(ie("stream"),ie(Ke(m.data)),ie("endstream"))},$i=f.__private__.putPage=function(A){var B=A.number,ae=A.data,ce=A.objId,ve=A.contentsObjId;lr(ce,!0),ie("<</Type /Page"),ie("/Parent "+A.rootDictionaryObjId+" 0 R"),ie("/Resources "+A.resourceDictionaryObjId+" 0 R"),ie("/MediaBox ["+parseFloat(C(A.mediaBox.bottomLeftX))+" "+parseFloat(C(A.mediaBox.bottomLeftY))+" "+C(A.mediaBox.topRightX)+" "+C(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&ie("/CropBox ["+C(A.cropBox.bottomLeftX)+" "+C(A.cropBox.bottomLeftY)+" "+C(A.cropBox.topRightX)+" "+C(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&ie("/BleedBox ["+C(A.bleedBox.bottomLeftX)+" "+C(A.bleedBox.bottomLeftY)+" "+C(A.bleedBox.topRightX)+" "+C(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&ie("/TrimBox ["+C(A.trimBox.bottomLeftX)+" "+C(A.trimBox.bottomLeftY)+" "+C(A.trimBox.topRightX)+" "+C(A.trimBox.topRightY)+"]"),A.artBox!==null&&ie("/ArtBox ["+C(A.artBox.bottomLeftX)+" "+C(A.artBox.bottomLeftY)+" "+C(A.artBox.topRightX)+" "+C(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&ie("/UserUnit "+A.userUnit),Bt.publish("putPage",{objId:ce,pageContext:pt[B],pageNumber:B,page:ae}),ie("/Contents "+ve+" 0 R"),ie(">>"),ie("endobj");var ke=ae.join(`
`);return E===b.ADVANCED&&(ke+=`
Q`),lr(ve,!0),Kn({data:ke,filters:fi(),objectId:ve}),ie("endobj"),ce},uo=f.__private__.putPages=function(){var A,B,ae=[];for(A=1;A<=wn;A++)pt[A].objId=Bn(),pt[A].contentsObjId=Bn();for(A=1;A<=wn;A++)ae.push($i({number:A,data:Se[A],objId:pt[A].objId,contentsObjId:pt[A].contentsObjId,mediaBox:pt[A].mediaBox,cropBox:pt[A].cropBox,bleedBox:pt[A].bleedBox,trimBox:pt[A].trimBox,artBox:pt[A].artBox,userUnit:pt[A].userUnit,rootDictionaryObjId:Rs,resourceDictionaryObjId:Yr}));lr(Rs,!0),ie("<</Type /Pages");var ce="/Kids [";for(B=0;B<wn;B++)ce+=ae[B]+" 0 R ";ie(ce+"]"),ie("/Count "+wn),ie(">>"),ie("endobj"),Bt.publish("postPutPages")},ho=function(A){Bt.publish("putFont",{font:A,out:ie,newObject:Gn,putStream:Kn}),A.isAlreadyPutted!==!0&&(A.objectNumber=Gn(),ie("<<"),ie("/Type /Font"),ie("/BaseFont /"+Yh(A.postScriptName)),ie("/Subtype /Type1"),typeof A.encoding=="string"&&ie("/Encoding /"+A.encoding),ie("/FirstChar 32"),ie("/LastChar 255"),ie(">>"),ie("endobj"))},fo=function(){for(var A in Gt)Gt.hasOwnProperty(A)&&(h===!1||h===!0&&d.hasOwnProperty(A))&&ho(Gt[A])},ra=function(A){A.objectNumber=Gn();var B=[];B.push({key:"Type",value:"/XObject"}),B.push({key:"Subtype",value:"/Form"}),B.push({key:"BBox",value:"["+[C(A.x),C(A.y),C(A.x+A.width),C(A.y+A.height)].join(" ")+"]"}),B.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var ae=A.pages[1].join(`
`);Kn({data:ae,additionalKeyValues:B,objectId:A.objectNumber}),ie("endobj")},ia=function(){for(var A in or)or.hasOwnProperty(A)&&ra(or[A])},fh=function(A,B){var ae,ce=[],ve=1/(B-1);for(ae=0;ae<1;ae+=ve)ce.push(ae);if(ce.push(1),A[0].offset!=0){var ke={offset:0,color:A[0].color};A.unshift(ke)}if(A[A.length-1].offset!=1){var Oe={offset:1,color:A[A.length-1].color};A.push(Oe)}for(var Ke="",m=0,D=0;D<ce.length;D++){for(ae=ce[D];ae>A[m+1].offset;)m++;var F=A[m].offset,Q=(ae-F)/(A[m+1].offset-F),me=A[m].color,be=A[m+1].color;Ke+=ne(Math.round((1-Q)*me[0]+Q*be[0]).toString(16))+ne(Math.round((1-Q)*me[1]+Q*be[1]).toString(16))+ne(Math.round((1-Q)*me[2]+Q*be[2]).toString(16))}return Ke.trim()},sl=function(A,B){B||(B=21);var ae=Gn(),ce=fh(A.colors,B),ve=[];ve.push({key:"FunctionType",value:"0"}),ve.push({key:"Domain",value:"[0.0 1.0]"}),ve.push({key:"Size",value:"["+B+"]"}),ve.push({key:"BitsPerSample",value:"8"}),ve.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ve.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Kn({data:ce,additionalKeyValues:ve,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ae}),ie("endobj"),A.objectNumber=Gn(),ie("<< /ShadingType "+A.type),ie("/ColorSpace /DeviceRGB");var ke="/Coords ["+C(parseFloat(A.coords[0]))+" "+C(parseFloat(A.coords[1]))+" ";A.type===2?ke+=C(parseFloat(A.coords[2]))+" "+C(parseFloat(A.coords[3])):ke+=C(parseFloat(A.coords[2]))+" "+C(parseFloat(A.coords[3]))+" "+C(parseFloat(A.coords[4]))+" "+C(parseFloat(A.coords[5])),ie(ke+="]"),A.matrix&&ie("/Matrix ["+A.matrix.toString()+"]"),ie("/Function "+ae+" 0 R"),ie("/Extend [true true]"),ie(">>"),ie("endobj")},ph=function(A,B){var ae=Bn(),ce=Gn();B.push({resourcesOid:ae,objectOid:ce}),A.objectNumber=ce;var ve=[];ve.push({key:"Type",value:"/Pattern"}),ve.push({key:"PatternType",value:"1"}),ve.push({key:"PaintType",value:"1"}),ve.push({key:"TilingType",value:"1"}),ve.push({key:"BBox",value:"["+A.boundingBox.map(C).join(" ")+"]"}),ve.push({key:"XStep",value:C(A.xStep)}),ve.push({key:"YStep",value:C(A.yStep)}),ve.push({key:"Resources",value:ae+" 0 R"}),A.matrix&&ve.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),Kn({data:A.stream,additionalKeyValues:ve,objectId:A.objectNumber}),ie("endobj")},po=function(A){var B;for(B in Ft)Ft.hasOwnProperty(B)&&(Ft[B]instanceof Kl?sl(Ft[B]):Ft[B]instanceof Eu&&ph(Ft[B],A))},mo=function(A){for(var B in A.objectNumber=Gn(),ie("<<"),A)switch(B){case"opacity":ie("/ca "+I(A[B]));break;case"stroke-opacity":ie("/CA "+I(A[B]))}ie(">>"),ie("endobj")},Ls=function(){var A;for(A in En)En.hasOwnProperty(A)&&mo(En[A])},sa=function(){for(var A in ie("/XObject <<"),or)or.hasOwnProperty(A)&&or[A].objectNumber>=0&&ie("/"+A+" "+or[A].objectNumber+" 0 R");Bt.publish("putXobjectDict"),ie(">>")},uf=function(){An.oid=Gn(),ie("<<"),ie("/Filter /Standard"),ie("/V "+An.v),ie("/R "+An.r),ie("/U <"+An.toHexString(An.U)+">"),ie("/O <"+An.toHexString(An.O)+">"),ie("/P "+An.P),ie(">>"),ie("endobj")},Wc=function(){for(var A in ie("/Font <<"),Gt)Gt.hasOwnProperty(A)&&(h===!1||h===!0&&d.hasOwnProperty(A))&&ie("/"+A+" "+Gt[A].objectNumber+" 0 R");ie(">>")},mh=function(){if(Object.keys(Ft).length>0){for(var A in ie("/Shading <<"),Ft)Ft.hasOwnProperty(A)&&Ft[A]instanceof Kl&&Ft[A].objectNumber>=0&&ie("/"+A+" "+Ft[A].objectNumber+" 0 R");Bt.publish("putShadingPatternDict"),ie(">>")}},oa=function(A){if(Object.keys(Ft).length>0){for(var B in ie("/Pattern <<"),Ft)Ft.hasOwnProperty(B)&&Ft[B]instanceof f.TilingPattern&&Ft[B].objectNumber>=0&&Ft[B].objectNumber<A&&ie("/"+B+" "+Ft[B].objectNumber+" 0 R");Bt.publish("putTilingPatternDict"),ie(">>")}},Hc=function(){if(Object.keys(En).length>0){var A;for(A in ie("/ExtGState <<"),En)En.hasOwnProperty(A)&&En[A].objectNumber>=0&&ie("/"+A+" "+En[A].objectNumber+" 0 R");Bt.publish("putGStateDict"),ie(">>")}},kn=function(A){lr(A.resourcesOid,!0),ie("<<"),ie("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Wc(),mh(),oa(A.objectOid),Hc(),sa(),ie(">>"),ie("endobj")},qc=function(){var A=[];fo(),Ls(),ia(),po(A),Bt.publish("putResources"),A.forEach(kn),kn({resourcesOid:Yr,objectOid:Number.MAX_SAFE_INTEGER}),Bt.publish("postPutResources")},$c=function(){Bt.publish("putAdditionalObjects");for(var A=0;A<Te.length;A++){var B=Te[A];lr(B.objId,!0),ie(B.content),ie("endobj")}Bt.publish("postPutAdditionalObjects")},gh=function(A){_n[A.fontName]=_n[A.fontName]||{},_n[A.fontName][A.fontStyle]=A.id},Yc=function(A,B,ae,ce,ve){var ke={id:"F"+(Object.keys(Gt).length+1).toString(10),postScriptName:A,fontName:B,fontStyle:ae,encoding:ce,isStandardFont:ve||!1,metadata:{}};return Bt.publish("addFont",{font:ke,instance:this}),Gt[ke.id]=ke,gh(ke),ke.id},vh=function(A){for(var B=0,ae=Ce.length;B<ae;B++){var ce=Yc.call(this,A[B][0],A[B][1],A[B][2],Ce[B][3],!0);h===!1&&(d[ce]=!0);var ve=A[B][0].split("-");gh({id:ce,fontName:ve[0],fontStyle:ve[1]||""})}Bt.publish("addFonts",{fonts:Gt,dictionary:_n})},Ci=function(A){return A.foo=function(){try{return A.apply(this,arguments)}catch(ce){var B=ce.stack||"";~B.indexOf(" at ")&&(B=B.split(" at ")[1]);var ae="Error in function "+B.split(`
`)[0].split("<")[0]+": "+ce.message;if(!vt.console)throw new Error(ae);vt.console.error(ae,ce),vt.alert&&alert(ae)}},A.foo.bar=A,A.foo},ol=function(A,B){var ae,ce,ve,ke,Oe,Ke,m,D,F;if(ve=(B=B||{}).sourceEncoding||"Unicode",Oe=B.outputEncoding,(B.autoencode||Oe)&&Gt[Pt].metadata&&Gt[Pt].metadata[ve]&&Gt[Pt].metadata[ve].encoding&&(ke=Gt[Pt].metadata[ve].encoding,!Oe&&Gt[Pt].encoding&&(Oe=Gt[Pt].encoding),!Oe&&ke.codePages&&(Oe=ke.codePages[0]),typeof Oe=="string"&&(Oe=ke[Oe]),Oe)){for(m=!1,Ke=[],ae=0,ce=A.length;ae<ce;ae++)(D=Oe[A.charCodeAt(ae)])?Ke.push(String.fromCharCode(D)):Ke.push(A[ae]),Ke[ae].charCodeAt(0)>>8&&(m=!0);A=Ke.join("")}for(ae=A.length;m===void 0&&ae!==0;)A.charCodeAt(ae-1)>>8&&(m=!0),ae--;if(!m)return A;for(Ke=B.noBOM?[]:[254,255],ae=0,ce=A.length;ae<ce;ae++){if((F=(D=A.charCodeAt(ae))>>8)>>8)throw new Error("Character at position "+ae+" of string '"+A+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ke.push(F),Ke.push(D-(F<<8))}return String.fromCharCode.apply(void 0,Ke)},Un=f.__private__.pdfEscape=f.pdfEscape=function(A,B){return ol(A,B).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},pi=f.__private__.beginPage=function(A){Se[++wn]=[],pt[wn]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},Gc(wn),xe(Se[z])},aa=function(A,B){var ae,ce,ve;switch(t=B||t,typeof A=="string"&&(ae=_(A.toLowerCase()),Array.isArray(ae)&&(ce=ae[0],ve=ae[1])),Array.isArray(A)&&(ce=A[0]*$e,ve=A[1]*$e),isNaN(ce)&&(ce=i[0],ve=i[1]),(ce>14400||ve>14400)&&(gn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ce=Math.min(14400,ce),ve=Math.min(14400,ve)),i=[ce,ve],t.substr(0,1)){case"l":ve>ce&&(i=[ve,ce]);break;case"p":ce>ve&&(i=[ve,ce])}pi(i),Zc(Jc),ie(Dr),nu!==0&&ie(nu+" J"),vl!==0&&ie(vl+" j"),Bt.publish("addPage",{pageNumber:wn})},al=function(A){A>0&&A<=wn&&(Se.splice(A,1),pt.splice(A,1),wn--,z>wn&&(z=wn),this.setPage(z))},Gc=function(A){A>0&&A<=wn&&(z=A)},nn=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return Se.length-1},la=function(A,B,ae){var ce,ve=void 0;return ae=ae||{},A=A!==void 0?A:Gt[Pt].fontName,B=B!==void 0?B:Gt[Pt].fontStyle,ce=A.toLowerCase(),_n[ce]!==void 0&&_n[ce][B]!==void 0?ve=_n[ce][B]:_n[A]!==void 0&&_n[A][B]!==void 0?ve=_n[A][B]:ae.disableWarning===!1&&gn.warn("Unable to look up font label for font '"+A+"', '"+B+"'. Refer to getFontList() for available fonts."),ve||ae.noFallback||(ve=_n.times[B])==null&&(ve=_n.times.normal),ve},ca=f.__private__.putInfo=function(){var A=Gn(),B=function(ce){return ce};for(var ae in u!==null&&(B=An.encryptor(A,0)),ie("<<"),ie("/Producer ("+Un(B("jsPDF "+ft.version))+")"),dt)dt.hasOwnProperty(ae)&&dt[ae]&&ie("/"+ae.substr(0,1).toUpperCase()+ae.substr(1)+" ("+Un(B(dt[ae]))+")");ie("/CreationDate ("+Un(B(te))+")"),ie(">>"),ie("endobj")},Ms=f.__private__.putCatalog=function(A){var B=(A=A||{}).rootDictionaryObjId||Rs;switch(Gn(),ie("<<"),ie("/Type /Catalog"),ie("/Pages "+B+" 0 R"),He||(He="fullwidth"),He){case"fullwidth":ie("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ie("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ie("/OpenAction [3 0 R /Fit]");break;case"original":ie("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ae=""+He;ae.substr(ae.length-1)==="%"&&(He=parseInt(He)/100),typeof He=="number"&&ie("/OpenAction [3 0 R /XYZ null null "+I(He)+"]")}switch(Xe||(Xe="continuous"),Xe){case"continuous":ie("/PageLayout /OneColumn");break;case"single":ie("/PageLayout /SinglePage");break;case"two":case"twoleft":ie("/PageLayout /TwoColumnLeft");break;case"tworight":ie("/PageLayout /TwoColumnRight")}it&&ie("/PageMode /"+it),Bt.publish("putCatalog"),ie(">>"),ie("endobj")},hf=f.__private__.putTrailer=function(){ie("trailer"),ie("<<"),ie("/Size "+(se+1)),ie("/Root "+se+" 0 R"),ie("/Info "+(se-1)+" 0 R"),u!==null&&ie("/Encrypt "+An.oid+" 0 R"),ie("/ID [ <"+K+"> <"+K+"> ]"),ie(">>")},yh=f.__private__.putHeader=function(){ie("%PDF-"+g),ie("%")},df=f.__private__.putXRef=function(){var A="0000000000";ie("xref"),ie("0 "+(se+1)),ie("0000000000 65535 f ");for(var B=1;B<=se;B++)typeof fe[B]=="function"?ie((A+fe[B]()).slice(-10)+" 00000 n "):fe[B]!==void 0?ie((A+fe[B]).slice(-10)+" 00000 n "):ie("0000000000 00000 n ")},Os=f.__private__.buildDocument=function(){qe(),xe(de),Bt.publish("buildDocument"),yh(),uo(),$c(),qc(),u!==null&&uf(),ca(),Ms();var A=ge;return df(),hf(),ie("startxref"),ie(""+A),ie("%%EOF"),xe(Se[z]),de.join(`
`)},ll=f.__private__.getBlob=function(A){return new Blob([Fe(A)],{type:"application/pdf"})},cl=f.output=f.__private__.output=Ci(function(A,B){switch(typeof(B=B||{})=="string"?B={filename:B}:B.filename=B.filename||"generated.pdf",A){case void 0:return Os();case"save":f.save(B.filename);break;case"arraybuffer":return Fe(Os());case"blob":return ll(Os());case"bloburi":case"bloburl":if(vt.URL!==void 0&&typeof vt.URL.createObjectURL=="function")return vt.URL&&vt.URL.createObjectURL(ll(Os()))||void 0;gn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ae="",ce=Os();try{ae=Uw(ce)}catch{ae=Uw(unescape(encodeURIComponent(ce)))}return"data:application/pdf;filename="+B.filename+";base64,"+ae;case"pdfobjectnewwindow":if(Object.prototype.toString.call(vt)==="[object Window]"){var ve="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ke=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';B.pdfObjectUrl&&(ve=B.pdfObjectUrl,ke="");var Oe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ve+'"'+ke+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(B)+");<\/script></body></html>",Ke=vt.open();return Ke!==null&&Ke.document.write(Oe),Ke}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(vt)==="[object Window]"){var m='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(B.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+B.filename+'" width="500px" height="400px" /></body></html>',D=vt.open();if(D!==null){D.document.write(m);var F=this;D.document.documentElement.querySelector("#pdfViewer").onload=function(){D.document.title=B.filename,D.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(F.output("bloburl"))}}return D}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(vt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Q='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",B)+'"></iframe></body></html>',me=vt.open();if(me!==null&&(me.document.write(Q),me.document.title=B.filename),me||typeof safari>"u")return me;break;case"datauri":case"dataurl":return vt.document.location.href=this.output("datauristring",B);default:return null}}),go=function(A){return Array.isArray(us)===!0&&us.indexOf(A)>-1};switch(r){case"pt":$e=1;break;case"mm":$e=72/25.4;break;case"cm":$e=72/2.54;break;case"in":$e=72;break;case"px":$e=go("px_scaling")==1?.75:96/72;break;case"pc":case"em":$e=12;break;case"ex":$e=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);$e=r}var An=null;le(),W();var _h=function(A){return u!==null?An.encryptor(A,0):function(B){return B}},Kc=f.__private__.getPageInfo=f.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:pt[A].objId,pageNumber:A,pageContext:pt[A]}},yt=f.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var B in pt)if(pt[B].objId===A)break;return Kc(B)},vo=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:pt[z].objId,pageNumber:z,pageContext:pt[z]}};f.addPage=function(){return aa.apply(this,arguments),this},f.setPage=function(){return Gc.apply(this,arguments),xe.call(this,Se[z]),this},f.insertPage=function(A){return this.addPage(),this.movePage(z,A),this},f.movePage=function(A,B){var ae,ce;if(A>B){ae=Se[A],ce=pt[A];for(var ve=A;ve>B;ve--)Se[ve]=Se[ve-1],pt[ve]=pt[ve-1];Se[B]=ae,pt[B]=ce,this.setPage(B)}else if(A<B){ae=Se[A],ce=pt[A];for(var ke=A;ke<B;ke++)Se[ke]=Se[ke+1],pt[ke]=pt[ke+1];Se[B]=ae,pt[B]=ce,this.setPage(B)}return this},f.deletePage=function(){return al.apply(this,arguments),this},f.__private__.text=f.text=function(A,B,ae,ce,ve){var ke,Oe,Ke,m,D,F,Q,me,be,je=(ce=ce||{}).scope||this;if(typeof A=="number"&&typeof B=="number"&&(typeof ae=="string"||Array.isArray(ae))){var St=ae;ae=B,B=A,A=St}if(arguments[3]instanceof tt?(y("The transform parameter of text() with a Matrix value"),be=ve):(Ke=arguments[4],m=arguments[5],cn(Q=arguments[3])==="object"&&Q!==null||(typeof Ke=="string"&&(m=Ke,Ke=null),typeof Q=="string"&&(m=Q,Q=null),typeof Q=="number"&&(Ke=Q,Q=null),ce={flags:Q,angle:Ke,align:m})),isNaN(B)||isNaN(ae)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return je;var Rt="",Et=!1,Jt=typeof ce.lineHeightFactor=="number"?ce.lineHeightFactor:Xt,pn=je.internal.scaleFactor;function Us(bn){return bn=bn.split("	").join(Array(ce.TabLen||9).join(" ")),Un(bn,Q)}function Rr(bn){for(var xn,Xn=bn.concat(),gr=[],va=Xn.length;va--;)typeof(xn=Xn.shift())=="string"?gr.push(xn):Array.isArray(bn)&&(xn.length===1||xn[1]===void 0&&xn[2]===void 0)?gr.push(xn[0]):gr.push([xn[0],xn[1],xn[2]]);return gr}function bo(bn,xn){var Xn;if(typeof bn=="string")Xn=xn(bn)[0];else if(Array.isArray(bn)){for(var gr,va,bf=bn.concat(),Dh=[],sg=bf.length;sg--;)typeof(gr=bf.shift())=="string"?Dh.push(xn(gr)[0]):Array.isArray(gr)&&typeof gr[0]=="string"&&(va=xn(gr[0],gr[1],gr[2]),Dh.push([va[0],va[1],va[2]]));Xn=Dh}return Xn}var xo=!1,pf=!0;if(typeof A=="string")xo=!0;else if(Array.isArray(A)){var mf=A.concat();Oe=[];for(var Eh,Lr=mf.length;Lr--;)(typeof(Eh=mf.shift())!="string"||Array.isArray(Eh)&&typeof Eh[0]!="string")&&(pf=!1);xo=pf}if(xo===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var kh=ze/je.internal.scaleFactor,Ah=kh*(Jt-1);switch(ce.baseline){case"bottom":ae-=Ah;break;case"top":ae+=kh-Ah;break;case"hanging":ae+=kh-2*Ah;break;case"middle":ae+=kh/2-Ah}if((F=ce.maxWidth||0)>0&&(typeof A=="string"?A=je.splitTextToSize(A,F):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(bn,xn){return bn.concat(je.splitTextToSize(xn,F))},[]))),ke={text:A,x:B,y:ae,options:ce,mutex:{pdfEscape:Un,activeFontKey:Pt,fonts:Gt,activeFontSize:ze}},Bt.publish("preProcessText",ke),A=ke.text,Ke=(ce=ke.options).angle,!(be instanceof tt)&&Ke&&typeof Ke=="number"){Ke*=Math.PI/180,ce.rotationDirection===0&&(Ke=-Ke),E===b.ADVANCED&&(Ke=-Ke);var Ph=Math.cos(Ke),gf=Math.sin(Ke);be=new tt(Ph,gf,-gf,Ph,0,0)}else Ke&&Ke instanceof tt&&(be=Ke);E!==b.ADVANCED||be||(be=$r),(D=ce.charSpace||ha)!==void 0&&(Rt+=C(P(D))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(me=ce.horizontalScale)!==void 0&&(Rt+=C(100*me)+` Tz
`),ce.lang;var Ni=-1,Ty=ce.renderingMode!==void 0?ce.renderingMode:ce.stroke,vf=je.internal.getCurrentPageInfo().pageContext;switch(Ty){case 0:case!1:case"fill":Ni=0;break;case 1:case!0:case"stroke":Ni=1;break;case 2:case"fillThenStroke":Ni=2;break;case 3:case"invisible":Ni=3;break;case 4:case"fillAndAddForClipping":Ni=4;break;case 5:case"strokeAndAddPathForClipping":Ni=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ni=6;break;case 7:case"addToPathForClipping":Ni=7}var tg=vf.usedRenderingMode!==void 0?vf.usedRenderingMode:-1;Ni!==-1?Rt+=Ni+` Tr
`:tg!==-1&&(Rt+=`0 Tr
`),Ni!==-1&&(vf.usedRenderingMode=Ni),m=ce.align||"left";var ds,Th=ze*Jt,ng=je.internal.pageSize.getWidth(),rg=Gt[Pt];D=ce.charSpace||ha,F=ce.maxWidth||0,Q=Object.assign({autoencode:!0,noBOM:!0},ce.flags);var xl=[],ru=function(bn){return je.getStringUnitWidth(bn,{font:rg,charSpace:D,fontSize:ze,doKerning:!1})*ze/pn};if(Object.prototype.toString.call(A)==="[object Array]"){var Ii;Oe=Rr(A),m!=="left"&&(ds=Oe.map(ru));var mi,Sl=0;if(m==="right"){B-=ds[0],A=[],Lr=Oe.length;for(var pa=0;pa<Lr;pa++)pa===0?(mi=Ki(B),Ii=mr(ae)):(mi=P(Sl-ds[pa]),Ii=-Th),A.push([Oe[pa],mi,Ii]),Sl=ds[pa]}else if(m==="center"){B-=ds[0]/2,A=[],Lr=Oe.length;for(var ma=0;ma<Lr;ma++)ma===0?(mi=Ki(B),Ii=mr(ae)):(mi=P((Sl-ds[ma])/2),Ii=-Th),A.push([Oe[ma],mi,Ii]),Sl=ds[ma]}else if(m==="left"){A=[],Lr=Oe.length;for(var Ch=0;Ch<Lr;Ch++)A.push(Oe[Ch])}else if(m==="justify"&&rg.encoding==="Identity-H"){A=[],Lr=Oe.length,F=F!==0?F:ng;for(var ga=0,Qn=0;Qn<Lr;Qn++)if(Ii=Qn===0?mr(ae):-Th,mi=Qn===0?Ki(B):ga,Qn<Lr-1){var yf=P((F-ds[Qn])/(Oe[Qn].split(" ").length-1)),gi=Oe[Qn].split(" ");A.push([gi[0]+" ",mi,Ii]),ga=0;for(var fs=1;fs<gi.length;fs++){var Nh=(ru(gi[fs-1]+" "+gi[fs])-ru(gi[fs]))*pn+yf;fs==gi.length-1?A.push([gi[fs],Nh,0]):A.push([gi[fs]+" ",Nh,0]),ga-=Nh}}else A.push([Oe[Qn],mi,Ii]);A.push(["",ga,0])}else{if(m!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],Lr=Oe.length,F=F!==0?F:ng,Qn=0;Qn<Lr;Qn++)Ii=Qn===0?mr(ae):-Th,mi=Qn===0?Ki(B):0,Qn<Lr-1?xl.push(C(P((F-ds[Qn])/(Oe[Qn].split(" ").length-1)))):xl.push(0),A.push([Oe[Qn],mi,Ii])}}var ig=typeof ce.R2L=="boolean"?ce.R2L:rt;ig===!0&&(A=bo(A,function(bn,xn,Xn){return[bn.split("").reverse().join(""),xn,Xn]})),ke={text:A,x:B,y:ae,options:ce,mutex:{pdfEscape:Un,activeFontKey:Pt,fonts:Gt,activeFontSize:ze}},Bt.publish("postProcessText",ke),A=ke.text,Et=ke.mutex.isHex||!1;var _f=Gt[Pt].encoding;_f!=="WinAnsiEncoding"&&_f!=="StandardEncoding"||(A=bo(A,function(bn,xn,Xn){return[Us(bn),xn,Xn]})),Oe=Rr(A),A=[];for(var iu,su,El,ou=0,Ih=1,au=Array.isArray(Oe[0])?Ih:ou,kl="",wf=function(bn,xn,Xn){var gr="";return Xn instanceof tt?(Xn=typeof ce.angle=="number"?Pi(Xn,new tt(1,0,0,1,bn,xn)):Pi(new tt(1,0,0,1,bn,xn),Xn),E===b.ADVANCED&&(Xn=Pi(new tt(1,0,0,-1,0,0),Xn)),gr=Xn.join(" ")+` Tm
`):gr=C(bn)+" "+C(xn)+` Td
`,gr},ps=0;ps<Oe.length;ps++){switch(kl="",au){case Ih:El=(Et?"<":"(")+Oe[ps][0]+(Et?">":")"),iu=parseFloat(Oe[ps][1]),su=parseFloat(Oe[ps][2]);break;case ou:El=(Et?"<":"(")+Oe[ps]+(Et?">":")"),iu=Ki(B),su=mr(ae)}xl!==void 0&&xl[ps]!==void 0&&(kl=xl[ps]+` Tw
`),ps===0?A.push(kl+wf(iu,su,be)+El):au===ou?A.push(kl+El):au===Ih&&A.push(kl+wf(iu,su,be)+El)}A=au===ou?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var ms=`BT
/`;return ms+=Pt+" "+ze+` Tf
`,ms+=C(ze*Jt)+` TL
`,ms+=Vs+`
`,ms+=Rt,ms+=A,ie(ms+="ET"),d[Pt]=!0,je};var ff=f.__private__.clip=f.clip=function(A){return ie(A==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return ff("evenodd")},f.__private__.discardPath=f.discardPath=function(){return ie("n"),this};var hs=f.__private__.isValidStyle=function(A){var B=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(B=!0),B};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(A){return hs(A)&&(c=A),this};var wh=f.__private__.getStyle=f.getStyle=function(A){var B=c;switch(A){case"D":case"S":B="S";break;case"F":B="f";break;case"FD":case"DF":B="B";break;case"f":case"f*":case"B":case"B*":B=A}return B},Yi=f.close=function(){return ie("h"),this};f.stroke=function(){return ie("S"),this},f.fill=function(A){return ul("f",A),this},f.fillEvenOdd=function(A){return ul("f*",A),this},f.fillStroke=function(A){return ul("B",A),this},f.fillStrokeEvenOdd=function(A){return ul("B*",A),this};var ul=function(A,B){cn(B)==="object"?dl(B,A):ie(A)},Qc=function(A){A===null||E===b.ADVANCED&&A===void 0||(A=wh(A),ie(A))};function hl(A,B,ae,ce,ve){var ke=new Eu(B||this.boundingBox,ae||this.xStep,ce||this.yStep,this.gState,ve||this.matrix);ke.stream=this.stream;var Oe=A+"$$"+this.cloneIndex+++"$$";return ar(Oe,ke),ke}var dl=function(A,B){var ae=co[A.key],ce=Ft[ae];if(ce instanceof Kl)ie("q"),ie(bh(B)),ce.gState&&f.setGState(ce.gState),ie(A.matrix.toString()+" cm"),ie("/"+ae+" sh"),ie("Q");else if(ce instanceof Eu){var ve=new tt(1,0,0,-1,0,Gr());A.matrix&&(ve=ve.multiply(A.matrix||$r),ae=hl.call(ce,A.key,A.boundingBox,A.xStep,A.yStep,ve).id),ie("q"),ie("/Pattern cs"),ie("/"+ae+" scn"),ce.gState&&f.setGState(ce.gState),ie(B),ie("Q")}},bh=function(A){switch(A){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Fs=f.moveTo=function(A,B){return ie(C(P(A))+" "+C($(B))+" m"),this},Gi=f.lineTo=function(A,B){return ie(C(P(A))+" "+C($(B))+" l"),this},js=f.curveTo=function(A,B,ae,ce,ve,ke){return ie([C(P(A)),C($(B)),C(P(ae)),C($(ce)),C(P(ve)),C($(ke)),"c"].join(" ")),this};f.__private__.line=f.line=function(A,B,ae,ce,ve){if(isNaN(A)||isNaN(B)||isNaN(ae)||isNaN(ce)||!hs(ve))throw new Error("Invalid arguments passed to jsPDF.line");return E===b.COMPAT?this.lines([[ae-A,ce-B]],A,B,[1,1],ve||"S"):this.lines([[ae-A,ce-B]],A,B,[1,1]).stroke()},f.__private__.lines=f.lines=function(A,B,ae,ce,ve,ke){var Oe,Ke,m,D,F,Q,me,be,je,St,Rt,Et;if(typeof A=="number"&&(Et=ae,ae=B,B=A,A=Et),ce=ce||[1,1],ke=ke||!1,isNaN(B)||isNaN(ae)||!Array.isArray(A)||!Array.isArray(ce)||!hs(ve)||typeof ke!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Fs(B,ae),Oe=ce[0],Ke=ce[1],D=A.length,St=B,Rt=ae,m=0;m<D;m++)(F=A[m]).length===2?(St=F[0]*Oe+St,Rt=F[1]*Ke+Rt,Gi(St,Rt)):(Q=F[0]*Oe+St,me=F[1]*Ke+Rt,be=F[2]*Oe+St,je=F[3]*Ke+Rt,St=F[4]*Oe+St,Rt=F[5]*Ke+Rt,js(Q,me,be,je,St,Rt));return ke&&Yi(),Qc(ve),this},f.path=function(A){for(var B=0;B<A.length;B++){var ae=A[B],ce=ae.c;switch(ae.op){case"m":Fs(ce[0],ce[1]);break;case"l":Gi(ce[0],ce[1]);break;case"c":js.apply(this,ce);break;case"h":Yi()}}return this},f.__private__.rect=f.rect=function(A,B,ae,ce,ve){if(isNaN(A)||isNaN(B)||isNaN(ae)||isNaN(ce)||!hs(ve))throw new Error("Invalid arguments passed to jsPDF.rect");return E===b.COMPAT&&(ce=-ce),ie([C(P(A)),C($(B)),C(P(ae)),C(P(ce)),"re"].join(" ")),Qc(ve),this},f.__private__.triangle=f.triangle=function(A,B,ae,ce,ve,ke,Oe){if(isNaN(A)||isNaN(B)||isNaN(ae)||isNaN(ce)||isNaN(ve)||isNaN(ke)||!hs(Oe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ae-A,ce-B],[ve-ae,ke-ce],[A-ve,B-ke]],A,B,[1,1],Oe,!0),this},f.__private__.roundedRect=f.roundedRect=function(A,B,ae,ce,ve,ke,Oe){if(isNaN(A)||isNaN(B)||isNaN(ae)||isNaN(ce)||isNaN(ve)||isNaN(ke)||!hs(Oe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ke=4/3*(Math.SQRT2-1);return ve=Math.min(ve,.5*ae),ke=Math.min(ke,.5*ce),this.lines([[ae-2*ve,0],[ve*Ke,0,ve,ke-ke*Ke,ve,ke],[0,ce-2*ke],[0,ke*Ke,-ve*Ke,ke,-ve,ke],[2*ve-ae,0],[-ve*Ke,0,-ve,-ke*Ke,-ve,-ke],[0,2*ke-ce],[0,-ke*Ke,ve*Ke,-ke,ve,-ke]],A+ve,B,[1,1],Oe,!0),this},f.__private__.ellipse=f.ellipse=function(A,B,ae,ce,ve){if(isNaN(A)||isNaN(B)||isNaN(ae)||isNaN(ce)||!hs(ve))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ke=4/3*(Math.SQRT2-1)*ae,Oe=4/3*(Math.SQRT2-1)*ce;return Fs(A+ae,B),js(A+ae,B-Oe,A+ke,B-ce,A,B-ce),js(A-ke,B-ce,A-ae,B-Oe,A-ae,B),js(A-ae,B+Oe,A-ke,B+ce,A,B+ce),js(A+ke,B+ce,A+ae,B+Oe,A+ae,B),Qc(ve),this},f.__private__.circle=f.circle=function(A,B,ae,ce){if(isNaN(A)||isNaN(B)||isNaN(ae)||!hs(ce))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,B,ae,ae,ce)},f.setFont=function(A,B,ae){return ae&&(B=V(B,ae)),Pt=la(A,B,{disableWarning:!1}),this};var Xc=f.__private__.getFont=f.getFont=function(){return Gt[la.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var A,B,ae={};for(A in _n)if(_n.hasOwnProperty(A))for(B in ae[A]=[],_n[A])_n[A].hasOwnProperty(B)&&ae[A].push(B);return ae},f.addFont=function(A,B,ae,ce,ve){var ke=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ke.indexOf(arguments[3])!==-1?ve=arguments[3]:arguments[3]&&ke.indexOf(arguments[3])==-1&&(ae=V(ae,ce)),ve=ve||"Identity-H",Yc.call(this,A,B,ae,ve)};var Xt,Jc=n.lineWidth||.200025,fl=f.__private__.getLineWidth=f.getLineWidth=function(){return Jc},Zc=f.__private__.setLineWidth=f.setLineWidth=function(A){return Jc=A,ie(C(P(A))+" w"),this};f.__private__.setLineDash=ft.API.setLineDash=ft.API.setLineDashPattern=function(A,B){if(A=A||[],B=B||0,isNaN(B)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map(function(ae){return C(P(ae))}).join(" "),B=C(P(B)),ie("["+A+"] "+B+" d"),this};var eu=f.__private__.getLineHeight=f.getLineHeight=function(){return ze*Xt};f.__private__.getLineHeight=f.getLineHeight=function(){return ze*Xt};var tu=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&(Xt=A),this},ua=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Xt};tu(n.lineHeight);var Ki=f.__private__.getHorizontalCoordinate=function(A){return P(A)},mr=f.__private__.getVerticalCoordinate=function(A){return E===b.ADVANCED?A:pt[z].mediaBox.topRightY-pt[z].mediaBox.bottomLeftY-P(A)},xh=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(A){return C(Ki(A))},yo=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(A){return C(mr(A))},Dr=n.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Ti(Dr)},f.__private__.setStrokeColor=f.setDrawColor=function(A,B,ae,ce){return Dr=di({ch1:A,ch2:B,ch3:ae,ch4:ce,pdfColorType:"draw",precision:2}),ie(Dr),this};var pl=n.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Ti(pl)},f.__private__.setFillColor=f.setFillColor=function(A,B,ae,ce){return pl=di({ch1:A,ch2:B,ch3:ae,ch4:ce,pdfColorType:"fill",precision:2}),ie(pl),this};var Vs=n.textColor||"0 g",ml=f.__private__.getTextColor=f.getTextColor=function(){return Ti(Vs)};f.__private__.setTextColor=f.setTextColor=function(A,B,ae,ce){return Vs=di({ch1:A,ch2:B,ch3:ae,ch4:ce,pdfColorType:"text",precision:3}),this};var ha=n.charSpace,gl=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(ha||0)};f.__private__.setCharSpace=f.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ha=A,this};var nu=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(A){var B=f.CapJoinStyles[A];if(B===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return nu=B,ie(B+" J"),this};var vl=0;f.__private__.setLineJoin=f.setLineJoin=function(A){var B=f.CapJoinStyles[A];if(B===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return vl=B,ie(B+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ie(C(P(A))+" M"),this},f.GState=gm,f.setGState=function(A){(A=typeof A=="string"?En[Ir[A]]:_o(null,A)).equals(Hi)||(ie("/"+A.id+" gs"),Hi=A)};var _o=function(A,B){if(!A||!Ir[A]){var ae=!1;for(var ce in En)if(En.hasOwnProperty(ce)&&En[ce].equals(B)){ae=!0;break}if(ae)B=En[ce];else{var ve="GS"+(Object.keys(En).length+1).toString(10);En[ve]=B,B.id=ve}return A&&(Ir[A]=B.id),Bt.publish("addGState",B),B}};f.addGState=function(A,B){return _o(A,B),this},f.saveGraphicsState=function(){return ie("q"),cs.push({key:Pt,size:ze,color:Vs}),this},f.restoreGraphicsState=function(){ie("Q");var A=cs.pop();return Pt=A.key,ze=A.size,Vs=A.color,Hi=null,this},f.setCurrentTransformationMatrix=function(A){return ie(A.toString()+" cm"),this},f.comment=function(A){return ie("#"+A),this};var da=function(A,B){var ae=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ae},set:function(ke){isNaN(ke)||(ae=parseFloat(ke))}});var ce=B||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ce},set:function(ke){isNaN(ke)||(ce=parseFloat(ke))}});var ve="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ve},set:function(ke){ve=ke.toString()}}),this},yl=function(A,B,ae,ce){da.call(this,A,B),this.type="rect";var ve=ae||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ve},set:function(Oe){isNaN(Oe)||(ve=parseFloat(Oe))}});var ke=ce||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ke},set:function(Oe){isNaN(Oe)||(ke=parseFloat(Oe))}}),this},fa=function(){this.page=wn,this.currentPage=z,this.pages=Se.slice(0),this.pagesContext=pt.slice(0),this.x=Vt,this.y=Ct,this.matrix=Nr,this.width=wo(z),this.height=Gr(z),this.outputDestination=Ve,this.id="",this.objectNumber=-1};fa.prototype.restore=function(){wn=this.page,z=this.currentPage,pt=this.pagesContext,Se=this.pages,Vt=this.x,Ct=this.y,Nr=this.matrix,wl(z,this.width),bl(z,this.height),Ve=this.outputDestination};var _l=function(A,B,ae,ce,ve){qi.push(new fa),wn=z=0,Se=[],Vt=A,Ct=B,Nr=ve,pi([ae,ce])},Sh=function(A){if(qr[A])qi.pop().restore();else{var B=new fa,ae="Xo"+(Object.keys(or).length+1).toString(10);B.id=ae,qr[A]=ae,or[ae]=B,Bt.publish("addFormObject",B),qi.pop().restore()}};for(var Bs in f.beginFormObject=function(A,B,ae,ce,ve){return _l(A,B,ae,ce,ve),this},f.endFormObject=function(A){return Sh(A),this},f.doFormObject=function(A,B){var ae=or[qr[A]];return ie("q"),ie(B.toString()+" cm"),ie("/"+ae.id+" Do"),ie("Q"),this},f.getFormObject=function(A){var B=or[qr[A]];return{x:B.x,y:B.y,width:B.width,height:B.height,matrix:B.matrix}},f.save=function(A,B){return A=A||"generated.pdf",(B=B||{}).returnPromise=B.returnPromise||!1,B.returnPromise===!1?(mu(ll(Os()),A),typeof mu.unload=="function"&&vt.setTimeout&&setTimeout(mu.unload,911),this):new Promise(function(ae,ce){try{var ve=mu(ll(Os()),A);typeof mu.unload=="function"&&vt.setTimeout&&setTimeout(mu.unload,911),ae(ve)}catch(ke){ce(ke.message)}})},ft.API)ft.API.hasOwnProperty(Bs)&&(Bs==="events"&&ft.API.events.length?function(A,B){var ae,ce,ve;for(ve=B.length-1;ve!==-1;ve--)ae=B[ve][0],ce=B[ve][1],A.subscribe.apply(A,[ae].concat(typeof ce=="function"?[ce]:ce))}(Bt,ft.API.events):f[Bs]=ft.API[Bs]);var wo=f.getPageWidth=function(A){return(pt[A=A||z].mediaBox.topRightX-pt[A].mediaBox.bottomLeftX)/$e},wl=f.setPageWidth=function(A,B){pt[A].mediaBox.topRightX=B*$e+pt[A].mediaBox.bottomLeftX},Gr=f.getPageHeight=function(A){return(pt[A=A||z].mediaBox.topRightY-pt[A].mediaBox.bottomLeftY)/$e},bl=f.setPageHeight=function(A,B){pt[A].mediaBox.topRightY=B*$e+pt[A].mediaBox.bottomLeftY};return f.internal={pdfEscape:Un,getStyle:wh,getFont:Xc,getFontSize:We,getCharSpace:gl,getTextColor:ml,getLineHeight:eu,getLineHeightFactor:ua,getLineWidth:fl,write:ct,getHorizontalCoordinate:Ki,getVerticalCoordinate:mr,getCoordinateString:xh,getVerticalCoordinateString:yo,collections:{},newObject:Gn,newAdditionalObject:il,newObjectDeferred:Bn,newObjectDeferredBegin:lr,getFilters:fi,putStream:Kn,events:Bt,scaleFactor:$e,pageSize:{getWidth:function(){return wo(z)},setWidth:function(A){wl(z,A)},getHeight:function(){return Gr(z)},setHeight:function(A){bl(z,A)}},encryptionOptions:u,encryption:An,getEncryptor:_h,output:cl,getNumberOfPages:nn,pages:Se,out:ie,f2:I,f3:k,getPageInfo:Kc,getPageInfoByObjId:yt,getCurrentPageInfo:vo,getPDFVersion:w,Point:da,Rectangle:yl,Matrix:tt,hasHotfix:go},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return wo(z)},set:function(A){wl(z,A)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return Gr(z)},set:function(A){bl(z,A)},enumerable:!0,configurable:!0}),vh.call(f,Ce),Pt="F1",aa(i,t),Bt.publish("initialized"),f}$h.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},$h.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},$h.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},$h.prototype.processOwnerPassword=function(n,e){return Ww(zw(e).substr(0,5),n)},$h.prototype.encryptor=function(n,e){var t=zw(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return Ww(t,r)}},gm.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||cn(n)!==cn(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},ft.API={events:[]},ft.version="2.5.2";var Wn=ft.API,px=1,uh=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},jh=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},kt=function(n){return n.toFixed(2)},Ol=function(n){return n.toFixed(5)};Wn.__acroform__={};var Wi=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},y3=function(n){return n*px},Ao=function(n){var e=new YI,t=st.internal.getHeight(n)||0,r=st.internal.getWidth(n)||0;return e.BBox=[0,0,Number(kt(r)),Number(kt(t))],e},cW=Wn.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<e},uW=Wn.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<e)},hW=Wn.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},er=Wn.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return hW(n,e-1)},tr=Wn.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return cW(n,e-1)},nr=Wn.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return uW(n,e-1)},dW=Wn.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],s=n[1],o=n[2],a=n[3],l={};return l.lowerLeft_X=t(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=t(i+o)||0,l.upperRight_Y=r(s)||0,[Number(kt(l.lowerLeft_X)),Number(kt(l.lowerLeft_Y)),Number(kt(l.upperRight_X)),Number(kt(l.upperRight_Y))]},fW=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=Hw(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+kt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Ao(n);return s.scope=n.scope,s.stream=e.join(`
`),s}},Hw=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(k){return k.split(`
`)}):i.map(function(k){return[k]});var s=t,o=st.internal.getHeight(n)||0;o=o<0?-o:o;var a=st.internal.getWidth(n)||0;a=a<0?-a:a;var l=function(k,P,L){if(k+1<i.length){var $=P+" "+i[k+1][0];return Jg($,n,L).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var c,u,h=Jg("3",n,s).height,d=n.multiline?o-s:(o-h)/2,f=d+=2,g=0,w=0,x=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Jg(e,n,s=12).width+", FieldWidth:"+a+`
`;break}for(var _="",b=0,E=0;E<i.length;E++)if(i.hasOwnProperty(E)){var R=!1;if(i[E].length!==1&&x!==i[E].length-1){if((h+2)*(b+2)+2>o)continue e;_+=i[E][x],R=!0,w=E,E--}else{_=(_+=i[E][x]+" ").substr(_.length-1)==" "?_.substr(0,_.length-1):_;var O=parseInt(E),V=l(O,_,s),C=E>=i.length-1;if(V&&!C){_+=" ",x=0;continue}if(V||C){if(C)w=O;else if(n.multiline&&(h+2)*(b+2)+2>o)continue e}else{if(!n.multiline||(h+2)*(b+2)+2>o)continue e;w=O}}for(var y="",S=g;S<=w;S++){var I=i[S];if(n.multiline){if(S===w){y+=I[x]+" ",x=(x+1)%I.length;continue}if(S===g){y+=I[I.length-1]+" ";continue}}y+=I[0]+" "}switch(y=y.substr(y.length-1)==" "?y.substr(0,y.length-1):y,u=Jg(y,n,s).width,n.textAlign){case"right":c=a-u-2;break;case"center":c=(a-u)/2;break;case"left":default:c=2}e+=kt(c)+" "+kt(f)+` Td
`,e+="("+uh(y)+`) Tj
`,e+=-kt(c)+` 0 Td
`,f=-(s+2),u=0,g=R?w:w+1,b++,_=""}break}return r.text=e,r.fontSize=s,r},Jg=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},pW={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},mW=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},gW=function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var r=t,i=n[t];e.internal.newObjectDeferredBegin(i.objId,!0),cn(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete n[r]}},vW=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(ao.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(pW)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");px=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new GI,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&mW(s,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=dW(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=st.createDefaultAppearanceStream(a),cn(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=fW(a);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(a.appearanceStreamContent){var h="";for(var d in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(d)){var f=a.appearanceStreamContent[d];if(h+="/"+d+" ",h+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var g=f[o];typeof g=="function"&&(g=g.call(i,a)),h+="/"+o+" "+g+" ",i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g)}}else typeof(g=f)=="function"&&(g=g.call(i,a)),h+="/"+o+" "+g,i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&gW(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},$I=Wn.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(o){return o};if(Array.isArray(n)){for(var i="[",s=0;s<n.length;s++)switch(s!==0&&(i+=" "),cn(n[s])){case"boolean":case"number":case"object":i+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+uh(r(n[s].toString()))+")"):i+=n[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},V2=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),n="("+uh(r(n))+")"},Oo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Oo.prototype.toString=function(){return this.objId+" 0 R"},Oo.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Oo.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:$I(i,this.objId,this.scope)}):i instanceof Oo?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var YI=function(){Oo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Wi(YI,Oo);var GI=function(){Oo.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+uh(t(n))+")"}},set:function(t){n=t}})};Wi(GI,Oo);var ao=function n(){Oo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute F supplied.');e=_}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!er(e,3)},set:function(_){_?this.F=tr(e,3):this.F=nr(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute Ff supplied.');t=_}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(_){r=_!==void 0?_:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(_){r[0]=_}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(_){r[1]=_}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(_){r[2]=_}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(_){r[3]=_}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(_){switch(_){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=_;break;default:throw new Error('Invalid value "'+_+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof J1)return;s="FieldObject"+n.FieldNum++}var _=function(b){return b};return this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),"("+uh(_(s))+")"},set:function(_){s=_.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(_){s=_}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(_){o=_}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(_){a=_}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(_){l=_}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/px:c},set:function(_){c=_}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(_){u=_}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof J1||this instanceof yc))return V2(h,this.objId,this.scope)},set:function(_){_=_.toString(),h=_}});var d=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof yr?d:V2(d,this.objId,this.scope)},set:function(_){_=_.toString(),d=this instanceof yr?_:_.substr(0,1)==="("?jh(_.substr(1,_.length-2)):jh(_)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof yr?jh(d.substr(1,d.length-1)):d},set:function(_){_=_.toString(),d=this instanceof yr?"/"+_:_}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(_){this.V=_}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof yr?f:V2(f,this.objId,this.scope)},set:function(_){_=_.toString(),f=this instanceof yr?_:_.substr(0,1)==="("?jh(_.substr(1,_.length-2)):jh(_)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof yr?jh(f.substr(1,f.length-1)):f},set:function(_){_=_.toString(),f=this instanceof yr?"/"+_:_}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(_){_=!!_,w=_}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(_){g=_}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,1)},set:function(_){_?this.Ff=tr(this.Ff,1):this.Ff=nr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,2)},set:function(_){_?this.Ff=tr(this.Ff,2):this.Ff=nr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,3)},set:function(_){_?this.Ff=tr(this.Ff,3):this.Ff=nr(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(_){if([0,1,2].indexOf(_)===-1)throw new Error('Invalid value "'+_+'" for attribute Q supplied.');x=_}}),Object.defineProperty(this,"textAlign",{get:function(){var _;switch(x){case 0:default:_="left";break;case 1:_="center";break;case 2:_="right"}return _},configurable:!0,enumerable:!0,set:function(_){switch(_){case"right":case 2:x=2;break;case"center":case 1:x=1;break;case"left":case 0:default:x=0}}})};Wi(ao,Oo);var Ru=function(){ao.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return $I(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,c=[];l=o.exec(s);)c.push(l[a]);return c}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,18)},set:function(t){t?this.Ff=tr(this.Ff,18):this.Ff=nr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=tr(this.Ff,19):this.Ff=nr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,20)},set:function(t){t?(this.Ff=tr(this.Ff,20),e.sort()):this.Ff=nr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,22)},set:function(t){t?this.Ff=tr(this.Ff,22):this.Ff=nr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,23)},set:function(t){t?this.Ff=tr(this.Ff,23):this.Ff=nr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,27)},set:function(t){t?this.Ff=tr(this.Ff,27):this.Ff=nr(this.Ff,27)}}),this.hasAppearanceStream=!1};Wi(Ru,ao);var Lu=function(){Ru.call(this),this.fontName="helvetica",this.combo=!1};Wi(Lu,Ru);var Mu=function(){Lu.call(this),this.combo=!0};Wi(Mu,Lu);var Tp=function(){Mu.call(this),this.edit=!0};Wi(Tp,Mu);var yr=function(){ao.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,15)},set:function(t){t?this.Ff=tr(this.Ff,15):this.Ff=nr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,16)},set:function(t){t?this.Ff=tr(this.Ff,16):this.Ff=nr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,17)},set:function(t){t?this.Ff=tr(this.Ff,17):this.Ff=nr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,26)},set:function(t){t?this.Ff=tr(this.Ff,26):this.Ff=nr(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+uh(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){cn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Wi(yr,ao);var Cp=function(){yr.call(this),this.pushButton=!0};Wi(Cp,yr);var Ou=function(){yr.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Wi(Ou,yr);var J1=function(){var n,e;ao.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+uh(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){cn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=st.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Wi(J1,ao),Ou.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Ou.prototype.createOption=function(n){var e=new J1;return e.Parent=this,e.optionName=n,this.Kids.push(e),yW.call(this.scope,e),e};var Np=function(){yr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=st.CheckBox.createAppearanceStream()};Wi(Np,yr);var yc=function(){ao.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,13)},set:function(e){e?this.Ff=tr(this.Ff,13):this.Ff=nr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,21)},set:function(e){e?this.Ff=tr(this.Ff,21):this.Ff=nr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,23)},set:function(e){e?this.Ff=tr(this.Ff,23):this.Ff=nr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,24)},set:function(e){e?this.Ff=tr(this.Ff,24):this.Ff=nr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,25)},set:function(e){e?this.Ff=tr(this.Ff,25):this.Ff=nr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,26)},set:function(e){e?this.Ff=tr(this.Ff,26):this.Ff=nr(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Wi(yc,ao);var Ip=function(){yc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,14)},set:function(n){n?this.Ff=tr(this.Ff,14):this.Ff=nr(this.Ff,14)}}),this.password=!0};Wi(Ip,yc);var st={CheckBox:{createAppearanceStream:function(){return{N:{On:st.CheckBox.YesNormal},D:{On:st.CheckBox.YesPushDown,Off:st.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Ao(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),s=Hw(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+kt(st.internal.getWidth(n))+" "+kt(st.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+kt(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Ao(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],s=st.internal.getHeight(n),o=st.internal.getWidth(n),a=Hw(n,n.caption);return i.push("1 g"),i.push("0 0 "+kt(o)+" "+kt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+kt(o-1)+" "+kt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+kt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=Ao(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+kt(st.internal.getWidth(n))+" "+kt(st.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:st.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=st.RadioButton.Circle.YesNormal,e.D[n]=st.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Ao(n);e.scope=n.scope;var t=[],r=st.internal.getWidth(n)<=st.internal.getHeight(n)?st.internal.getWidth(n)/4:st.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=st.internal.Bezier_C,s=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Ol(st.internal.getWidth(n)/2)+" "+Ol(st.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Ao(n);e.scope=n.scope;var t=[],r=st.internal.getWidth(n)<=st.internal.getHeight(n)?st.internal.getWidth(n)/4:st.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*st.internal.Bezier_C).toFixed(5)),o=Number((r*st.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Ol(st.internal.getWidth(n)/2)+" "+Ol(st.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Ol(st.internal.getWidth(n)/2)+" "+Ol(st.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Ao(n);e.scope=n.scope;var t=[],r=st.internal.getWidth(n)<=st.internal.getHeight(n)?st.internal.getWidth(n)/4:st.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*st.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Ol(st.internal.getWidth(n)/2)+" "+Ol(st.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:st.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=st.RadioButton.Cross.YesNormal,e.D[n]=st.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Ao(n);e.scope=n.scope;var t=[],r=st.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+kt(st.internal.getWidth(n)-2)+" "+kt(st.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(kt(r.x1.x)+" "+kt(r.x1.y)+" m"),t.push(kt(r.x2.x)+" "+kt(r.x2.y)+" l"),t.push(kt(r.x4.x)+" "+kt(r.x4.y)+" m"),t.push(kt(r.x3.x)+" "+kt(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Ao(n);e.scope=n.scope;var t=st.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+kt(st.internal.getWidth(n))+" "+kt(st.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+kt(st.internal.getWidth(n)-2)+" "+kt(st.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(kt(t.x1.x)+" "+kt(t.x1.y)+" m"),r.push(kt(t.x2.x)+" "+kt(t.x2.y)+" l"),r.push(kt(t.x4.x)+" "+kt(t.x4.y)+" m"),r.push(kt(t.x3.x)+" "+kt(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Ao(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+kt(st.internal.getWidth(n))+" "+kt(st.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};st.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=st.internal.getWidth(n),t=st.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},st.internal.getWidth=function(n){var e=0;return cn(n)==="object"&&(e=y3(n.Rect[2])),e},st.internal.getHeight=function(n){var e=0;return cn(n)==="object"&&(e=y3(n.Rect[3])),e};var yW=Wn.addField=function(n){if(vW(this,n),!(n instanceof ao))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Wn.AcroFormChoiceField=Ru,Wn.AcroFormListBox=Lu,Wn.AcroFormComboBox=Mu,Wn.AcroFormEditBox=Tp,Wn.AcroFormButton=yr,Wn.AcroFormPushButton=Cp,Wn.AcroFormRadioButton=Ou,Wn.AcroFormCheckBox=Np,Wn.AcroFormTextField=yc,Wn.AcroFormPasswordField=Ip,Wn.AcroFormAppearance=st,Wn.AcroForm={ChoiceField:Ru,ListBox:Lu,ComboBox:Mu,EditBox:Tp,Button:yr,PushButton:Cp,RadioButton:Ou,CheckBox:Np,TextField:yc,PasswordField:Ip,Appearance:st},ft.AcroForm={ChoiceField:Ru,ListBox:Lu,ComboBox:Mu,EditBox:Tp,Button:yr,PushButton:Cp,RadioButton:Ou,CheckBox:Np,TextField:yc,PasswordField:Ip,Appearance:st};var _W=ft.AcroForm;function KI(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(k,P){var L,$,te,K,q,W=e;if((P=P||e)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if(V(k))for(q in t)for(te=t[q],L=0;L<te.length;L+=1){for(K=!0,$=0;$<te[L].length;$+=1)if(te[L][$]!==void 0&&te[L][$]!==k[$]){K=!1;break}if(K===!0){W=q;break}}else for(q in t)for(te=t[q],L=0;L<te.length;L+=1){for(K=!0,$=0;$<te[L].length;$+=1)if(te[L][$]!==void 0&&te[L][$]!==k.charCodeAt($)){K=!1;break}if(K===!0){W=q;break}}return W===e&&P!==e&&(W=P),W},i=function k(P){for(var L=this.internal.write,$=this.internal.putStream,te=(0,this.internal.getFilters)();te.indexOf("FlateEncode")!==-1;)te.splice(te.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var K=[];if(K.push({key:"Type",value:"/XObject"}),K.push({key:"Subtype",value:"/Image"}),K.push({key:"Width",value:P.width}),K.push({key:"Height",value:P.height}),P.colorSpace===x.INDEXED?K.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(K.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===x.DEVICE_CMYK&&K.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),K.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&K.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)){for(var q="",W=0,H=P.transparency.length;W<H;W++)q+=P.transparency[W]+" "+P.transparency[W]+" ";K.push({key:"Mask",value:"["+q+"]"})}P.sMask!==void 0&&K.push({key:"SMask",value:P.objectId+1+" 0 R"});var oe=P.filter!==void 0?["/"+P.filter]:void 0;if($({data:P.data,additionalKeyValues:K,alreadyAppliedFilters:oe,objectId:P.objectId}),L("endobj"),"sMask"in P&&P.sMask!==void 0){var le="/Predictor "+P.predictor+" /Colors 1 /BitsPerComponent "+P.bitsPerComponent+" /Columns "+P.width,j={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:P.bitsPerComponent,decodeParameters:le,data:P.sMask};"filter"in P&&(j.filter=P.filter),k.call(this,j)}if(P.colorSpace===x.INDEXED){var z=this.internal.newObject();$({data:y(new Uint8Array(P.palette)),objectId:z}),L("endobj")}},s=function(){var k=this.internal.collections.addImage_images;for(var P in k)i.call(this,k[P])},o=function(){var k,P=this.internal.collections.addImage_images,L=this.internal.write;for(var $ in P)L("/I"+(k=P[$]).index,k.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var k=this.internal.collections.addImage_images;return a.call(this),k},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(k){return typeof n["process"+k.toUpperCase()]=="function"},h=function(k){return cn(k)==="object"&&k.nodeType===1},d=function(k,P){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var L=""+k.getAttribute("src");if(L.indexOf("data:image/")===0)return Pp(unescape(L).split("base64,").pop());var $=n.loadFile(L,!0);if($!==void 0)return $}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var te;switch(P){case"PNG":te="image/png";break;case"WEBP":te="image/webp";break;case"JPEG":case"JPG":default:te="image/jpeg"}return Pp(k.toDataURL(te,1).split("base64,").pop())}},f=function(k){var P=this.internal.collections.addImage_images;if(P){for(var L in P)if(k===P[L].alias)return P[L]}},g=function(k,P,L){return k||P||(k=-96,P=-96),k<0&&(k=-1*L.width*72/k/this.internal.scaleFactor),P<0&&(P=-1*L.height*72/P/this.internal.scaleFactor),k===0&&(k=P*L.width/L.height),P===0&&(P=k*L.height/L.width),[k,P]},w=function(k,P,L,$,te,K){var q=g.call(this,L,$,te),W=this.internal.getCoordinateString,H=this.internal.getVerticalCoordinateString,oe=l.call(this);if(L=q[0],$=q[1],oe[te.index]=te,K){K*=Math.PI/180;var le=Math.cos(K),j=Math.sin(K),z=function(ne){return ne.toFixed(4)},Z=[z(le),z(j),z(-1*j),z(le),0,0,"cm"]}this.internal.write("q"),K?(this.internal.write([1,"0","0",1,W(k),H(P+$),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([W(L),"0","0",W($),"0","0","cm"].join(" "))):this.internal.write([W(L),"0","0",W($),W(k),H(P+$),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+te.index+" Do"),this.internal.write("Q")},x=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=n.__addimage__.sHashCode=function(k){var P,L,$=0;if(typeof k=="string")for(L=k.length,P=0;P<L;P++)$=($<<5)-$+k.charCodeAt(P),$|=0;else if(V(k))for(L=k.byteLength/2,P=0;P<L;P++)$=($<<5)-$+k[P],$|=0;return $},E=n.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var P=!0;return k.length===0&&(P=!1),k.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(P=!1),P},R=n.__addimage__.extractImageFromDataUrl=function(k){var P=(k=k||"").split("base64,"),L=null;if(P.length===2){var $=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(P[0]);Array.isArray($)&&(L={mimeType:$[1],charset:$[2],data:P[1]})}return L},O=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(k){return O()&&k instanceof ArrayBuffer};var V=n.__addimage__.isArrayBufferView=function(k){return O()&&typeof Uint32Array<"u"&&(k instanceof Int8Array||k instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array)},C=n.__addimage__.binaryStringToUint8Array=function(k){for(var P=k.length,L=new Uint8Array(P),$=0;$<P;$++)L[$]=k.charCodeAt($);return L},y=n.__addimage__.arrayBufferToBinaryString=function(k){for(var P="",L=V(k)?k:new Uint8Array(k),$=0;$<L.length;$+=8192)P+=String.fromCharCode.apply(null,L.subarray($,$+8192));return P};n.addImage=function(){var k,P,L,$,te,K,q,W,H;if(typeof arguments[1]=="number"?(P=e,L=arguments[1],$=arguments[2],te=arguments[3],K=arguments[4],q=arguments[5],W=arguments[6],H=arguments[7]):(P=arguments[1],L=arguments[2],$=arguments[3],te=arguments[4],K=arguments[5],q=arguments[6],W=arguments[7],H=arguments[8]),cn(k=arguments[0])==="object"&&!h(k)&&"imageData"in k){var oe=k;k=oe.imageData,P=oe.format||P||e,L=oe.x||L||0,$=oe.y||$||0,te=oe.w||oe.width||te,K=oe.h||oe.height||K,q=oe.alias||q,W=oe.compression||W,H=oe.rotation||oe.angle||H}var le=this.internal.getFilters();if(W===void 0&&le.indexOf("FlateEncode")!==-1&&(W="SLOW"),isNaN(L)||isNaN($))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var j=S.call(this,k,P,q,W);return w.call(this,L,$,te,K,j,H),this};var S=function(k,P,L,$){var te,K,q;if(typeof k=="string"&&r(k)===e){k=unescape(k);var W=I(k,!1);(W!==""||(W=n.loadFile(k,!0))!==void 0)&&(k=W)}if(h(k)&&(k=d(k,P)),P=r(k,P),!u(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((q=L)==null||q.length===0)&&(L=function(H){return typeof H=="string"||V(H)?b(H):V(H.data)?b(H.data):null}(k)),(te=f.call(this,L))||(O()&&(k instanceof Uint8Array||P==="RGBA"||(K=k,k=C(k))),te=this["process"+P.toUpperCase()](k,c.call(this),L,function(H){return H&&typeof H=="string"&&(H=H.toUpperCase()),H in n.image_compression?H:_.NONE}($),K)),!te)throw new Error("An unknown error occurred whilst processing the image.");return te},I=n.__addimage__.convertBase64ToBinaryString=function(k,P){var L;P=typeof P!="boolean"||P;var $,te="";if(typeof k=="string"){$=(L=R(k))!==null?L.data:k;try{te=Pp($)}catch(K){if(P)throw E($)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+K.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return te};n.getImageProperties=function(k){var P,L,$="";if(h(k)&&(k=d(k)),typeof k=="string"&&r(k)===e&&(($=I(k,!1))===""&&($=n.loadFile(k)||""),k=$),L=r(k),!u(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(!O()||k instanceof Uint8Array||(k=C(k)),!(P=this["process"+L.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=L,P}})(ft.API),function(n){var e=function(t){if(t!==void 0&&t!="")return!0};ft.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(t.objId),c=t.pageContext.annotations,u=!1,h=0;h<c.length&&!u;h++)switch((r=c[h]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var d=0;d<c.length;d++){r=c[d];var f=this.internal.pdfEscape,g=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),_=this.internal.getEncryptor(w.objId),b=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+f(_(r.contents))+")",s+=" /Popup "+x.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+f(_(b))+") >>",w.content=s;var E=w.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+E,r.open&&(s+=" /Open true"),s+=" >>",x.content=s,this.internal.write(w.objId,"0 R",x.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var R=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(g(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+R+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var O=this.annotations._nameMap[r.options.name];r.options.pageNumber=O.page,r.options.top=O.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(g(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var V=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+V+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(t),y:c(r),w:l(t+i),h:c(r+s)},options:o,type:"link"})},n.textWithLink=function(t,r,i,s){var o,a,l=this.getTextWidth(t),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var u=this.splitTextToSize(t,a).length;o=Math.ceil(c*u)}else a=l,o=c;return this.text(t,r,i,s),i+=.2*c,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-c,a,o,s),l},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}(ft.API),function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(w){return e[w.charCodeAt(0)]!==void 0},o=n.__arabicParser__.isArabicLetter=function(w){return typeof w=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},a=n.__arabicParser__.isArabicEndLetter=function(w){return o(w)&&s(w)&&e[w.charCodeAt(0)].length<=2},l=n.__arabicParser__.isArabicAlfLetter=function(w){return o(w)&&i.indexOf(w.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return o(w)&&s(w)&&e[w.charCodeAt(0)].length>=1};var c=n.__arabicParser__.arabicLetterHasFinalForm=function(w){return o(w)&&s(w)&&e[w.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(w){return o(w)&&s(w)&&e[w.charCodeAt(0)].length>=3};var u=n.__arabicParser__.arabicLetterHasMedialForm=function(w){return o(w)&&s(w)&&e[w.charCodeAt(0)].length==4},h=n.__arabicParser__.resolveLigatures=function(w){var x=0,_=t,b="",E=0;for(x=0;x<w.length;x+=1)_[w.charCodeAt(x)]!==void 0?(E++,typeof(_=_[w.charCodeAt(x)])=="number"&&(b+=String.fromCharCode(_),_=t,E=0),x===w.length-1&&(_=t,b+=w.charAt(x-(E-1)),x-=E-1,E=0)):(_=t,b+=w.charAt(x-E),x-=E,E=0);return b};n.__arabicParser__.isArabicDiacritic=function(w){return w!==void 0&&r[w.charCodeAt(0)]!==void 0};var d=n.__arabicParser__.getCorrectForm=function(w,x,_){return o(w)?s(w)===!1?-1:!c(w)||!o(x)&&!o(_)||!o(_)&&a(x)||a(w)&&!o(x)||a(w)&&l(x)||a(w)&&a(x)?0:u(w)&&o(x)&&!a(x)&&o(_)&&c(_)?3:a(w)||!o(_)?1:2:-1},f=function(w){var x=0,_=0,b=0,E="",R="",O="",V=(w=w||"").split("\\s+"),C=[];for(x=0;x<V.length;x+=1){for(C.push(""),_=0;_<V[x].length;_+=1)E=V[x][_],R=V[x][_-1],O=V[x][_+1],o(E)?(b=d(E,R,O),C[x]+=b!==-1?String.fromCharCode(e[E.charCodeAt(0)][b]):E):C[x]+=E;C[x]=h(C[x])}return C.join(" ")},g=n.__arabicParser__.processArabic=n.processArabic=function(){var w,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,_=[];if(Array.isArray(x)){var b=0;for(_=[],b=0;b<x.length;b+=1)Array.isArray(x[b])?_.push([f(x[b][0]),x[b][1],x[b][2]]):_.push([f(x[b])]);w=_}else w=f(x);return typeof arguments[0]=="string"?w:(arguments[0].text=w,arguments[0])};n.events.push(["preProcessText",g])}(ft.API),ft.API.autoPrint=function(n){var e;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(a){t=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ft.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(w){l=w}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(w){c=w}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(w){u=w}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(w){h=w}});var d=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return d},set:function(w){d=w}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(w){f=w}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(w){g=w}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},n.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),h=c.font||this.getFont(),d=c.scaleFactor||this.internal.scaleFactor,f=0,g=0,w=0,x=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var _=c.maxWidth;_>0?typeof l=="string"?l=this.splitTextToSize(l,_):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(E,R){return E.concat(x.splitTextToSize(R,_))},[])):l=Array.isArray(l)?l:[l];for(var b=0;b<l.length;b++)f<(w=this.getStringUnitWidth(l[b],{font:h})*u)&&(f=w);return f!==0&&(g=l.length),{w:f/=d,h:Math.max((g*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/d,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=n.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,d=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,f&&d&&(this.printHeaderRow(l.lineNumber,!0),l.y+=d[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,t===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};n.table=function(l,c,u,h,d){if(r.call(this),!u)throw new Error("No data for PDF table.");var f,g,w,x,_=[],b=[],E=[],R={},O={},V=[],C=[],y=(d=d||{}).autoSize||!1,S=d.printHeaders!==!1,I=d.css&&d.css["font-size"]!==void 0?16*d.css["font-size"]:d.fontSize||12,k=d.margins||Object.assign({width:this.getPageWidth()},e),P=typeof d.padding=="number"?d.padding:3,L=d.headerBackgroundColor||"#c8c8c8",$=d.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=S,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=I,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=L,this.internal.__cell__.headerTextColor=$,this.setFontSize(I),h==null)b=_=Object.keys(u[0]),E=_.map(function(){return"left"});else if(Array.isArray(h)&&cn(h[0])==="object")for(_=h.map(function(oe){return oe.name}),b=h.map(function(oe){return oe.prompt||oe.name||""}),E=h.map(function(oe){return oe.align||"left"}),f=0;f<h.length;f+=1)O[h[f].name]=h[f].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(b=_=h,E=_.map(function(){return"left"}));if(y||Array.isArray(h)&&typeof h[0]=="string")for(f=0;f<_.length;f+=1){for(R[x=_[f]]=u.map(function(oe){return oe[x]}),this.setFont(void 0,"bold"),V.push(this.getTextDimensions(b[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=R[x],this.setFont(void 0,"normal"),w=0;w<g.length;w+=1)V.push(this.getTextDimensions(g[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);O[x]=Math.max.apply(null,V)+P+P,V=[]}if(S){var te={};for(f=0;f<_.length;f+=1)te[_[f]]={},te[_[f]].text=b[f],te[_[f]].align=E[f];var K=a.call(this,te,O);C=_.map(function(oe){return new s(l,c,O[oe],K,te[oe].text,void 0,te[oe].align)}),this.setTableHeaderRow(C),this.printHeaderRow(1,!1)}var q=h.reduce(function(oe,le){return oe[le.name]=le.align,oe},{});for(f=0;f<u.length;f+=1){"rowStart"in d&&d.rowStart instanceof Function&&d.rowStart({row:f,data:u[f]},this);var W=a.call(this,u[f],O);for(w=0;w<_.length;w+=1){var H=u[f][_[w]];"cellStart"in d&&d.cellStart instanceof Function&&d.cellStart({row:f,col:w,data:H},this),o.call(this,new s(l,c,O[_[w]],W,H,f+2,q[_[w]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var u=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,d=this.internal.scaleFactor;return Object.keys(l).map(function(f){var g=l[f];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,c[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*h/d+u+u},this).reduce(function(f,g){return Math.max(f,g)},0)};n.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},n.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var d=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,d.push(u)),u.lineNumber=l;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(g)}d.length>0&&this.setTableHeaderRow(d),this.setFont(void 0,"normal"),t=!1}}(ft.API);var QI={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},XI=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],qw=KI(XI),JI=[100,200,300,400,500,600,700,800,900],wW=KI(JI);function $w(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=function(s){return QI[s=s||"normal"]?s:"normal"}(n.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(n.weight),i=function(s){return typeof qw[s=s||"normal"]=="number"?s:"normal"}(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function _3(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var bW={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},w3={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function b3(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function xW(n,e,t){for(var r=(t=t||{}).defaultFontFamily||"times",i=Object.assign({},bW,t.genericFontFamilies||{}),s=null,o=null,a=0;a<e.length;++a)if(i[(s=$w(e[a])).family]&&(s.family=i[s.family]),n.hasOwnProperty(s.family)){o=n[s.family];break}if(!(o=o||n[r]))throw new Error("Could not find a font-family for the rule '"+b3(s)+"' and default family '"+r+"'.");if(o=function(l,c){if(c[l])return c[l];var u=qw[l],h=u<=qw.normal?-1:1,d=_3(c,XI,u,h);if(!d)throw new Error("Could not find a matching font-stretch value for "+l);return d}(s.stretch,o),o=function(l,c){if(c[l])return c[l];for(var u=QI[l],h=0;h<u.length;++h)if(c[u[h]])return c[u[h]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=wW[l],h=_3(c,JI,u,l<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+l);return h}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+b3(s)+"'.");return o}function x3(n){return n.trimLeft()}function SW(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function EW(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var Zg,S3,E3,B2=["times"];(function(n){var e,t,r,i,s,o,a,l,c,u=function(j){return j=j||{},this.isStrokeTransparent=j.isStrokeTransparent||!1,this.strokeOpacity=j.strokeOpacity||1,this.strokeStyle=j.strokeStyle||"#000000",this.fillStyle=j.fillStyle||"#000000",this.isFillTransparent=j.isFillTransparent||!1,this.fillOpacity=j.fillOpacity||1,this.font=j.font||"10px sans-serif",this.textBaseline=j.textBaseline||"alphabetic",this.textAlign=j.textAlign||"left",this.lineWidth=j.lineWidth||1,this.lineJoin=j.lineJoin||"miter",this.lineCap=j.lineCap||"butt",this.path=j.path||[],this.transform=j.transform!==void 0?j.transform.clone():new l,this.globalCompositeOperation=j.globalCompositeOperation||"normal",this.globalAlpha=j.globalAlpha||1,this.clip_path=j.clip_path||[],this.currentPoint=j.currentPoint||new o,this.miterLimit=j.miterLimit||10,this.lastPoint=j.lastPoint||new o,this.lineDashOffset=j.lineDashOffset||0,this.lineDash=j.lineDash||[],this.margin=j.margin||[0,0,0,0],this.prevPageLastElemOffset=j.prevPageLastElemOffset||0,this.ignoreClearRect=typeof j.ignoreClearRect!="boolean"||j.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var h=function(j){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=j;Object.defineProperty(this,"pdf",{get:function(){return z}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(xe){Z=!!xe}});var ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ne},set:function(xe){ne=!!xe}});var se=0;Object.defineProperty(this,"posX",{get:function(){return se},set:function(xe){isNaN(xe)||(se=xe)}});var fe=0;Object.defineProperty(this,"posY",{get:function(){return fe},set:function(xe){isNaN(xe)||(fe=xe)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(xe){var ie;typeof xe=="number"?ie=[xe,xe,xe,xe]:((ie=new Array(4))[0]=xe[0],ie[1]=xe.length>=2?xe[1]:ie[0],ie[2]=xe.length>=3?xe[2]:ie[0],ie[3]=xe.length>=4?xe[3]:ie[1]),c.margin=ie}});var de=!1;Object.defineProperty(this,"autoPaging",{get:function(){return de},set:function(xe){de=xe}});var ge=0;Object.defineProperty(this,"lastBreak",{get:function(){return ge},set:function(xe){ge=xe}});var Te=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Te},set:function(xe){Te=xe}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(xe){xe instanceof u&&(c=xe)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(xe){c.path=xe}});var Se=[];Object.defineProperty(this,"ctxStack",{get:function(){return Se},set:function(xe){Se=xe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(xe){var ie;ie=d(xe),this.ctx.fillStyle=ie.style,this.ctx.isFillTransparent=ie.a===0,this.ctx.fillOpacity=ie.a,this.pdf.setFillColor(ie.r,ie.g,ie.b,{a:ie.a}),this.pdf.setTextColor(ie.r,ie.g,ie.b,{a:ie.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(xe){var ie=d(xe);this.ctx.strokeStyle=ie.style,this.ctx.isStrokeTransparent=ie.a===0,this.ctx.strokeOpacity=ie.a,ie.a===0?this.pdf.setDrawColor(255,255,255):(ie.a,this.pdf.setDrawColor(ie.r,ie.g,ie.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(xe){["butt","round","square"].indexOf(xe)!==-1&&(this.ctx.lineCap=xe,this.pdf.setLineCap(xe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(xe){isNaN(xe)||(this.ctx.lineWidth=xe,this.pdf.setLineWidth(xe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(xe){["bevel","round","miter"].indexOf(xe)!==-1&&(this.ctx.lineJoin=xe,this.pdf.setLineJoin(xe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(xe){isNaN(xe)||(this.ctx.miterLimit=xe,this.pdf.setMiterLimit(xe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(xe){this.ctx.textBaseline=xe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(xe){["right","end","center","left","start"].indexOf(xe)!==-1&&(this.ctx.textAlign=xe)}});var Me=null;function Ve(xe,ie){if(Me===null){var ct=function(Fe){var Ce=[];return Object.keys(Fe).forEach(function(ze){Fe[ze].forEach(function(He){var We=null;switch(He){case"bold":We={family:ze,weight:"bold"};break;case"italic":We={family:ze,style:"italic"};break;case"bolditalic":We={family:ze,weight:"bold",style:"italic"};break;case"":case"normal":We={family:ze}}We!==null&&(We.ref={name:ze,style:He},Ce.push(We))})}),Ce}(xe.getFontList());Me=function(Fe){for(var Ce={},ze=0;ze<Fe.length;++ze){var He=$w(Fe[ze]),We=He.family,rt=He.stretch,it=He.style,ut=He.weight;Ce[We]=Ce[We]||{},Ce[We][rt]=Ce[We][rt]||{},Ce[We][rt][it]=Ce[We][rt][it]||{},Ce[We][rt][it][ut]=He}return Ce}(ct.concat(ie))}return Me}var qe=null;Object.defineProperty(this,"fontFaces",{get:function(){return qe},set:function(xe){Me=null,qe=xe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(xe){var ie;if(this.ctx.font=xe,(ie=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(xe))!==null){var ct=ie[1],Fe=(ie[2],ie[3]),Ce=ie[4],ze=(ie[5],ie[6]),He=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ce)[2];Ce=Math.floor(He==="px"?parseFloat(Ce)*this.pdf.internal.scaleFactor:He==="em"?parseFloat(Ce)*this.pdf.getFontSize():parseFloat(Ce)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ce);var We=function(dt){var Pt,$e,Vt=[],Ct=dt.trim();if(Ct==="")return B2;if(Ct in w3)return[w3[Ct]];for(;Ct!=="";){switch($e=null,Pt=(Ct=x3(Ct)).charAt(0)){case'"':case"'":$e=SW(Ct.substring(1),Pt);break;default:$e=EW(Ct)}if($e===null||(Vt.push($e[0]),(Ct=x3($e[1]))!==""&&Ct.charAt(0)!==","))return B2;Ct=Ct.replace(/^,/,"")}return Vt}(ze);if(this.fontFaces){var rt=xW(Ve(this.pdf,this.fontFaces),We.map(function(dt){return{family:dt,stretch:"normal",weight:Fe,style:ct}}));this.pdf.setFont(rt.ref.name,rt.ref.style)}else{var it="";(Fe==="bold"||parseInt(Fe,10)>=700||ct==="bold")&&(it="bold"),ct==="italic"&&(it+="italic"),it.length===0&&(it="normal");for(var ut="",Xe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ot=0;ot<We.length;ot++){if(this.pdf.internal.getFont(We[ot],it,{noFallback:!0,disableWarning:!0})!==void 0){ut=We[ot];break}if(it==="bolditalic"&&this.pdf.internal.getFont(We[ot],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ut=We[ot],it="bold";else if(this.pdf.internal.getFont(We[ot],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ut=We[ot],it="normal";break}}if(ut===""){for(var At=0;At<We.length;At++)if(Xe[We[At]]){ut=Xe[We[At]];break}}ut=ut===""?"Times":ut,this.pdf.setFont(ut,it)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(xe){this.ctx.globalCompositeOperation=xe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(xe){this.ctx.globalAlpha=xe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(xe){this.ctx.lineDashOffset=xe,le.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(xe){this.ctx.lineDash=xe,le.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(xe){this.ctx.ignoreClearRect=!!xe}})};h.prototype.setLineDash=function(j){this.lineDash=j},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){R.call(this,"fill",!1)},h.prototype.stroke=function(){R.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(j,z){if(isNaN(j)||isNaN(z))throw gn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new o(j,z));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(j,z)},h.prototype.closePath=function(){var j=new o(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&cn(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){j=new o(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(j.x,j.y)},h.prototype.lineTo=function(j,z){if(isNaN(j)||isNaN(z))throw gn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new o(j,z));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(Z.x,Z.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),R.call(this,null,!0)},h.prototype.quadraticCurveTo=function(j,z,Z,ne){if(isNaN(Z)||isNaN(ne)||isNaN(j)||isNaN(z))throw gn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var se=this.ctx.transform.applyToPoint(new o(Z,ne)),fe=this.ctx.transform.applyToPoint(new o(j,z));this.path.push({type:"qct",x1:fe.x,y1:fe.y,x:se.x,y:se.y}),this.ctx.lastPoint=new o(se.x,se.y)},h.prototype.bezierCurveTo=function(j,z,Z,ne,se,fe){if(isNaN(se)||isNaN(fe)||isNaN(j)||isNaN(z)||isNaN(Z)||isNaN(ne))throw gn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var de=this.ctx.transform.applyToPoint(new o(se,fe)),ge=this.ctx.transform.applyToPoint(new o(j,z)),Te=this.ctx.transform.applyToPoint(new o(Z,ne));this.path.push({type:"bct",x1:ge.x,y1:ge.y,x2:Te.x,y2:Te.y,x:de.x,y:de.y}),this.ctx.lastPoint=new o(de.x,de.y)},h.prototype.arc=function(j,z,Z,ne,se,fe){if(isNaN(j)||isNaN(z)||isNaN(Z)||isNaN(ne)||isNaN(se))throw gn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(fe=!!fe,!this.ctx.transform.isIdentity){var de=this.ctx.transform.applyToPoint(new o(j,z));j=de.x,z=de.y;var ge=this.ctx.transform.applyToPoint(new o(0,Z)),Te=this.ctx.transform.applyToPoint(new o(0,0));Z=Math.sqrt(Math.pow(ge.x-Te.x,2)+Math.pow(ge.y-Te.y,2))}Math.abs(se-ne)>=2*Math.PI&&(ne=0,se=2*Math.PI),this.path.push({type:"arc",x:j,y:z,radius:Z,startAngle:ne,endAngle:se,counterclockwise:fe})},h.prototype.arcTo=function(j,z,Z,ne,se){throw new Error("arcTo not implemented.")},h.prototype.rect=function(j,z,Z,ne){if(isNaN(j)||isNaN(z)||isNaN(Z)||isNaN(ne))throw gn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(j,z),this.lineTo(j+Z,z),this.lineTo(j+Z,z+ne),this.lineTo(j,z+ne),this.lineTo(j,z),this.lineTo(j+Z,z),this.lineTo(j,z)},h.prototype.fillRect=function(j,z,Z,ne){if(isNaN(j)||isNaN(z)||isNaN(Z)||isNaN(ne))throw gn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var se={};this.lineCap!=="butt"&&(se.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(se.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(j,z,Z,ne),this.fill(),se.hasOwnProperty("lineCap")&&(this.lineCap=se.lineCap),se.hasOwnProperty("lineJoin")&&(this.lineJoin=se.lineJoin)}},h.prototype.strokeRect=function(j,z,Z,ne){if(isNaN(j)||isNaN(z)||isNaN(Z)||isNaN(ne))throw gn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(j,z,Z,ne),this.stroke())},h.prototype.clearRect=function(j,z,Z,ne){if(isNaN(j)||isNaN(z)||isNaN(Z)||isNaN(ne))throw gn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(j,z,Z,ne))},h.prototype.save=function(j){j=typeof j!="boolean"||j;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),j){this.ctx.fontSize=this.pdf.internal.getFontSize();var ne=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ne}},h.prototype.restore=function(j){j=typeof j!="boolean"||j;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(z),j&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var d=function(j){var z,Z,ne,se;if(j.isCanvasGradient===!0&&(j=j.getColor()),!j)return{r:0,g:0,b:0,a:0,style:j};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(j))z=0,Z=0,ne=0,se=0;else{var fe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(j);if(fe!==null)z=parseInt(fe[1]),Z=parseInt(fe[2]),ne=parseInt(fe[3]),se=1;else if((fe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(j))!==null)z=parseInt(fe[1]),Z=parseInt(fe[2]),ne=parseInt(fe[3]),se=parseFloat(fe[4]);else{if(se=1,typeof j=="string"&&j.charAt(0)!=="#"){var de=new WI(j);j=de.ok?de.toHex():"#000000"}j.length===4?(z=j.substring(1,2),z+=z,Z=j.substring(2,3),Z+=Z,ne=j.substring(3,4),ne+=ne):(z=j.substring(1,3),Z=j.substring(3,5),ne=j.substring(5,7)),z=parseInt(z,16),Z=parseInt(Z,16),ne=parseInt(ne,16)}}return{r:z,g:Z,b:ne,a:se,style:j}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(j,z,Z,ne){if(isNaN(z)||isNaN(Z)||typeof j!="string")throw gn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ne=isNaN(ne)?void 0:ne,!f.call(this)){var se=W(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;P.call(this,{text:j,x:z,y:Z,scale:fe,angle:se,align:this.textAlign,maxWidth:ne})}},h.prototype.strokeText=function(j,z,Z,ne){if(isNaN(z)||isNaN(Z)||typeof j!="string")throw gn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){ne=isNaN(ne)?void 0:ne;var se=W(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;P.call(this,{text:j,x:z,y:Z,scale:fe,renderingMode:"stroke",angle:se,align:this.textAlign,maxWidth:ne})}},h.prototype.measureText=function(j){if(typeof j!="string")throw gn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,Z=this.pdf.internal.scaleFactor,ne=z.internal.getFontSize(),se=z.getStringUnitWidth(j)*ne/z.internal.scaleFactor,fe=function(de){var ge=(de=de||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ge}}),this};return new fe({width:se*=Math.round(96*Z/72*1e4)/1e4})},h.prototype.scale=function(j,z){if(isNaN(j)||isNaN(z))throw gn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new l(j,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},h.prototype.rotate=function(j){if(isNaN(j))throw gn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new l(Math.cos(j),Math.sin(j),-Math.sin(j),Math.cos(j),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},h.prototype.translate=function(j,z){if(isNaN(j)||isNaN(z))throw gn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new l(1,0,0,1,j,z);this.ctx.transform=this.ctx.transform.multiply(Z)},h.prototype.transform=function(j,z,Z,ne,se,fe){if(isNaN(j)||isNaN(z)||isNaN(Z)||isNaN(ne)||isNaN(se)||isNaN(fe))throw gn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var de=new l(j,z,Z,ne,se,fe);this.ctx.transform=this.ctx.transform.multiply(de)},h.prototype.setTransform=function(j,z,Z,ne,se,fe){j=isNaN(j)?1:j,z=isNaN(z)?0:z,Z=isNaN(Z)?0:Z,ne=isNaN(ne)?1:ne,se=isNaN(se)?0:se,fe=isNaN(fe)?0:fe,this.ctx.transform=new l(j,z,Z,ne,se,fe)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(j,z,Z,ne,se,fe,de,ge,Te){var Se=this.pdf.getImageProperties(j),Me=1,Ve=1,qe=1,xe=1;ne!==void 0&&ge!==void 0&&(qe=ge/ne,xe=Te/se,Me=Se.width/ne*ge/ne,Ve=Se.height/se*Te/se),fe===void 0&&(fe=z,de=Z,z=0,Z=0),ne!==void 0&&ge===void 0&&(ge=ne,Te=se),ne===void 0&&ge===void 0&&(ge=Se.width,Te=Se.height);for(var ie,ct=this.ctx.transform.decompose(),Fe=W(ct.rotate.shx),Ce=new l,ze=(Ce=(Ce=(Ce=Ce.multiply(ct.translate)).multiply(ct.skew)).multiply(ct.scale)).applyToRectangle(new a(fe-z*qe,de-Z*xe,ne*Me,se*Ve)),He=x.call(this,ze),We=[],rt=0;rt<He.length;rt+=1)We.indexOf(He[rt])===-1&&We.push(He[rt]);if(E(We),this.autoPaging)for(var it=We[0],ut=We[We.length-1],Xe=it;Xe<ut+1;Xe++){this.pdf.setPage(Xe);var ot=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],At=Xe===1?this.posY+this.margin[0]:this.margin[0],dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],$e=Xe===1?0:dt+(Xe-2)*Pt;if(this.ctx.clip_path.length!==0){var Vt=this.path;ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(ie,this.posX+this.margin[3],-$e+At+this.ctx.prevPageLastElemOffset),O.call(this,"fill",!0),this.path=Vt}var Ct=JSON.parse(JSON.stringify(ze));Ct=b([Ct],this.posX+this.margin[3],-$e+At+this.ctx.prevPageLastElemOffset)[0];var Nr=(Xe>it||Xe<ut)&&w.call(this);Nr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ot,Pt,null).clip().discardPath()),this.pdf.addImage(j,"JPEG",Ct.x,Ct.y,Ct.w,Ct.h,null,null,Fe),Nr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(j,"JPEG",ze.x,ze.y,ze.w,ze.h,null,null,Fe)};var x=function(j,z,Z){var ne=[];z=z||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var se=this.posY+this.ctx.prevPageLastElemOffset;switch(j.type){default:case"mt":case"lt":ne.push(Math.floor((j.y+se)/Z)+1);break;case"arc":ne.push(Math.floor((j.y+se-j.radius)/Z)+1),ne.push(Math.floor((j.y+se+j.radius)/Z)+1);break;case"qct":var fe=H(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x,j.y);ne.push(Math.floor((fe.y+se)/Z)+1),ne.push(Math.floor((fe.y+fe.h+se)/Z)+1);break;case"bct":var de=oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x2,j.y2,j.x,j.y);ne.push(Math.floor((de.y+se)/Z)+1),ne.push(Math.floor((de.y+de.h+se)/Z)+1);break;case"rect":ne.push(Math.floor((j.y+se)/Z)+1),ne.push(Math.floor((j.y+j.h+se)/Z)+1)}for(var ge=0;ge<ne.length;ge+=1)for(;this.pdf.internal.getNumberOfPages()<ne[ge];)_.call(this);return ne},_=function(){var j=this.fillStyle,z=this.strokeStyle,Z=this.font,ne=this.lineCap,se=this.lineWidth,fe=this.lineJoin;this.pdf.addPage(),this.fillStyle=j,this.strokeStyle=z,this.font=Z,this.lineCap=ne,this.lineWidth=se,this.lineJoin=fe},b=function(j,z,Z){for(var ne=0;ne<j.length;ne++)switch(j[ne].type){case"bct":j[ne].x2+=z,j[ne].y2+=Z;case"qct":j[ne].x1+=z,j[ne].y1+=Z;case"mt":case"lt":case"arc":default:j[ne].x+=z,j[ne].y+=Z}return j},E=function(j){return j.sort(function(z,Z){return z-Z})},R=function(j,z){for(var Z,ne,se=this.fillStyle,fe=this.strokeStyle,de=this.lineCap,ge=this.lineWidth,Te=Math.abs(ge*this.ctx.transform.scaleX),Se=this.lineJoin,Me=JSON.parse(JSON.stringify(this.path)),Ve=JSON.parse(JSON.stringify(this.path)),qe=[],xe=0;xe<Ve.length;xe++)if(Ve[xe].x!==void 0)for(var ie=x.call(this,Ve[xe]),ct=0;ct<ie.length;ct+=1)qe.indexOf(ie[ct])===-1&&qe.push(ie[ct]);for(var Fe=0;Fe<qe.length;Fe++)for(;this.pdf.internal.getNumberOfPages()<qe[Fe];)_.call(this);if(E(qe),this.autoPaging)for(var Ce=qe[0],ze=qe[qe.length-1],He=Ce;He<ze+1;He++){this.pdf.setPage(He),this.fillStyle=se,this.strokeStyle=fe,this.lineCap=de,this.lineWidth=Te,this.lineJoin=Se;var We=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],rt=He===1?this.posY+this.margin[0]:this.margin[0],it=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ut=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Xe=He===1?0:it+(He-2)*ut;if(this.ctx.clip_path.length!==0){var ot=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Z,this.posX+this.margin[3],-Xe+rt+this.ctx.prevPageLastElemOffset),O.call(this,j,!0),this.path=ot}if(ne=JSON.parse(JSON.stringify(Me)),this.path=b(ne,this.posX+this.margin[3],-Xe+rt+this.ctx.prevPageLastElemOffset),z===!1||He===0){var At=(He>Ce||He<ze)&&w.call(this);At&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],We,ut,null).clip().discardPath()),O.call(this,j,z),At&&this.pdf.restoreGraphicsState()}this.lineWidth=ge}else this.lineWidth=Te,O.call(this,j,z),this.lineWidth=ge;this.path=Me},O=function(j,z){if((j!=="stroke"||z||!g.call(this))&&(j==="stroke"||z||!f.call(this))){for(var Z,ne,se=[],fe=this.path,de=0;de<fe.length;de++){var ge=fe[de];switch(ge.type){case"begin":se.push({begin:!0});break;case"close":se.push({close:!0});break;case"mt":se.push({start:ge,deltas:[],abs:[]});break;case"lt":var Te=se.length;if(fe[de-1]&&!isNaN(fe[de-1].x)&&(Z=[ge.x-fe[de-1].x,ge.y-fe[de-1].y],Te>0)){for(;Te>=0;Te--)if(se[Te-1].close!==!0&&se[Te-1].begin!==!0){se[Te-1].deltas.push(Z),se[Te-1].abs.push(ge);break}}break;case"bct":Z=[ge.x1-fe[de-1].x,ge.y1-fe[de-1].y,ge.x2-fe[de-1].x,ge.y2-fe[de-1].y,ge.x-fe[de-1].x,ge.y-fe[de-1].y],se[se.length-1].deltas.push(Z);break;case"qct":var Se=fe[de-1].x+2/3*(ge.x1-fe[de-1].x),Me=fe[de-1].y+2/3*(ge.y1-fe[de-1].y),Ve=ge.x+2/3*(ge.x1-ge.x),qe=ge.y+2/3*(ge.y1-ge.y),xe=ge.x,ie=ge.y;Z=[Se-fe[de-1].x,Me-fe[de-1].y,Ve-fe[de-1].x,qe-fe[de-1].y,xe-fe[de-1].x,ie-fe[de-1].y],se[se.length-1].deltas.push(Z);break;case"arc":se.push({deltas:[],abs:[],arc:!0}),Array.isArray(se[se.length-1].abs)&&se[se.length-1].abs.push(ge)}}ne=z?null:j==="stroke"?"stroke":"fill";for(var ct=!1,Fe=0;Fe<se.length;Fe++)if(se[Fe].arc)for(var Ce=se[Fe].abs,ze=0;ze<Ce.length;ze++){var He=Ce[ze];He.type==="arc"?y.call(this,He.x,He.y,He.radius,He.startAngle,He.endAngle,He.counterclockwise,void 0,z,!ct):L.call(this,He.x,He.y),ct=!0}else if(se[Fe].close===!0)this.pdf.internal.out("h"),ct=!1;else if(se[Fe].begin!==!0){var We=se[Fe].start.x,rt=se[Fe].start.y;$.call(this,se[Fe].deltas,We,rt),ct=!0}ne&&S.call(this,ne),z&&I.call(this)}},V=function(j){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return j-Z;case"top":return j+z-Z;case"hanging":return j+z-2*Z;case"middle":return j+z/2-Z;case"ideographic":return j;case"alphabetic":default:return j}},C=function(j){return j+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var j=function(){};return j.colorStops=[],j.addColorStop=function(z,Z){this.colorStops.push([z,Z])},j.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},j.isCanvasGradient=!0,j},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var y=function(j,z,Z,ne,se,fe,de,ge,Te){for(var Se=K.call(this,Z,ne,se,fe),Me=0;Me<Se.length;Me++){var Ve=Se[Me];Me===0&&(Te?k.call(this,Ve.x1+j,Ve.y1+z):L.call(this,Ve.x1+j,Ve.y1+z)),te.call(this,j,z,Ve.x2,Ve.y2,Ve.x3,Ve.y3,Ve.x4,Ve.y4)}ge?I.call(this):S.call(this,de)},S=function(j){switch(j){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},I=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(j,z){this.pdf.internal.out(t(j)+" "+r(z)+" m")},P=function(j){var z;switch(j.align){case"right":case"end":z="right";break;case"center":z="center";break;case"left":case"start":default:z="left"}var Z=this.pdf.getTextDimensions(j.text),ne=V.call(this,j.y),se=C.call(this,ne)-Z.h,fe=this.ctx.transform.applyToPoint(new o(j.x,ne)),de=this.ctx.transform.decompose(),ge=new l;ge=(ge=(ge=ge.multiply(de.translate)).multiply(de.skew)).multiply(de.scale);for(var Te,Se,Me,Ve=this.ctx.transform.applyToRectangle(new a(j.x,ne,Z.w,Z.h)),qe=ge.applyToRectangle(new a(j.x,se,Z.w,Z.h)),xe=x.call(this,qe),ie=[],ct=0;ct<xe.length;ct+=1)ie.indexOf(xe[ct])===-1&&ie.push(xe[ct]);if(E(ie),this.autoPaging)for(var Fe=ie[0],Ce=ie[ie.length-1],ze=Fe;ze<Ce+1;ze++){this.pdf.setPage(ze);var He=ze===1?this.posY+this.margin[0]:this.margin[0],We=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],rt=this.pdf.internal.pageSize.height-this.margin[2],it=rt-this.margin[0],ut=this.pdf.internal.pageSize.width-this.margin[1],Xe=ut-this.margin[3],ot=ze===1?0:We+(ze-2)*it;if(this.ctx.clip_path.length!==0){var At=this.path;Te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Te,this.posX+this.margin[3],-1*ot+He),O.call(this,"fill",!0),this.path=At}var dt=b([JSON.parse(JSON.stringify(qe))],this.posX+this.margin[3],-ot+He+this.ctx.prevPageLastElemOffset)[0];j.scale>=.01&&(Se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Se*j.scale),Me=this.lineWidth,this.lineWidth=Me*j.scale);var Pt=this.autoPaging!=="text";if(Pt||dt.y+dt.h<=rt){if(Pt||dt.y>=He&&dt.x<=ut){var $e=Pt?j.text:this.pdf.splitTextToSize(j.text,j.maxWidth||ut-dt.x)[0],Vt=b([JSON.parse(JSON.stringify(Ve))],this.posX+this.margin[3],-ot+He+this.ctx.prevPageLastElemOffset)[0],Ct=Pt&&(ze>Fe||ze<Ce)&&w.call(this);Ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Xe,it,null).clip().discardPath()),this.pdf.text($e,Vt.x,Vt.y,{angle:j.angle,align:z,renderingMode:j.renderingMode}),Ct&&this.pdf.restoreGraphicsState()}}else dt.y<rt&&(this.ctx.prevPageLastElemOffset+=rt-dt.y);j.scale>=.01&&(this.pdf.setFontSize(Se),this.lineWidth=Me)}else j.scale>=.01&&(Se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Se*j.scale),Me=this.lineWidth,this.lineWidth=Me*j.scale),this.pdf.text(j.text,fe.x+this.posX,fe.y+this.posY,{angle:j.angle,align:z,renderingMode:j.renderingMode,maxWidth:j.maxWidth}),j.scale>=.01&&(this.pdf.setFontSize(Se),this.lineWidth=Me)},L=function(j,z,Z,ne){Z=Z||0,ne=ne||0,this.pdf.internal.out(t(j+Z)+" "+r(z+ne)+" l")},$=function(j,z,Z){return this.pdf.lines(j,z,Z,null,null)},te=function(j,z,Z,ne,se,fe,de,ge){this.pdf.internal.out([e(i(Z+j)),e(s(ne+z)),e(i(se+j)),e(s(fe+z)),e(i(de+j)),e(s(ge+z)),"c"].join(" "))},K=function(j,z,Z,ne){for(var se=2*Math.PI,fe=Math.PI/2;z>Z;)z-=se;var de=Math.abs(Z-z);de<se&&ne&&(de=se-de);for(var ge=[],Te=ne?-1:1,Se=z;de>1e-5;){var Me=Se+Te*Math.min(de,fe);ge.push(q.call(this,j,Se,Me)),de-=Math.abs(Me-Se),Se=Me}return ge},q=function(j,z,Z){var ne=(Z-z)/2,se=j*Math.cos(ne),fe=j*Math.sin(ne),de=se,ge=-fe,Te=de*de+ge*ge,Se=Te+de*se+ge*fe,Me=4/3*(Math.sqrt(2*Te*Se)-Se)/(de*fe-ge*se),Ve=de-Me*ge,qe=ge+Me*de,xe=Ve,ie=-qe,ct=ne+z,Fe=Math.cos(ct),Ce=Math.sin(ct);return{x1:j*Math.cos(z),y1:j*Math.sin(z),x2:Ve*Fe-qe*Ce,y2:Ve*Ce+qe*Fe,x3:xe*Fe-ie*Ce,y3:xe*Ce+ie*Fe,x4:j*Math.cos(Z),y4:j*Math.sin(Z)}},W=function(j){return 180*j/Math.PI},H=function(j,z,Z,ne,se,fe){var de=j+.5*(Z-j),ge=z+.5*(ne-z),Te=se+.5*(Z-se),Se=fe+.5*(ne-fe),Me=Math.min(j,se,de,Te),Ve=Math.max(j,se,de,Te),qe=Math.min(z,fe,ge,Se),xe=Math.max(z,fe,ge,Se);return new a(Me,qe,Ve-Me,xe-qe)},oe=function(j,z,Z,ne,se,fe,de,ge){var Te,Se,Me,Ve,qe,xe,ie,ct,Fe,Ce,ze,He,We,rt,it=Z-j,ut=ne-z,Xe=se-Z,ot=fe-ne,At=de-se,dt=ge-fe;for(Se=0;Se<41;Se++)Fe=(ie=(Me=j+(Te=Se/40)*it)+Te*((qe=Z+Te*Xe)-Me))+Te*(qe+Te*(se+Te*At-qe)-ie),Ce=(ct=(Ve=z+Te*ut)+Te*((xe=ne+Te*ot)-Ve))+Te*(xe+Te*(fe+Te*dt-xe)-ct),Se==0?(ze=Fe,He=Ce,We=Fe,rt=Ce):(ze=Math.min(ze,Fe),He=Math.min(He,Ce),We=Math.max(We,Fe),rt=Math.max(rt,Ce));return new a(Math.round(ze),Math.round(He),Math.round(We-ze),Math.round(rt-He))},le=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var j,z,Z=(j=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:j,lineDashOffset:z}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(ft.API),function(n){var e=function(s){var o,a,l,c,u,h,d,f,g,w;for(a=[],l=0,c=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;c>l;l+=4)(u=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(h=(u=((u=((u=((u=(u-(w=u%85))/85)-(g=u%85))/85)-(f=u%85))/85)-(d=u%85))/85)%85,a.push(h+33,d+33,f+33,g+33,w+33)):a.push(122);return function(x,_){for(var b=_;b>0;b--)x.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},t=function(s){var o,a,l,c,u,h=String,d="length",f=255,g="charCodeAt",w="slice",x="replace";for(s[w](-2),s=s[w](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),l=[],c=0,u=(s+=o="uuuuu"[w](s[d]%5||5))[d];u>c;c+=5)a=52200625*(s[g](c)-33)+614125*(s[g](c+1)-33)+7225*(s[g](c+2)-33)+85*(s[g](c+3)-33)+(s[g](c+4)-33),l.push(f&a>>24,f&a>>16,f&a>>8,f&a);return function(_,b){for(var E=b;E>0;E--)_.pop()}(l,o[d]),h.fromCharCode.apply(h,l)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=Bw(o)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};n.processDataByFilters=function(s,o){var a=0,l=s||"",c=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=t(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(ft.API),function(n){n.loadFile=function(e,t,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,c,u){var h=new XMLHttpRequest,d=0,f=function(g){var w=g.length,x=[],_=String.fromCharCode;for(d=0;d<w;d+=1)x.push(_(255&g.charCodeAt(d)));return x.join("")};if(h.open("GET",l,!c),h.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(h.onload=function(){h.status===200?u(f(this.responseText)):u(void 0)}),h.send(null),c&&h.status===200)return f(h.responseText)}(i,s,o)}catch{}return a}(e,t,r)},n.loadImageFile=n.loadFile}(ft.API),function(n){function e(){return(vt.html2canvas?Promise.resolve(vt.html2canvas):Mw(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function t(){return(vt.DOMPurify?Promise.resolve(vt.DOMPurify):Mw(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=cn(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var l=document.createElement(o);for(var c in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[c]=a.style[c];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(t).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(c,u){for(var h=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),d=c.firstChild;d;d=d.nextSibling)u!==!0&&d.nodeType===1&&d.nodeName==="SCRIPT"||h.appendChild(l(d,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(h.width=c.width,h.height=c.height,h.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(h.value=c.value),h.addEventListener("load",function(){h.scrollTop=c.scrollTop,h.scrollLeft=c.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var d=0;d<c.length;++d){var f=c[d],g=f.src.find(function(w){return w.format==="truetype"});g&&l.addFont(g.url,f.ref.name,f.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,l.context2d.save(!0),a(this.prop.container,h)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(o=o||ft.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,c){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,c){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(h){return l.updateProgress(null,c),h}).then(c,u).then(function(h){return l.updateProgress(1),h})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),u=l.call(c,o,a);return s.convert(u,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,ft.getPageSize=function(o,a,l){if(cn(o)==="object"){var c=o;o=c.orientation,a=c.unit||a,l=c.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var u,h=(""+l).toLowerCase(),d={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+a}var f,g=0,w=0;if(d.hasOwnProperty(h))g=d[h][1]/u,w=d[h][0]/u;else try{g=l[1],w=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",w>g&&(f=w,w=g,g=f);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",g>w&&(f=w,w=g,g=f)}return{width:w,height:g,unit:a,k:u,orientation:o}},n.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map($w):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}(ft.API),ft.API.addJS=function(n){return E3=n,this.internal.events.subscribe("postPutResources",function(){Zg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Zg+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),S3=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+E3+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Zg!==void 0&&S3!==void 0&&this.internal.out("/Names <</JavaScript "+Zg+" 0 R>>")}),this},function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];t.internal.newObjectDeferredBegin(l,!1)}t.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(s=0;s<c;s++){var h=t.internal.newObject();u.push(h);var d=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+d.objId+" 0 R /XYZ null null null]>> endobj")}var f=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<u.length;s++)t.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+f+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(ft.API),function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,s,o,a){var l,c=this.decode.DCT_DECODE,u=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=o||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(l=function(h){for(var d,f=256*h.charCodeAt(4)+h.charCodeAt(5),g=h.length,w={width:0,height:0,numcomponents:1},x=4;x<g;x+=2){if(x+=f,e.indexOf(h.charCodeAt(x+1))!==-1){d=256*h.charCodeAt(x+5)+h.charCodeAt(x+6),w={width:256*h.charCodeAt(x+7)+h.charCodeAt(x+8),height:d,numcomponents:h.charCodeAt(x+9)};break}f=256*h.charCodeAt(x+2)+h.charCodeAt(x+3)}return w}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:t,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:i}}return u}}(ft.API);var Vh,e0,k3,A3,P3,kW=function(){var n,e,t;function r(s){var o,a,l,c,u,h,d,f,g,w,x,_,b,E;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(o=this.readUInt32(),g=(function(){var R,O;for(O=[],R=0;R<4;++R)O.push(String.fromCharCode(this.data[this.pos++]));return O}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,h.delay=1e3*u/c,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(g==="fdAT"&&(this.pos+=4,o-=4),s=(h!=null?h.data:void 0)||this.imgData,_=0;0<=o?_<o:_>o;0<=o?++_:--_)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((w=l-this.transparency.indexed.length)>0)for(b=0;0<=w?b<w:b>w;0<=w?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":d=(x=this.read(o)).indexOf(0),f=String.fromCharCode.apply(String,x.slice(0,d)),this.text[f]=String.fromCharCode.apply(String,x.slice(d+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(E=this.colorType)===4||E===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,c=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function u(h,d,f,g){var w,x,_,b,E,R,O,V,C,y,S,I,k,P,L,$,te,K,q,W,H,oe=Math.ceil((c.width-h)/f),le=Math.ceil((c.height-d)/g),j=c.width==oe&&c.height==le;for(P=o*oe,I=j?a:new Uint8Array(P*le),R=s.length,k=0,x=0;k<le&&l<R;){switch(s[l++]){case 0:for(b=te=0;te<P;b=te+=1)I[x++]=s[l++];break;case 1:for(b=K=0;K<P;b=K+=1)w=s[l++],E=b<o?0:I[x-o],I[x++]=(w+E)%256;break;case 2:for(b=q=0;q<P;b=q+=1)w=s[l++],_=(b-b%o)/o,L=k&&I[(k-1)*P+_*o+b%o],I[x++]=(L+w)%256;break;case 3:for(b=W=0;W<P;b=W+=1)w=s[l++],_=(b-b%o)/o,E=b<o?0:I[x-o],L=k&&I[(k-1)*P+_*o+b%o],I[x++]=(w+Math.floor((E+L)/2))%256;break;case 4:for(b=H=0;H<P;b=H+=1)w=s[l++],_=(b-b%o)/o,E=b<o?0:I[x-o],k===0?L=$=0:(L=I[(k-1)*P+_*o+b%o],$=_&&I[(k-1)*P+(_-1)*o+b%o]),O=E+L-$,V=Math.abs(O-E),y=Math.abs(O-L),S=Math.abs(O-$),C=V<=y&&V<=S?E:y<=S?L:$,I[x++]=(w+C)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!j){var z=((d+k*g)*c.width+h)*o,Z=k*P;for(b=0;b<oe;b+=1){for(var ne=0;ne<o;ne+=1)a[z++]=I[Z++];z+=(f-1)*o}}k++}}return s=nW(s),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,l,c,u,h,d,f;for(a=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+a.length),l=0,s=0,o=h=0,d=a.length;h<d;o=h+=3)c[l++]=a[o],c[l++]=a[o+1],c[l++]=a[o+2],c[l++]=(f=u[s++])!=null?f:255;return c},r.prototype.copyToImageData=function(s,o){var a,l,c,u,h,d,f,g,w,x,_;if(l=this.colors,w=null,a=this.hasAlphaChannel,this.palette.length&&(w=(_=this._decodedPalette)!=null?_:this._decodedPalette=this.decodePalette(),l=4,a=!0),g=(c=s.data||s).length,h=w||o,u=d=0,l===1)for(;u<g;)f=w?4*o[u/4]:d,x=h[f++],c[u++]=x,c[u++]=x,c[u++]=x,c[u++]=a?h[f++]:255,d=f;else for(;u<g;)f=w?4*o[u/4]:d,c[u++]=h[f++],c[u++]=h[f++],c[u++]=h[f++],c[u++]=a?h[f++]:255,d=f},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(vt)==="[object Window]"){try{e=vt.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),n=function(s){var o;if(i()===!0)return t.width=s.width,t.height=s.height,t.clearRect(0,0,s.width,s.height),t.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,l,c,u,h,d,f;if(this.animation){for(f=[],a=u=0,h=(d=this.animation.frames).length;u<h;a=++u)o=d[a],l=s.createImageData(o.width,o.height),c=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,c),o.imageData=l,f.push(o.image=n(l));return f}},r.prototype.renderFrame=function(s,o){var a,l,c;return a=(l=this.animation.frames)[o],c=l[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?s.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&s.putImageData(c.imageData,c.xOffset,c.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,l,c,u,h,d=this;return a=0,h=this.animation,c=h.numFrames,l=h.frames,u=h.numPlays,(o=function(){var f,g;if(f=a++%c,g=l[f],d.renderFrame(s,f),c>1&&a/c<u)return d.animation._timeout=setTimeout(o,g.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function AW(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],s=i>>7,o=1<<(7&i)+1;n[e++],n[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var c=!0,u=[],h=0,d=null,f=0,g=null;for(this.width=t,this.height=r;c&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,g=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((k=n[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var w=n[e++];h=n[e++]|n[e++]<<8,d=n[e++],!(1&w)&&(d=null),f=w>>2&7,e++;break;case 254:for(;;){if(!((k=n[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var x=n[e++]|n[e++]<<8,_=n[e++]|n[e++]<<8,b=n[e++]|n[e++]<<8,E=n[e++]|n[e++]<<8,R=n[e++],O=R>>6&1,V=1<<(7&R)+1,C=a,y=l,S=!1;R>>7&&(S=!0,C=e,y=V,e+=3*V);var I=e;for(e++;;){var k;if(!((k=n[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}u.push({x,y:_,width:b,height:E,has_local_palette:S,palette_offset:C,palette_size:y,data_offset:I,data_length:e-I,transparent_index:d,interlaced:!!O,delay:h,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return g},this.frameInfo=function(P){if(P<0||P>=u.length)throw new Error("Frame index out of range.");return u[P]},this.decodeAndBlitFrameBGRA=function(P,L){var $=this.frameInfo(P),te=$.width*$.height,K=new Uint8Array(te);T3(n,$.data_offset,K,te);var q=$.palette_offset,W=$.transparent_index;W===null&&(W=256);var H=$.width,oe=t-H,le=H,j=4*($.y*t+$.x),z=4*(($.y+$.height)*t+$.x),Z=j,ne=4*oe;$.interlaced===!0&&(ne+=4*t*7);for(var se=8,fe=0,de=K.length;fe<de;++fe){var ge=K[fe];if(le===0&&(le=H,(Z+=ne)>=z&&(ne=4*oe+4*t*(se-1),Z=j+(H+oe)*(se<<1),se>>=1)),ge===W)Z+=4;else{var Te=n[q+3*ge],Se=n[q+3*ge+1],Me=n[q+3*ge+2];L[Z++]=Me,L[Z++]=Se,L[Z++]=Te,L[Z++]=255}--le}},this.decodeAndBlitFrameRGBA=function(P,L){var $=this.frameInfo(P),te=$.width*$.height,K=new Uint8Array(te);T3(n,$.data_offset,K,te);var q=$.palette_offset,W=$.transparent_index;W===null&&(W=256);var H=$.width,oe=t-H,le=H,j=4*($.y*t+$.x),z=4*(($.y+$.height)*t+$.x),Z=j,ne=4*oe;$.interlaced===!0&&(ne+=4*t*7);for(var se=8,fe=0,de=K.length;fe<de;++fe){var ge=K[fe];if(le===0&&(le=H,(Z+=ne)>=z&&(ne=4*oe+4*t*(se-1),Z=j+(H+oe)*(se<<1),se>>=1)),ge===W)Z+=4;else{var Te=n[q+3*ge],Se=n[q+3*ge+1],Me=n[q+3*ge+2];L[Z++]=Te,L[Z++]=Se,L[Z++]=Me,L[Z++]=255}--le}}}function T3(n,e,t,r){for(var i=n[e++],s=1<<i,o=s+1,a=o+1,l=i+1,c=(1<<l)-1,u=0,h=0,d=0,f=n[e++],g=new Int32Array(4096),w=null;;){for(;u<16&&f!==0;)h|=n[e++]<<u,u+=8,f===1?f=n[e++]:--f;if(u<l)break;var x=h&c;if(h>>=l,u-=l,x!==s){if(x===o)break;for(var _=x<a?x:w,b=0,E=_;E>s;)E=g[E]>>8,++b;var R=E;if(d+b+(_!==x?1:0)>r)return void gn.log("Warning, gif stream longer than expected.");t[d++]=R;var O=d+=b;for(_!==x&&(t[d++]=R),E=_;b--;)E=g[E],t[--O]=255&E,E>>=8;w!==null&&a<4096&&(g[a++]=w<<8|R,a>=c+1&&l<12&&(++l,c=c<<1|1)),w=x}else a=o+1,c=(1<<(l=i+1))-1,w=null}return d!==r&&gn.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function U2(n){var e,t,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),h=new Array(65535),d=new Array(65535),f=new Array(64),g=new Array(64),w=[],x=0,_=7,b=new Array(64),E=new Array(64),R=new Array(64),O=new Array(256),V=new Array(2048),C=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],y=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],S=[0,1,2,3,4,5,6,7,8,9,10,11],I=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],te=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function K(j,z){for(var Z=0,ne=0,se=new Array,fe=1;fe<=16;fe++){for(var de=1;de<=j[fe];de++)se[z[ne]]=[],se[z[ne]][0]=Z,se[z[ne]][1]=fe,ne++,Z++;Z*=2}return se}function q(j){for(var z=j[0],Z=j[1]-1;Z>=0;)z&1<<Z&&(x|=1<<_),Z--,--_<0&&(x==255?(W(255),W(0)):W(x),_=7,x=0)}function W(j){w.push(j)}function H(j){W(j>>8&255),W(255&j)}function oe(j,z,Z,ne,se){for(var fe,de=se[0],ge=se[240],Te=function(Ce,ze){var He,We,rt,it,ut,Xe,ot,At,dt,Pt,$e=0;for(dt=0;dt<8;++dt){He=Ce[$e],We=Ce[$e+1],rt=Ce[$e+2],it=Ce[$e+3],ut=Ce[$e+4],Xe=Ce[$e+5],ot=Ce[$e+6];var Vt=He+(At=Ce[$e+7]),Ct=He-At,Nr=We+ot,Gt=We-ot,_n=rt+Xe,cs=rt-Xe,Ft=it+ut,co=it-ut,En=Vt+Ft,Ir=Vt-Ft,Hi=Nr+_n,wn=Nr-_n;Ce[$e]=En+Hi,Ce[$e+4]=En-Hi;var pt=.707106781*(wn+Ir);Ce[$e+2]=Ir+pt,Ce[$e+6]=Ir-pt;var Bt=.382683433*((En=co+cs)-(wn=Gt+Ct)),us=.5411961*En+Bt,or=1.306562965*wn+Bt,qr=.707106781*(Hi=cs+Gt),qi=Ct+qr,tt=Ct-qr;Ce[$e+5]=tt+us,Ce[$e+3]=tt-us,Ce[$e+1]=qi+or,Ce[$e+7]=qi-or,$e+=8}for($e=0,dt=0;dt<8;++dt){He=Ce[$e],We=Ce[$e+8],rt=Ce[$e+16],it=Ce[$e+24],ut=Ce[$e+32],Xe=Ce[$e+40],ot=Ce[$e+48];var Pi=He+(At=Ce[$e+56]),$r=He-At,ar=We+ot,Gn=We-ot,Bn=rt+Xe,lr=rt-Xe,il=it+ut,Rs=it-ut,Yr=Pi+il,Ti=Pi-il,di=ar+Bn,fi=ar-Bn;Ce[$e]=Yr+di,Ce[$e+32]=Yr-di;var Kn=.707106781*(fi+Ti);Ce[$e+16]=Ti+Kn,Ce[$e+48]=Ti-Kn;var $i=.382683433*((Yr=Rs+lr)-(fi=Gn+$r)),uo=.5411961*Yr+$i,ho=1.306562965*fi+$i,fo=.707106781*(di=lr+Gn),ra=$r+fo,ia=$r-fo;Ce[$e+40]=ia+uo,Ce[$e+24]=ia-uo,Ce[$e+8]=ra+ho,Ce[$e+56]=ra-ho,$e++}for(dt=0;dt<64;++dt)Pt=Ce[dt]*ze[dt],f[dt]=Pt>0?Pt+.5|0:Pt-.5|0;return f}(j,z),Se=0;Se<64;++Se)g[C[Se]]=Te[Se];var Me=g[0]-Z;Z=g[0],Me==0?q(ne[0]):(q(ne[d[fe=32767+Me]]),q(h[fe]));for(var Ve=63;Ve>0&&g[Ve]==0;)Ve--;if(Ve==0)return q(de),Z;for(var qe,xe=1;xe<=Ve;){for(var ie=xe;g[xe]==0&&xe<=Ve;)++xe;var ct=xe-ie;if(ct>=16){qe=ct>>4;for(var Fe=1;Fe<=qe;++Fe)q(ge);ct&=15}fe=32767+g[xe],q(se[(ct<<4)+d[fe]]),q(h[fe]),xe++}return Ve!=63&&q(de),Z}function le(j){j=Math.min(Math.max(j,1),100),s!=j&&(function(z){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ne=0;ne<64;ne++){var se=o((Z[ne]*z+50)/100);se=Math.min(Math.max(se,1),255),a[C[ne]]=se}for(var fe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],de=0;de<64;de++){var ge=o((fe[de]*z+50)/100);ge=Math.min(Math.max(ge,1),255),l[C[de]]=ge}for(var Te=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Se=0,Me=0;Me<8;Me++)for(var Ve=0;Ve<8;Ve++)c[Se]=1/(a[C[Se]]*Te[Me]*Te[Ve]*8),u[Se]=1/(l[C[Se]]*Te[Me]*Te[Ve]*8),Se++}(j<50?Math.floor(5e3/j):Math.floor(200-2*j)),s=j)}this.encode=function(j,z){z&&le(z),w=new Array,x=0,_=7,H(65496),H(65504),H(16),W(74),W(70),W(73),W(70),W(0),W(1),W(1),W(0),H(1),H(1),W(0),W(0),function(){H(65499),H(132),W(0);for(var We=0;We<64;We++)W(a[We]);W(1);for(var rt=0;rt<64;rt++)W(l[rt])}(),function(We,rt){H(65472),H(17),W(8),H(rt),H(We),W(3),W(1),W(17),W(0),W(2),W(17),W(1),W(3),W(17),W(1)}(j.width,j.height),function(){H(65476),H(418),W(0);for(var We=0;We<16;We++)W(y[We+1]);for(var rt=0;rt<=11;rt++)W(S[rt]);W(16);for(var it=0;it<16;it++)W(I[it+1]);for(var ut=0;ut<=161;ut++)W(k[ut]);W(1);for(var Xe=0;Xe<16;Xe++)W(P[Xe+1]);for(var ot=0;ot<=11;ot++)W(L[ot]);W(17);for(var At=0;At<16;At++)W($[At+1]);for(var dt=0;dt<=161;dt++)W(te[dt])}(),H(65498),H(12),W(3),W(1),W(0),W(2),W(17),W(3),W(17),W(0),W(63),W(0);var Z=0,ne=0,se=0;x=0,_=7,this.encode.displayName="_encode_";for(var fe,de,ge,Te,Se,Me,Ve,qe,xe,ie=j.data,ct=j.width,Fe=j.height,Ce=4*ct,ze=0;ze<Fe;){for(fe=0;fe<Ce;){for(Se=Ce*ze+fe,Ve=-1,qe=0,xe=0;xe<64;xe++)Me=Se+(qe=xe>>3)*Ce+(Ve=4*(7&xe)),ze+qe>=Fe&&(Me-=Ce*(ze+1+qe-Fe)),fe+Ve>=Ce&&(Me-=fe+Ve-Ce+4),de=ie[Me++],ge=ie[Me++],Te=ie[Me++],b[xe]=(V[de]+V[ge+256>>0]+V[Te+512>>0]>>16)-128,E[xe]=(V[de+768>>0]+V[ge+1024>>0]+V[Te+1280>>0]>>16)-128,R[xe]=(V[de+1280>>0]+V[ge+1536>>0]+V[Te+1792>>0]>>16)-128;Z=oe(b,c,Z,e,r),ne=oe(E,u,ne,t,i),se=oe(R,u,se,t,i),fe+=32}ze+=8}if(_>=0){var He=[];He[1]=_+1,He[0]=(1<<_+1)-1,q(He)}return H(65497),new Uint8Array(w)},n=n||50,function(){for(var j=String.fromCharCode,z=0;z<256;z++)O[z]=j(z)}(),e=K(y,S),t=K(P,L),r=K(I,k),i=K($,te),function(){for(var j=1,z=2,Z=1;Z<=15;Z++){for(var ne=j;ne<z;ne++)d[32767+ne]=Z,h[32767+ne]=[],h[32767+ne][1]=Z,h[32767+ne][0]=ne;for(var se=-(z-1);se<=-j;se++)d[32767+se]=Z,h[32767+se]=[],h[32767+se][1]=Z,h[32767+se][0]=z-1+se;j<<=1,z<<=1}}(),function(){for(var j=0;j<256;j++)V[j]=19595*j,V[j+256>>0]=38470*j,V[j+512>>0]=7471*j+32768,V[j+768>>0]=-11059*j,V[j+1024>>0]=-21709*j,V[j+1280>>0]=32768*j+8421375,V[j+1536>>0]=-27439*j,V[j+1792>>0]=-5329*j}(),le(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function $s(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function C3(n){function e(y){if(!y)throw Error("assert :P")}function t(y,S,I){for(var k=0;4>k;k++)if(y[S+k]!=I.charCodeAt(k))return!0;return!1}function r(y,S,I,k,P){for(var L=0;L<P;L++)y[S+L]=I[k+L]}function i(y,S,I,k){for(var P=0;P<k;P++)y[S+P]=I}function s(y){return new Int32Array(y)}function o(y,S){for(var I=[],k=0;k<y;k++)I.push(new S);return I}function a(y,S){var I=[];return function k(P,L,$){for(var te=$[L],K=0;K<te&&(P.push($.length>L+1?[]:new S),!($.length<L+1));K++)k(P[K],L+1,$)}(I,0,y),I}var l=function(){var y=this;function S(p,v){for(var N=1<<v-1>>>0;p&N;)N>>>=1;return N?(p&N-1)+N:p}function I(p,v,N,M,U){e(!(M%N));do p[v+(M-=N)]=U;while(0<M)}function k(p,v,N,M,U){if(e(2328>=U),512>=U)var Y=s(512);else if((Y=s(U))==null)return 0;return function(G,X,J,re,ue,_e){var we,ye,Re=X,Ee=1<<J,he=s(16),pe=s(16);for(e(ue!=0),e(re!=null),e(G!=null),e(0<J),ye=0;ye<ue;++ye){if(15<re[ye])return 0;++he[re[ye]]}if(he[0]==ue)return 0;for(pe[1]=0,we=1;15>we;++we){if(he[we]>1<<we)return 0;pe[we+1]=pe[we]+he[we]}for(ye=0;ye<ue;++ye)we=re[ye],0<re[ye]&&(_e[pe[we]++]=ye);if(pe[15]==1)return(re=new P).g=0,re.value=_e[0],I(G,Re,1,Ee,re),Ee;var Ie,Le=-1,De=Ee-1,et=0,Ge=1,mt=1,Qe=1<<J;for(ye=0,we=1,ue=2;we<=J;++we,ue<<=1){if(Ge+=mt<<=1,0>(mt-=he[we]))return 0;for(;0<he[we];--he[we])(re=new P).g=we,re.value=_e[ye++],I(G,Re+et,ue,Qe,re),et=S(et,we)}for(we=J+1,ue=2;15>=we;++we,ue<<=1){if(Ge+=mt<<=1,0>(mt-=he[we]))return 0;for(;0<he[we];--he[we]){if(re=new P,(et&De)!=Le){for(Re+=Qe,Ie=1<<(Le=we)-J;15>Le&&!(0>=(Ie-=he[Le]));)++Le,Ie<<=1;Ee+=Qe=1<<(Ie=Le-J),G[X+(Le=et&De)].g=Ie+J,G[X+Le].value=Re-X-Le}re.g=we-J,re.value=_e[ye++],I(G,Re+(et>>J),ue,Qe,re),et=S(et,we)}}return Ge!=2*pe[15]-1?0:Ee}(p,v,N,M,U,Y)}function P(){this.value=this.g=0}function L(){this.value=this.g=0}function $(){this.G=o(5,P),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Lr,L)}function te(p,v,N,M){e(p!=null),e(v!=null),e(2147483648>M),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=v,p.pa=N,p.Jd=v,p.Yc=N+M,p.Zc=4<=M?N+M-4+1:N,fe(p)}function K(p,v){for(var N=0;0<v--;)N|=ge(p,128)<<v;return N}function q(p,v){var N=K(p,v);return de(p)?-N:N}function W(p,v,N,M){var U,Y=0;for(e(p!=null),e(v!=null),e(4294967288>M),p.Sb=M,p.Ra=0,p.u=0,p.h=0,4<M&&(M=4),U=0;U<M;++U)Y+=v[N+U]<<8*U;p.Ra=Y,p.bb=M,p.oa=v,p.pa=N}function H(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<Ph-8>>>0,++p.bb,p.u-=8;Z(p)&&(p.h=1,p.u=0)}function oe(p,v){if(e(0<=v),!p.h&&v<=Ah){var N=z(p)&kh[v];return p.u+=v,H(p),N}return p.h=1,p.u=0}function le(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function j(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function z(p){return p.Ra>>>(p.u&Ph-1)>>>0}function Z(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>Ph}function ne(p,v){p.u=v,p.h=Z(p)}function se(p){p.u>=gf&&(e(p.u>=gf),H(p))}function fe(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function de(p){return K(p,1)}function ge(p,v){var N=p.Ca;0>p.b&&fe(p);var M=p.b,U=N*v>>>8,Y=(p.I>>>M>U)+0;for(Y?(N-=U,p.I-=U+1<<M>>>0):N=U+1,M=N,U=0;256<=M;)U+=8,M>>=8;return M=7^U+Ni[M],p.b-=M,p.Ca=(N<<M)-1,Y}function Te(p,v,N){p[v+0]=N>>24&255,p[v+1]=N>>16&255,p[v+2]=N>>8&255,p[v+3]=N>>0&255}function Se(p,v){return p[v+0]<<0|p[v+1]<<8}function Me(p,v){return Se(p,v)|p[v+2]<<16}function Ve(p,v){return Se(p,v)|Se(p,v+2)<<16}function qe(p,v){var N=1<<v;return e(p!=null),e(0<v),p.X=s(N),p.X==null?0:(p.Mb=32-v,p.Xa=v,1)}function xe(p,v){e(p!=null),e(v!=null),e(p.Xa==v.Xa),r(v.X,0,p.X,0,1<<v.Xa)}function ie(){this.X=[],this.Xa=this.Mb=0}function ct(p,v,N,M){e(N!=null),e(M!=null);var U=N[0],Y=M[0];return U==0&&(U=(p*Y+v/2)/v),Y==0&&(Y=(v*U+p/2)/p),0>=U||0>=Y?0:(N[0]=U,M[0]=Y,1)}function Fe(p,v){return p+(1<<v)-1>>>v}function Ce(p,v){return((4278255360&p)+(4278255360&v)>>>0&4278255360)+((16711935&p)+(16711935&v)>>>0&16711935)>>>0}function ze(p,v){y[v]=function(N,M,U,Y,G,X,J){var re;for(re=0;re<G;++re){var ue=y[p](X[J+re-1],U,Y+re);X[J+re]=Ce(N[M+re],ue)}}}function He(){this.ud=this.hd=this.jd=0}function We(p,v){return((4278124286&(p^v))>>>1)+(p&v)>>>0}function rt(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function it(p,v){return rt(p+(p-v+.5>>1))}function ut(p,v,N){return Math.abs(v-N)-Math.abs(p-N)}function Xe(p,v,N,M,U,Y,G){for(M=Y[G-1],N=0;N<U;++N)Y[G+N]=M=Ce(p[v+N],M)}function ot(p,v,N,M,U){var Y;for(Y=0;Y<N;++Y){var G=p[v+Y],X=G>>8&255,J=16711935&(J=(J=16711935&G)+((X<<16)+X));M[U+Y]=(4278255360&G)+J>>>0}}function At(p,v){v.jd=p>>0&255,v.hd=p>>8&255,v.ud=p>>16&255}function dt(p,v,N,M,U,Y){var G;for(G=0;G<M;++G){var X=v[N+G],J=X>>>8,re=X,ue=255&(ue=(ue=X>>>16)+((p.jd<<24>>24)*(J<<24>>24)>>>5));re=255&(re=(re=re+((p.hd<<24>>24)*(J<<24>>24)>>>5))+((p.ud<<24>>24)*(ue<<24>>24)>>>5)),U[Y+G]=(4278255360&X)+(ue<<16)+re}}function Pt(p,v,N,M,U){y[v]=function(Y,G,X,J,re,ue,_e,we,ye){for(J=_e;J<we;++J)for(_e=0;_e<ye;++_e)re[ue++]=U(X[M(Y[G++])])},y[p]=function(Y,G,X,J,re,ue,_e){var we=8>>Y.b,ye=Y.Ea,Re=Y.K[0],Ee=Y.w;if(8>we)for(Y=(1<<Y.b)-1,Ee=(1<<we)-1;G<X;++G){var he,pe=0;for(he=0;he<ye;++he)he&Y||(pe=M(J[re++])),ue[_e++]=U(Re[pe&Ee]),pe>>=we}else y["VP8LMapColor"+N](J,re,Re,Ee,ue,_e,G,X,ye)}}function $e(p,v,N,M,U){for(N=v+N;v<N;){var Y=p[v++];M[U++]=Y>>16&255,M[U++]=Y>>8&255,M[U++]=Y>>0&255}}function Vt(p,v,N,M,U){for(N=v+N;v<N;){var Y=p[v++];M[U++]=Y>>16&255,M[U++]=Y>>8&255,M[U++]=Y>>0&255,M[U++]=Y>>24&255}}function Ct(p,v,N,M,U){for(N=v+N;v<N;){var Y=(G=p[v++])>>16&240|G>>12&15,G=G>>0&240|G>>28&15;M[U++]=Y,M[U++]=G}}function Nr(p,v,N,M,U){for(N=v+N;v<N;){var Y=(G=p[v++])>>16&248|G>>13&7,G=G>>5&224|G>>3&31;M[U++]=Y,M[U++]=G}}function Gt(p,v,N,M,U){for(N=v+N;v<N;){var Y=p[v++];M[U++]=Y>>0&255,M[U++]=Y>>8&255,M[U++]=Y>>16&255}}function _n(p,v,N,M,U,Y){if(Y==0)for(N=v+N;v<N;)Te(M,((Y=p[v++])[0]>>24|Y[1]>>8&65280|Y[2]<<8&16711680|Y[3]<<24)>>>0),U+=32;else r(M,U,p,v,N)}function cs(p,v){y[v][0]=y[p+"0"],y[v][1]=y[p+"1"],y[v][2]=y[p+"2"],y[v][3]=y[p+"3"],y[v][4]=y[p+"4"],y[v][5]=y[p+"5"],y[v][6]=y[p+"6"],y[v][7]=y[p+"7"],y[v][8]=y[p+"8"],y[v][9]=y[p+"9"],y[v][10]=y[p+"10"],y[v][11]=y[p+"11"],y[v][12]=y[p+"12"],y[v][13]=y[p+"13"],y[v][14]=y[p+"0"],y[v][15]=y[p+"0"]}function Ft(p){return p==Iy||p==Dy||p==hg||p==Ry}function co(){this.eb=[],this.size=this.A=this.fb=0}function En(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ir(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new co,this.f.kb=new En,this.sd=null}function Hi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function wn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function pt(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function Bt(p,v){var N=p.T,M=v.ba.f.RGBA,U=M.eb,Y=M.fb+p.ka*M.A,G=vs[v.ba.S],X=p.y,J=p.O,re=p.f,ue=p.N,_e=p.ea,we=p.W,ye=v.cc,Re=v.dc,Ee=v.Mc,he=v.Nc,pe=p.ka,Ie=p.ka+p.T,Le=p.U,De=Le+1>>1;for(pe==0?G(X,J,null,null,re,ue,_e,we,re,ue,_e,we,U,Y,null,null,Le):(G(v.ec,v.fc,X,J,ye,Re,Ee,he,re,ue,_e,we,U,Y-M.A,U,Y,Le),++N);pe+2<Ie;pe+=2)ye=re,Re=ue,Ee=_e,he=we,ue+=p.Rc,we+=p.Rc,Y+=2*M.A,G(X,(J+=2*p.fa)-p.fa,X,J,ye,Re,Ee,he,re,ue,_e,we,U,Y-M.A,U,Y,Le);return J+=p.fa,p.j+Ie<p.o?(r(v.ec,v.fc,X,J,Le),r(v.cc,v.dc,re,ue,De),r(v.Mc,v.Nc,_e,we,De),N--):1&Ie||G(X,J,null,null,re,ue,_e,we,re,ue,_e,we,U,Y+M.A,null,null,Le),N}function us(p,v,N){var M=p.F,U=[p.J];if(M!=null){var Y=p.U,G=v.ba.S,X=G==ug||G==hg;v=v.ba.f.RGBA;var J=[0],re=p.ka;J[0]=p.T,p.Kb&&(re==0?--J[0]:(--re,U[0]-=p.width),p.j+p.ka+p.T==p.o&&(J[0]=p.o-p.j-re));var ue=v.eb;re=v.fb+re*v.A,p=xn(M,U[0],p.width,Y,J,ue,re+(X?0:3),v.A),e(N==J),p&&Ft(G)&&ms(ue,re,X,Y,J,v.A)}return 0}function or(p){var v=p.ma,N=v.ba.S,M=11>N,U=N==lg||N==cg||N==ug||N==Ny||N==12||Ft(N);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!pf(v.Oa,p,U?11:12))return 0;if(U&&Ft(N)&&Oe(),p.da)alert("todo:use_scaling");else{if(M){if(v.Ib=pt,p.Kb){if(N=p.U+1>>1,v.memory=s(p.U+2*N),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+p.U,v.Mc=v.cc,v.Nc=v.dc+N,v.Ib=Bt,Oe()}}else alert("todo:EmitYUV");U&&(v.Jb=us,M&&ve())}if(M&&!iS){for(p=0;256>p;++p)YD[p]=89858*(p-128)+fg>>dg,QD[p]=-22014*(p-128)+fg,KD[p]=-45773*(p-128),GD[p]=113618*(p-128)+fg>>dg;for(p=Sf;p<Oy;++p)v=76283*(p-16)+fg>>dg,XD[p-Sf]=Jt(v,255),JD[p-Sf]=Jt(v+8>>4,15);iS=1}return 1}function qr(p){var v=p.ma,N=p.U,M=p.T;return e(!(1&p.ka)),0>=N||0>=M?0:(N=v.Ib(p,v),v.Jb!=null&&v.Jb(p,v,N),v.Dc+=N,1)}function qi(p){p.ma.memory=null}function tt(p,v,N,M){return oe(p,8)!=47?0:(v[0]=oe(p,14)+1,N[0]=oe(p,14)+1,M[0]=oe(p,1),oe(p,3)!=0?0:!p.h)}function Pi(p,v){if(4>p)return p+1;var N=p-2>>1;return(2+(1&p)<<N)+oe(v,N)+1}function $r(p,v){return 120<v?v-120:1<=(N=((N=RD[v-1])>>4)*p+(8-(15&N)))?N:1;var N}function ar(p,v,N){var M=z(N),U=p[v+=255&M].g-8;return 0<U&&(ne(N,N.u+8),M=z(N),v+=p[v].value,v+=M&(1<<U)-1),ne(N,N.u+p[v].g),p[v].value}function Gn(p,v,N){return N.g+=p.g,N.value+=p.value<<v>>>0,e(8>=N.g),p.g}function Bn(p,v,N){var M=p.xc;return e((v=M==0?0:p.vc[p.md*(N>>M)+(v>>M)])<p.Wb),p.Ya[v]}function lr(p,v,N,M){var U=p.ab,Y=p.c*v,G=p.C;v=G+v;var X=N,J=M;for(M=p.Ta,N=p.Ua;0<U--;){var re=p.gc[U],ue=G,_e=v,we=X,ye=J,Re=(J=M,X=N,re.Ea);switch(e(ue<_e),e(_e<=re.nc),re.hc){case 2:tg(we,ye,(_e-ue)*Re,J,X);break;case 0:var Ee=ue,he=_e,pe=J,Ie=X,Le=(Qe=re).Ea;Ee==0&&(Ty(we,ye,null,null,1,pe,Ie),Xe(we,ye+1,0,0,Le-1,pe,Ie+1),ye+=Le,Ie+=Le,++Ee);for(var De=1<<Qe.b,et=De-1,Ge=Fe(Le,Qe.b),mt=Qe.K,Qe=Qe.w+(Ee>>Qe.b)*Ge;Ee<he;){var Kt=mt,rn=Qe,Ut=1;for(vf(we,ye,pe,Ie-Le,1,pe,Ie);Ut<Le;){var Lt=(Ut&~et)+De;Lt>Le&&(Lt=Le),(0,xl[Kt[rn++]>>8&15])(we,ye+ +Ut,pe,Ie+Ut-Le,Lt-Ut,pe,Ie+Ut),Ut=Lt}ye+=Le,Ie+=Le,++Ee&et||(Qe+=Ge)}_e!=re.nc&&r(J,X-Re,J,X+(_e-ue-1)*Re,Re);break;case 1:for(Re=we,he=ye,Le=(we=re.Ea)-(Ie=we&~(pe=(ye=1<<re.b)-1)),Ee=Fe(we,re.b),De=re.K,re=re.w+(ue>>re.b)*Ee;ue<_e;){for(et=De,Ge=re,mt=new He,Qe=he+Ie,Kt=he+we;he<Qe;)At(et[Ge++],mt),ru(mt,Re,he,ye,J,X),he+=ye,X+=ye;he<Kt&&(At(et[Ge++],mt),ru(mt,Re,he,Le,J,X),he+=Le,X+=Le),++ue&pe||(re+=Ee)}break;case 3:if(we==J&&ye==X&&0<re.b){for(he=J,we=Re=X+(_e-ue)*Re-(Ie=(_e-ue)*Fe(re.Ea,re.b)),ye=J,pe=X,Ee=[],Ie=(Le=Ie)-1;0<=Ie;--Ie)Ee[Ie]=ye[pe+Ie];for(Ie=Le-1;0<=Ie;--Ie)he[we+Ie]=Ee[Ie];ds(re,ue,_e,J,Re,J,X)}else ds(re,ue,_e,we,ye,J,X)}X=M,J=N}J!=N&&r(M,N,X,J,Y)}function il(p,v){var N=p.V,M=p.Ba+p.c*p.C,U=v-p.C;if(e(v<=p.l.o),e(16>=U),0<U){var Y=p.l,G=p.Ta,X=p.Ua,J=Y.width;if(lr(p,U,N,M),U=X=[X],e((N=p.C)<(M=v)),e(Y.v<Y.va),M>Y.o&&(M=Y.o),N<Y.j){var re=Y.j-N;N=Y.j,U[0]+=re*J}if(N>=M?N=0:(U[0]+=4*Y.v,Y.ka=N-Y.j,Y.U=Y.va-Y.v,Y.T=M-N,N=1),N){if(X=X[0],11>(N=p.ca).S){var ue=N.f.RGBA,_e=(M=N.S,U=Y.U,Y=Y.T,re=ue.eb,ue.A),we=Y;for(ue=ue.fb+p.Ma*ue.A;0<we--;){var ye=G,Re=X,Ee=U,he=re,pe=ue;switch(M){case ag:Ii(ye,Re,Ee,he,pe);break;case lg:mi(ye,Re,Ee,he,pe);break;case Iy:mi(ye,Re,Ee,he,pe),ms(he,pe,0,Ee,1,0);break;case Kx:ma(ye,Re,Ee,he,pe);break;case cg:_n(ye,Re,Ee,he,pe,1);break;case Dy:_n(ye,Re,Ee,he,pe,1),ms(he,pe,0,Ee,1,0);break;case ug:_n(ye,Re,Ee,he,pe,0);break;case hg:_n(ye,Re,Ee,he,pe,0),ms(he,pe,1,Ee,1,0);break;case Ny:Sl(ye,Re,Ee,he,pe);break;case Ry:Sl(ye,Re,Ee,he,pe),bn(he,pe,Ee,1,0);break;case Qx:pa(ye,Re,Ee,he,pe);break;default:e(0)}X+=J,ue+=_e}p.Ma+=Y}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=N.height)}}p.C=v,e(p.C<=p.i)}function Rs(p){var v;if(0<p.ua)return 0;for(v=0;v<p.Wb;++v){var N=p.Ya[v].G,M=p.Ya[v].H;if(0<N[1][M[1]+0].g||0<N[2][M[2]+0].g||0<N[3][M[3]+0].g)return 0}return 1}function Yr(p,v,N,M,U,Y){if(p.Z!=0){var G=p.qd,X=p.rd;for(e(Pl[p.Z]!=null);v<N;++v)Pl[p.Z](G,X,M,U,M,U,Y),G=M,X=U,U+=Y;p.qd=G,p.rd=X}}function Ti(p,v){var N=p.l.ma,M=N.Z==0||N.Z==1?p.l.j:p.C;if(M=p.C<M?M:p.C,e(v<=p.l.o),v>M){var U=p.l.width,Y=N.ca,G=N.tb+U*M,X=p.V,J=p.Ba+p.c*M,re=p.gc;e(p.ab==1),e(re[0].hc==3),ng(re[0],M,v,X,J,Y,G),Yr(N,M,v,Y,G,U)}p.C=p.Ma=v}function di(p,v,N,M,U,Y,G){var X=p.$/M,J=p.$%M,re=p.m,ue=p.s,_e=N+p.$,we=_e;U=N+M*U;var ye=N+M*Y,Re=280+ue.ua,Ee=p.Pb?X:16777216,he=0<ue.ua?ue.Wa:null,pe=ue.wc,Ie=_e<ye?Bn(ue,J,X):null;e(p.C<Y),e(ye<=U);var Le=!1;e:for(;;){for(;Le||_e<ye;){var De=0;if(X>=Ee){var et=_e-N;e((Ee=p).Pb),Ee.wd=Ee.m,Ee.xd=et,0<Ee.s.ua&&xe(Ee.s.Wa,Ee.s.vb),Ee=X+MD}if(J&pe||(Ie=Bn(ue,J,X)),e(Ie!=null),Ie.Qb&&(v[_e]=Ie.qb,Le=!0),!Le)if(se(re),Ie.jc){De=re,et=v;var Ge=_e,mt=Ie.pd[z(De)&Lr-1];e(Ie.jc),256>mt.g?(ne(De,De.u+mt.g),et[Ge]=mt.value,De=0):(ne(De,De.u+mt.g-256),e(256<=mt.value),De=mt.value),De==0&&(Le=!0)}else De=ar(Ie.G[0],Ie.H[0],re);if(re.h)break;if(Le||256>De){if(!Le)if(Ie.nd)v[_e]=(Ie.qb|De<<8)>>>0;else{if(se(re),Le=ar(Ie.G[1],Ie.H[1],re),se(re),et=ar(Ie.G[2],Ie.H[2],re),Ge=ar(Ie.G[3],Ie.H[3],re),re.h)break;v[_e]=(Ge<<24|Le<<16|De<<8|et)>>>0}if(Le=!1,++_e,++J>=M&&(J=0,++X,G!=null&&X<=Y&&!(X%16)&&G(p,X),he!=null))for(;we<_e;)De=v[we++],he.X[(506832829*De&4294967295)>>>he.Mb]=De}else if(280>De){if(De=Pi(De-256,re),et=ar(Ie.G[4],Ie.H[4],re),se(re),et=$r(M,et=Pi(et,re)),re.h)break;if(_e-N<et||U-_e<De)break e;for(Ge=0;Ge<De;++Ge)v[_e+Ge]=v[_e+Ge-et];for(_e+=De,J+=De;J>=M;)J-=M,++X,G!=null&&X<=Y&&!(X%16)&&G(p,X);if(e(_e<=U),J&pe&&(Ie=Bn(ue,J,X)),he!=null)for(;we<_e;)De=v[we++],he.X[(506832829*De&4294967295)>>>he.Mb]=De}else{if(!(De<Re))break e;for(Le=De-280,e(he!=null);we<_e;)De=v[we++],he.X[(506832829*De&4294967295)>>>he.Mb]=De;De=_e,e(!(Le>>>(et=he).Xa)),v[De]=et.X[Le],Le=!0}Le||e(re.h==Z(re))}if(p.Pb&&re.h&&_e<U)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&xe(p.s.vb,p.s.Wa);else{if(re.h)break e;G!=null&&G(p,X>Y?Y:X),p.a=0,p.$=_e-N}return 1}return p.a=3,0}function fi(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var v=p.Wa;v!=null&&(v.X=null),p.vb=null,e(p!=null)}function Kn(){var p=new Sh;return p==null?null:(p.a=0,p.xb=Zx,cs("Predictor","VP8LPredictors"),cs("Predictor","VP8LPredictors_C"),cs("PredictorAdd","VP8LPredictorsAdd"),cs("PredictorAdd","VP8LPredictorsAdd_C"),tg=ot,ru=dt,Ii=$e,mi=Vt,Sl=Ct,pa=Nr,ma=Gt,y.VP8LMapColor32b=Th,y.VP8LMapColor8b=rg,p)}function $i(p,v,N,M,U){var Y=1,G=[p],X=[v],J=M.m,re=M.s,ue=null,_e=0;e:for(;;){if(N)for(;Y&&oe(J,1);){var we=G,ye=X,Re=M,Ee=1,he=Re.m,pe=Re.gc[Re.ab],Ie=oe(he,2);if(Re.Oc&1<<Ie)Y=0;else{switch(Re.Oc|=1<<Ie,pe.hc=Ie,pe.Ea=we[0],pe.nc=ye[0],pe.K=[null],++Re.ab,e(4>=Re.ab),Ie){case 0:case 1:pe.b=oe(he,3)+2,Ee=$i(Fe(pe.Ea,pe.b),Fe(pe.nc,pe.b),0,Re,pe.K),pe.K=pe.K[0];break;case 3:var Le,De=oe(he,8)+1,et=16<De?0:4<De?1:2<De?2:3;if(we[0]=Fe(pe.Ea,et),pe.b=et,Le=Ee=$i(De,1,0,Re,pe.K)){var Ge,mt=De,Qe=pe,Kt=1<<(8>>Qe.b),rn=s(Kt);if(rn==null)Le=0;else{var Ut=Qe.K[0],Lt=Qe.w;for(rn[0]=Qe.K[0][0],Ge=1;Ge<1*mt;++Ge)rn[Ge]=Ce(Ut[Lt+Ge],rn[Ge-1]);for(;Ge<4*Kt;++Ge)rn[Ge]=0;Qe.K[0]=null,Qe.K[0]=rn,Le=1}}Ee=Le;break;case 2:break;default:e(0)}Y=Ee}}if(G=G[0],X=X[0],Y&&oe(J,1)&&!(Y=1<=(_e=oe(J,4))&&11>=_e)){M.a=3;break e}var mn;if(mn=Y)t:{var dn,Tt,cr,Di=M,ur=G,Ri=X,sn=_e,Xi=N,Ji=Di.m,Sr=Di.s,Mr=[null],vi=1,ys=0,So=LD[sn];n:for(;;){if(Xi&&oe(Ji,1)){var Er=oe(Ji,3)+2,_a=Fe(ur,Er),lu=Fe(Ri,Er),Rh=_a*lu;if(!$i(_a,lu,0,Di,Mr))break n;for(Mr=Mr[0],Sr.xc=Er,dn=0;dn<Rh;++dn){var Tl=Mr[dn]>>8&65535;Mr[dn]=Tl,Tl>=vi&&(vi=Tl+1)}}if(Ji.h)break n;for(Tt=0;5>Tt;++Tt){var zn=Xx[Tt];!Tt&&0<sn&&(zn+=1<<sn),ys<zn&&(ys=zn)}var Fy=o(vi*So,P),aS=vi,lS=o(aS,$);if(lS==null)var mg=null;else e(65536>=aS),mg=lS;var Ef=s(ys);if(mg==null||Ef==null||Fy==null){Di.a=1;break n}var gg=Fy;for(dn=cr=0;dn<vi;++dn){var Ws=mg[dn],Lh=Ws.G,Mh=Ws.H,cS=0,vg=1,uS=0;for(Tt=0;5>Tt;++Tt){zn=Xx[Tt],Lh[Tt]=gg,Mh[Tt]=cr,!Tt&&0<sn&&(zn+=1<<sn);i:{var yg,jy=zn,_g=Di,kf=Ef,tR=gg,nR=cr,Vy=0,Cl=_g.m,rR=oe(Cl,1);if(i(kf,0,0,jy),rR){var iR=oe(Cl,1)+1,sR=oe(Cl,1),hS=oe(Cl,sR==0?1:8);kf[hS]=1,iR==2&&(kf[hS=oe(Cl,8)]=1);var wg=1}else{var dS=s(19),fS=oe(Cl,4)+4;if(19<fS){_g.a=3;var bg=0;break i}for(yg=0;yg<fS;++yg)dS[DD[yg]]=oe(Cl,3);var By=void 0,Af=void 0,pS=_g,oR=dS,xg=jy,mS=kf,Uy=0,Nl=pS.m,gS=8,vS=o(128,P);r:for(;k(vS,0,7,oR,19);){if(oe(Nl,1)){var aR=2+2*oe(Nl,3);if((By=2+oe(Nl,aR))>xg)break r}else By=xg;for(Af=0;Af<xg&&By--;){se(Nl);var yS=vS[0+(127&z(Nl))];ne(Nl,Nl.u+yS.g);var Oh=yS.value;if(16>Oh)mS[Af++]=Oh,Oh!=0&&(gS=Oh);else{var lR=Oh==16,_S=Oh-16,cR=ND[_S],wS=oe(Nl,CD[_S])+cR;if(Af+wS>xg)break r;for(var uR=lR?gS:0;0<wS--;)mS[Af++]=uR}}Uy=1;break r}Uy||(pS.a=3),wg=Uy}(wg=wg&&!Cl.h)&&(Vy=k(tR,nR,8,kf,jy)),wg&&Vy!=0?bg=Vy:(_g.a=3,bg=0)}if(bg==0)break n;if(vg&&ID[Tt]==1&&(vg=gg[cr].g==0),cS+=gg[cr].g,cr+=bg,3>=Tt){var Pf,zy=Ef[0];for(Pf=1;Pf<zn;++Pf)Ef[Pf]>zy&&(zy=Ef[Pf]);uS+=zy}}if(Ws.nd=vg,Ws.Qb=0,vg&&(Ws.qb=(Lh[3][Mh[3]+0].value<<24|Lh[1][Mh[1]+0].value<<16|Lh[2][Mh[2]+0].value)>>>0,cS==0&&256>Lh[0][Mh[0]+0].value&&(Ws.Qb=1,Ws.qb+=Lh[0][Mh[0]+0].value<<8)),Ws.jc=!Ws.Qb&&6>uS,Ws.jc){var Sg,wa=Ws;for(Sg=0;Sg<Lr;++Sg){var Il=Sg,Dl=wa.pd[Il],Eg=wa.G[0][wa.H[0]+Il];256<=Eg.value?(Dl.g=Eg.g+256,Dl.value=Eg.value):(Dl.g=0,Dl.value=0,Il>>=Gn(Eg,8,Dl),Il>>=Gn(wa.G[1][wa.H[1]+Il],16,Dl),Il>>=Gn(wa.G[2][wa.H[2]+Il],0,Dl),Gn(wa.G[3][wa.H[3]+Il],24,Dl))}}}Sr.vc=Mr,Sr.Wb=vi,Sr.Ya=mg,Sr.yc=Fy,mn=1;break t}mn=0}if(!(Y=mn)){M.a=3;break e}if(0<_e){if(re.ua=1<<_e,!qe(re.Wa,_e)){M.a=1,Y=0;break e}}else re.ua=0;var Wy=M,bS=G,hR=X,Hy=Wy.s,qy=Hy.xc;if(Wy.c=bS,Wy.i=hR,Hy.md=Fe(bS,qy),Hy.wc=qy==0?-1:(1<<qy)-1,N){M.xb=zD;break e}if((ue=s(G*X))==null){M.a=1,Y=0;break e}Y=(Y=di(M,ue,0,G,X,X,null))&&!J.h;break e}return Y?(U!=null?U[0]=ue:(e(ue==null),e(N)),M.$=0,N||fi(re)):fi(re),Y}function uo(p,v){var N=p.c*p.i,M=N+v+16*v;return e(p.c<=v),p.V=s(M),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+N+v,1)}function ho(p,v){var N=p.C,M=v-N,U=p.V,Y=p.Ba+p.c*N;for(e(v<=p.l.o);0<M;){var G=16<M?16:M,X=p.l.ma,J=p.l.width,re=J*G,ue=X.ca,_e=X.tb+J*N,we=p.Ta,ye=p.Ua;lr(p,G,U,Y),Xn(we,ye,ue,_e,re),Yr(X,N,N+G,ue,_e,J),M-=G,U+=G*p.c,N+=G}e(N==v),p.C=p.Ma=v}function fo(){this.ub=this.yd=this.td=this.Rb=0}function ra(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ia(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function fh(){this.Yb=function(){var p=[];return function v(N,M,U){for(var Y=U[M],G=0;G<Y&&(N.push(U.length>M+1?[]:0),!(U.length<M+1));G++)v(N[G],M+1,U)}(p,0,[3,11]),p}()}function sl(){this.jb=s(3),this.Wc=a([4,8],fh),this.Xc=a([4,17],fh)}function ph(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function po(){this.ld=this.La=this.dd=this.tc=0}function mo(){this.Na=this.la=0}function Ls(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function sa(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function uf(){this.uc=this.M=this.Nb=0,this.wa=Array(new po),this.Y=0,this.ya=Array(new sa),this.aa=0,this.l=new oa}function Wc(){this.y=s(16),this.f=s(8),this.ea=s(8)}function mh(){this.cb=this.a=0,this.sc="",this.m=new le,this.Od=new fo,this.Kc=new ra,this.ed=new ph,this.Qa=new ia,this.Ic=this.$c=this.Aa=0,this.D=new uf,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,le),this.ia=0,this.pb=o(4,Ls),this.Pa=new sl,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Wc),this.Hd=0,this.rb=Array(new mo),this.sb=0,this.wa=Array(new po),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new sa),this.L=this.aa=0,this.gd=a([4,2],po),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function oa(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Hc(){var p=new mh;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,xf||(xf=gh)),p}function kn(p,v,N){return p.a==0&&(p.a=v,p.sc=N,p.cb=0),0}function qc(p,v,N){return 3<=N&&p[v+0]==157&&p[v+1]==1&&p[v+2]==42}function $c(p,v){if(p==null)return 0;if(p.a=0,p.sc="OK",v==null)return kn(p,2,"null VP8Io passed to VP8GetHeaders()");var N=v.data,M=v.w,U=v.ha;if(4>U)return kn(p,7,"Truncated header.");var Y=N[M+0]|N[M+1]<<8|N[M+2]<<16,G=p.Od;if(G.Rb=!(1&Y),G.td=Y>>1&7,G.yd=Y>>4&1,G.ub=Y>>5,3<G.td)return kn(p,3,"Incorrect keyframe parameters.");if(!G.yd)return kn(p,4,"Frame not displayable.");M+=3,U-=3;var X=p.Kc;if(G.Rb){if(7>U)return kn(p,7,"cannot parse picture header");if(!qc(N,M,U))return kn(p,3,"Bad code word");X.c=16383&(N[M+4]<<8|N[M+3]),X.Td=N[M+4]>>6,X.i=16383&(N[M+6]<<8|N[M+5]),X.Ud=N[M+6]>>6,M+=7,U-=7,p.za=X.c+15>>4,p.Ub=X.i+15>>4,v.width=X.c,v.height=X.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,i((Y=p.Pa).jb,0,255,Y.jb.length),e((Y=p.Qa)!=null),Y.Cb=0,Y.Bb=0,Y.Fb=1,i(Y.Zb,0,0,Y.Zb.length),i(Y.Lb,0,0,Y.Lb)}if(G.ub>U)return kn(p,7,"bad partition length");te(Y=p.m,N,M,G.ub),M+=G.ub,U-=G.ub,G.Rb&&(X.Ld=de(Y),X.Kd=de(Y)),X=p.Qa;var J,re=p.Pa;if(e(Y!=null),e(X!=null),X.Cb=de(Y),X.Cb){if(X.Bb=de(Y),de(Y)){for(X.Fb=de(Y),J=0;4>J;++J)X.Zb[J]=de(Y)?q(Y,7):0;for(J=0;4>J;++J)X.Lb[J]=de(Y)?q(Y,6):0}if(X.Bb)for(J=0;3>J;++J)re.jb[J]=de(Y)?K(Y,8):255}else X.Bb=0;if(Y.Ka)return kn(p,3,"cannot parse segment header");if((X=p.ed).zd=de(Y),X.Tb=K(Y,6),X.wb=K(Y,3),X.Pc=de(Y),X.Pc&&de(Y)){for(re=0;4>re;++re)de(Y)&&(X.vd[re]=q(Y,6));for(re=0;4>re;++re)de(Y)&&(X.od[re]=q(Y,6))}if(p.L=X.Tb==0?0:X.zd?1:2,Y.Ka)return kn(p,3,"cannot parse filter header");var ue=U;if(U=J=M,M=J+ue,X=ue,p.Xb=(1<<K(p.m,2))-1,ue<3*(re=p.Xb))N=7;else{for(J+=3*re,X-=3*re,ue=0;ue<re;++ue){var _e=N[U+0]|N[U+1]<<8|N[U+2]<<16;_e>X&&(_e=X),te(p.Jc[+ue],N,J,_e),J+=_e,X-=_e,U+=3}te(p.Jc[+re],N,J,X),N=J<M?0:5}if(N!=0)return kn(p,N,"cannot parse partitions");for(N=K(J=p.m,7),U=de(J)?q(J,4):0,M=de(J)?q(J,4):0,X=de(J)?q(J,4):0,re=de(J)?q(J,4):0,J=de(J)?q(J,4):0,ue=p.Qa,_e=0;4>_e;++_e){if(ue.Cb){var we=ue.Zb[_e];ue.Fb||(we+=N)}else{if(0<_e){p.pb[_e]=p.pb[0];continue}we=N}var ye=p.pb[_e];ye.Sc[0]=Ly[Jt(we+U,127)],ye.Sc[1]=My[Jt(we+0,127)],ye.Eb[0]=2*Ly[Jt(we+M,127)],ye.Eb[1]=101581*My[Jt(we+X,127)]>>16,8>ye.Eb[1]&&(ye.Eb[1]=8),ye.Qc[0]=Ly[Jt(we+re,117)],ye.Qc[1]=My[Jt(we+J,127)],ye.lc=we+J}if(!G.Rb)return kn(p,4,"Not a key frame.");for(de(Y),G=p.Pa,N=0;4>N;++N){for(U=0;8>U;++U)for(M=0;3>M;++M)for(X=0;11>X;++X)re=ge(Y,BD[N][U][M][X])?K(Y,8):jD[N][U][M][X],G.Wc[N][U].Yb[M][X]=re;for(U=0;17>U;++U)G.Xc[N][U]=G.Wc[N][UD[U]]}return p.kc=de(Y),p.kc&&(p.Bd=K(Y,8)),p.cb=1}function gh(p,v,N,M,U,Y,G){var X=v[U].Yb[N];for(N=0;16>U;++U){if(!ge(p,X[N+0]))return U;for(;!ge(p,X[N+1]);)if(X=v[++U].Yb[0],N=0,U==16)return 16;var J=v[U+1].Yb;if(ge(p,X[N+2])){var re=p,ue=0;if(ge(re,(we=X)[(_e=N)+3]))if(ge(re,we[_e+6])){for(X=0,_e=2*(ue=ge(re,we[_e+8]))+(we=ge(re,we[_e+9+ue])),ue=0,we=OD[_e];we[X];++X)ue+=ue+ge(re,we[X]);ue+=3+(8<<_e)}else ge(re,we[_e+7])?(ue=7+2*ge(re,165),ue+=ge(re,145)):ue=5+ge(re,159);else ue=ge(re,we[_e+4])?3+ge(re,we[_e+5]):2;X=J[2]}else ue=1,X=J[1];J=G+FD[U],0>(re=p).b&&fe(re);var _e,we=re.b,ye=(_e=re.Ca>>1)-(re.I>>we)>>31;--re.b,re.Ca+=ye,re.Ca|=1,re.I-=(_e+1&ye)<<we,Y[J]=((ue^ye)-ye)*M[(0<U)+0]}return 16}function Yc(p){var v=p.rb[p.sb-1];v.la=0,v.Na=0,i(p.zc,0,0,p.zc.length),p.ja=0}function vh(p,v){if(p==null)return 0;if(v==null)return kn(p,2,"NULL VP8Io parameter in VP8Decode().");if(!p.cb&&!$c(p,v))return 0;if(e(p.cb),v.ac==null||v.ac(v)){v.ob&&(p.L=0);var N=pg[p.L];if(p.L==2?(p.yb=0,p.zb=0):(p.yb=v.v-N>>4,p.zb=v.j-N>>4,0>p.yb&&(p.yb=0),0>p.zb&&(p.zb=0)),p.Va=v.o+15+N>>4,p.Hb=v.va+15+N>>4,p.Hb>p.za&&(p.Hb=p.za),p.Va>p.Ub&&(p.Va=p.Ub),0<p.L){var M=p.ed;for(N=0;4>N;++N){var U;if(p.Qa.Cb){var Y=p.Qa.Lb[N];p.Qa.Fb||(Y+=M.Tb)}else Y=M.Tb;for(U=0;1>=U;++U){var G=p.gd[N][U],X=Y;if(M.Pc&&(X+=M.vd[0],U&&(X+=M.od[0])),0<(X=0>X?0:63<X?63:X)){var J=X;0<M.wb&&(J=4<M.wb?J>>2:J>>1)>9-M.wb&&(J=9-M.wb),1>J&&(J=1),G.dd=J,G.tc=2*X+J,G.ld=40<=X?2:15<=X?1:0}else G.tc=0;G.La=U}}}N=0}else kn(p,6,"Frame setup failed"),N=p.a;if(N=N==0){if(N){p.$c=0,0<p.Aa||(p.Ic=eR);e:{N=p.Ic,M=4*(J=p.za);var re=32*J,ue=J+1,_e=0<p.L?J*(0<p.Aa?2:1):0,we=(p.Aa==2?2:1)*J;if((G=M+832+(U=3*(16*N+pg[p.L])/2*re)+(Y=p.Fa!=null&&0<p.Fa.length?p.Kc.c*p.Kc.i:0))!=G)N=0;else{if(G>p.Vb){if(p.Vb=0,p.Ec=s(G),p.Fc=0,p.Ec==null){N=kn(p,1,"no memory during frame initialization.");break e}p.Vb=G}G=p.Ec,X=p.Fc,p.Ac=G,p.Bc=X,X+=M,p.Gd=o(re,Wc),p.Hd=0,p.rb=o(ue+1,mo),p.sb=1,p.wa=_e?o(_e,po):null,p.Y=0,p.D.Nb=0,p.D.wa=p.wa,p.D.Y=p.Y,0<p.Aa&&(p.D.Y+=J),e(!0),p.oc=G,p.pc=X,X+=832,p.ya=o(we,sa),p.aa=0,p.D.ya=p.ya,p.D.aa=p.aa,p.Aa==2&&(p.D.aa+=J),p.R=16*J,p.B=8*J,J=(re=pg[p.L])*p.R,re=re/2*p.B,p.sa=G,p.ta=X+J,p.qa=p.sa,p.ra=p.ta+16*N*p.R+re,p.Ha=p.qa,p.Ia=p.ra+8*N*p.B+re,p.$c=0,X+=U,p.mb=Y?G:null,p.nb=Y?X:null,e(X+Y<=p.Fc+p.Vb),Yc(p),i(p.Ac,p.Bc,0,M),N=1}}if(N){if(v.ka=0,v.y=p.sa,v.O=p.ta,v.f=p.qa,v.N=p.ra,v.ea=p.Ha,v.Vd=p.Ia,v.fa=p.R,v.Rc=p.B,v.F=null,v.J=0,!sg){for(N=-255;255>=N;++N)gr[255+N]=0>N?-N:N;for(N=-1020;1020>=N;++N)va[1020+N]=-128>N?-128:127<N?127:N;for(N=-112;112>=N;++N)bf[112+N]=-16>N?-16:15<N?15:N;for(N=-255;510>=N;++N)Dh[255+N]=0>N?0:255<N?255:N;sg=1}Ch=ca,ga=al,yf=Gc,gi=nn,fs=la,Qn=aa,Nh=pl,ig=Vs,_f=gl,iu=nu,su=ml,El=ha,ou=vl,Ih=_o,au=ua,kl=Ki,wf=mr,ps=xh,zs[0]=hs,zs[1]=hf,zs[2]=vo,zs[3]=ff,zs[4]=wh,zs[5]=ul,zs[6]=Yi,zs[7]=Qc,zs[8]=dl,zs[9]=hl,Al[0]=go,Al[1]=df,Al[2]=Os,Al[3]=ll,Al[4]=An,Al[5]=_h,Al[6]=Kc,ya[0]=js,ya[1]=yh,ya[2]=bh,ya[3]=Fs,ya[4]=Xt,ya[5]=Xc,ya[6]=Jc,N=1}else N=0}N&&(N=function(ye,Re){for(ye.M=0;ye.M<ye.Va;++ye.M){var Ee,he=ye.Jc[ye.M&ye.Xb],pe=ye.m,Ie=ye;for(Ee=0;Ee<Ie.za;++Ee){var Le=pe,De=Ie,et=De.Ac,Ge=De.Bc+4*Ee,mt=De.zc,Qe=De.ya[De.aa+Ee];if(De.Qa.Bb?Qe.$b=ge(Le,De.Pa.jb[0])?2+ge(Le,De.Pa.jb[2]):ge(Le,De.Pa.jb[1]):Qe.$b=0,De.kc&&(Qe.Ad=ge(Le,De.Bd)),Qe.Za=!ge(Le,145)+0,Qe.Za){var Kt=Qe.Ob,rn=0;for(De=0;4>De;++De){var Ut,Lt=mt[0+De];for(Ut=0;4>Ut;++Ut){Lt=VD[et[Ge+Ut]][Lt];for(var mn=Jx[ge(Le,Lt[0])];0<mn;)mn=Jx[2*mn+ge(Le,Lt[mn])];Lt=-mn,et[Ge+Ut]=Lt}r(Kt,rn,et,Ge,4),rn+=4,mt[0+De]=Lt}}else Lt=ge(Le,156)?ge(Le,128)?1:3:ge(Le,163)?2:0,Qe.Ob[0]=Lt,i(et,Ge,Lt,4),i(mt,0,Lt,4);Qe.Dd=ge(Le,142)?ge(Le,114)?ge(Le,183)?1:3:2:0}if(Ie.m.Ka)return kn(ye,7,"Premature end-of-partition0 encountered.");for(;ye.ja<ye.za;++ye.ja){if(Ie=he,Le=(pe=ye).rb[pe.sb-1],et=pe.rb[pe.sb+pe.ja],Ee=pe.ya[pe.aa+pe.ja],Ge=pe.kc?Ee.Ad:0)Le.la=et.la=0,Ee.Za||(Le.Na=et.Na=0),Ee.Hc=0,Ee.Gc=0,Ee.ia=0;else{var dn,Tt;if(Le=et,et=Ie,Ge=pe.Pa.Xc,mt=pe.ya[pe.aa+pe.ja],Qe=pe.pb[mt.$b],De=mt.ad,Kt=0,rn=pe.rb[pe.sb-1],Lt=Ut=0,i(De,Kt,0,384),mt.Za)var cr=0,Di=Ge[3];else{mn=s(16);var ur=Le.Na+rn.Na;if(ur=xf(et,Ge[1],ur,Qe.Eb,0,mn,0),Le.Na=rn.Na=(0<ur)+0,1<ur)Ch(mn,0,De,Kt);else{var Ri=mn[0]+3>>3;for(mn=0;256>mn;mn+=16)De[Kt+mn]=Ri}cr=1,Di=Ge[0]}var sn=15&Le.la,Xi=15&rn.la;for(mn=0;4>mn;++mn){var Ji=1&Xi;for(Ri=Tt=0;4>Ri;++Ri)sn=sn>>1|(Ji=(ur=xf(et,Di,ur=Ji+(1&sn),Qe.Sc,cr,De,Kt))>cr)<<7,Tt=Tt<<2|(3<ur?3:1<ur?2:De[Kt+0]!=0),Kt+=16;sn>>=4,Xi=Xi>>1|Ji<<7,Ut=(Ut<<8|Tt)>>>0}for(Di=sn,cr=Xi>>4,dn=0;4>dn;dn+=2){for(Tt=0,sn=Le.la>>4+dn,Xi=rn.la>>4+dn,mn=0;2>mn;++mn){for(Ji=1&Xi,Ri=0;2>Ri;++Ri)ur=Ji+(1&sn),sn=sn>>1|(Ji=0<(ur=xf(et,Ge[2],ur,Qe.Qc,0,De,Kt)))<<3,Tt=Tt<<2|(3<ur?3:1<ur?2:De[Kt+0]!=0),Kt+=16;sn>>=2,Xi=Xi>>1|Ji<<5}Lt|=Tt<<4*dn,Di|=sn<<4<<dn,cr|=(240&Xi)<<dn}Le.la=Di,rn.la=cr,mt.Hc=Ut,mt.Gc=Lt,mt.ia=43690&Lt?0:Qe.ia,Ge=!(Ut|Lt)}if(0<pe.L&&(pe.wa[pe.Y+pe.ja]=pe.gd[Ee.$b][Ee.Za],pe.wa[pe.Y+pe.ja].La|=!Ge),Ie.Ka)return kn(ye,7,"Premature end-of-file encountered.")}if(Yc(ye),pe=Re,Ie=1,Ee=(he=ye).D,Le=0<he.L&&he.M>=he.zb&&he.M<=he.Va,he.Aa==0)e:{if(Ee.M=he.M,Ee.uc=Le,bo(he,Ee),Ie=1,Ee=(Tt=he.D).Nb,Le=(Lt=pg[he.L])*he.R,et=Lt/2*he.B,mn=16*Ee*he.R,Ri=8*Ee*he.B,Ge=he.sa,mt=he.ta-Le+mn,Qe=he.qa,De=he.ra-et+Ri,Kt=he.Ha,rn=he.Ia-et+Ri,Xi=(sn=Tt.M)==0,Ut=sn>=he.Va-1,he.Aa==2&&bo(he,Tt),Tt.uc)for(Ji=(ur=he).D.M,e(ur.D.uc),Tt=ur.yb;Tt<ur.Hb;++Tt){cr=Tt,Di=Ji;var Sr=(Mr=(zn=ur).D).Nb;dn=zn.R;var Mr=Mr.wa[Mr.Y+cr],vi=zn.sa,ys=zn.ta+16*Sr*dn+16*cr,So=Mr.dd,Er=Mr.tc;if(Er!=0)if(e(3<=Er),zn.L==1)0<cr&&kl(vi,ys,dn,Er+4),Mr.La&&ps(vi,ys,dn,Er),0<Di&&au(vi,ys,dn,Er+4),Mr.La&&wf(vi,ys,dn,Er);else{var _a=zn.B,lu=zn.qa,Rh=zn.ra+8*Sr*_a+8*cr,Tl=zn.Ha,zn=zn.Ia+8*Sr*_a+8*cr;Sr=Mr.ld,0<cr&&(ig(vi,ys,dn,Er+4,So,Sr),iu(lu,Rh,Tl,zn,_a,Er+4,So,Sr)),Mr.La&&(El(vi,ys,dn,Er,So,Sr),Ih(lu,Rh,Tl,zn,_a,Er,So,Sr)),0<Di&&(Nh(vi,ys,dn,Er+4,So,Sr),_f(lu,Rh,Tl,zn,_a,Er+4,So,Sr)),Mr.La&&(su(vi,ys,dn,Er,So,Sr),ou(lu,Rh,Tl,zn,_a,Er,So,Sr))}}if(he.ia&&alert("todo:DitherRow"),pe.put!=null){if(Tt=16*sn,sn=16*(sn+1),Xi?(pe.y=he.sa,pe.O=he.ta+mn,pe.f=he.qa,pe.N=he.ra+Ri,pe.ea=he.Ha,pe.W=he.Ia+Ri):(Tt-=Lt,pe.y=Ge,pe.O=mt,pe.f=Qe,pe.N=De,pe.ea=Kt,pe.W=rn),Ut||(sn-=Lt),sn>pe.o&&(sn=pe.o),pe.F=null,pe.J=null,he.Fa!=null&&0<he.Fa.length&&Tt<sn&&(pe.J=bl(he,pe,Tt,sn-Tt),pe.F=he.mb,pe.F==null&&pe.F.length==0)){Ie=kn(he,3,"Could not decode alpha data.");break e}Tt<pe.j&&(Lt=pe.j-Tt,Tt=pe.j,e(!(1&Lt)),pe.O+=he.R*Lt,pe.N+=he.B*(Lt>>1),pe.W+=he.B*(Lt>>1),pe.F!=null&&(pe.J+=pe.width*Lt)),Tt<sn&&(pe.O+=pe.v,pe.N+=pe.v>>1,pe.W+=pe.v>>1,pe.F!=null&&(pe.J+=pe.v),pe.ka=Tt-pe.j,pe.U=pe.va-pe.v,pe.T=sn-Tt,Ie=pe.put(pe))}Ee+1!=he.Ic||Ut||(r(he.sa,he.ta-Le,Ge,mt+16*he.R,Le),r(he.qa,he.ra-et,Qe,De+8*he.B,et),r(he.Ha,he.Ia-et,Kt,rn+8*he.B,et))}if(!Ie)return kn(ye,6,"Output aborted.")}return 1}(p,v)),v.bc!=null&&v.bc(v),N&=1}return N?(p.cb=0,N):0}function Ci(p,v,N,M,U){U=p[v+N+32*M]+(U>>3),p[v+N+32*M]=-256&U?0>U?0:255:U}function ol(p,v,N,M,U,Y){Ci(p,v,0,N,M+U),Ci(p,v,1,N,M+Y),Ci(p,v,2,N,M-Y),Ci(p,v,3,N,M-U)}function Un(p){return(20091*p>>16)+p}function pi(p,v,N,M){var U,Y=0,G=s(16);for(U=0;4>U;++U){var X=p[v+0]+p[v+8],J=p[v+0]-p[v+8],re=(35468*p[v+4]>>16)-Un(p[v+12]),ue=Un(p[v+4])+(35468*p[v+12]>>16);G[Y+0]=X+ue,G[Y+1]=J+re,G[Y+2]=J-re,G[Y+3]=X-ue,Y+=4,v++}for(U=Y=0;4>U;++U)X=(p=G[Y+0]+4)+G[Y+8],J=p-G[Y+8],re=(35468*G[Y+4]>>16)-Un(G[Y+12]),Ci(N,M,0,0,X+(ue=Un(G[Y+4])+(35468*G[Y+12]>>16))),Ci(N,M,1,0,J+re),Ci(N,M,2,0,J-re),Ci(N,M,3,0,X-ue),Y++,M+=32}function aa(p,v,N,M){var U=p[v+0]+4,Y=35468*p[v+4]>>16,G=Un(p[v+4]),X=35468*p[v+1]>>16;ol(N,M,0,U+G,p=Un(p[v+1]),X),ol(N,M,1,U+Y,p,X),ol(N,M,2,U-Y,p,X),ol(N,M,3,U-G,p,X)}function al(p,v,N,M,U){pi(p,v,N,M),U&&pi(p,v+16,N,M+4)}function Gc(p,v,N,M){ga(p,v+0,N,M,1),ga(p,v+32,N,M+128,1)}function nn(p,v,N,M){var U;for(p=p[v+0]+4,U=0;4>U;++U)for(v=0;4>v;++v)Ci(N,M,v,U,p)}function la(p,v,N,M){p[v+0]&&gi(p,v+0,N,M),p[v+16]&&gi(p,v+16,N,M+4),p[v+32]&&gi(p,v+32,N,M+128),p[v+48]&&gi(p,v+48,N,M+128+4)}function ca(p,v,N,M){var U,Y=s(16);for(U=0;4>U;++U){var G=p[v+0+U]+p[v+12+U],X=p[v+4+U]+p[v+8+U],J=p[v+4+U]-p[v+8+U],re=p[v+0+U]-p[v+12+U];Y[0+U]=G+X,Y[8+U]=G-X,Y[4+U]=re+J,Y[12+U]=re-J}for(U=0;4>U;++U)G=(p=Y[0+4*U]+3)+Y[3+4*U],X=Y[1+4*U]+Y[2+4*U],J=Y[1+4*U]-Y[2+4*U],re=p-Y[3+4*U],N[M+0]=G+X>>3,N[M+16]=re+J>>3,N[M+32]=G-X>>3,N[M+48]=re-J>>3,M+=64}function Ms(p,v,N){var M,U=v-32,Y=Qi,G=255-p[U-1];for(M=0;M<N;++M){var X,J=Y,re=G+p[v-1];for(X=0;X<N;++X)p[v+X]=J[re+p[U+X]];v+=32}}function hf(p,v){Ms(p,v,4)}function yh(p,v){Ms(p,v,8)}function df(p,v){Ms(p,v,16)}function Os(p,v){var N;for(N=0;16>N;++N)r(p,v+32*N,p,v-32,16)}function ll(p,v){var N;for(N=16;0<N;--N)i(p,v,p[v-1],16),v+=32}function cl(p,v,N){var M;for(M=0;16>M;++M)i(v,N+32*M,p,16)}function go(p,v){var N,M=16;for(N=0;16>N;++N)M+=p[v-1+32*N]+p[v+N-32];cl(M>>5,p,v)}function An(p,v){var N,M=8;for(N=0;16>N;++N)M+=p[v-1+32*N];cl(M>>4,p,v)}function _h(p,v){var N,M=8;for(N=0;16>N;++N)M+=p[v+N-32];cl(M>>4,p,v)}function Kc(p,v){cl(128,p,v)}function yt(p,v,N){return p+2*v+N+2>>2}function vo(p,v){var N,M=v-32;for(M=new Uint8Array([yt(p[M-1],p[M+0],p[M+1]),yt(p[M+0],p[M+1],p[M+2]),yt(p[M+1],p[M+2],p[M+3]),yt(p[M+2],p[M+3],p[M+4])]),N=0;4>N;++N)r(p,v+32*N,M,0,M.length)}function ff(p,v){var N=p[v-1],M=p[v-1+32],U=p[v-1+64],Y=p[v-1+96];Te(p,v+0,16843009*yt(p[v-1-32],N,M)),Te(p,v+32,16843009*yt(N,M,U)),Te(p,v+64,16843009*yt(M,U,Y)),Te(p,v+96,16843009*yt(U,Y,Y))}function hs(p,v){var N,M=4;for(N=0;4>N;++N)M+=p[v+N-32]+p[v-1+32*N];for(M>>=3,N=0;4>N;++N)i(p,v+32*N,M,4)}function wh(p,v){var N=p[v-1+0],M=p[v-1+32],U=p[v-1+64],Y=p[v-1-32],G=p[v+0-32],X=p[v+1-32],J=p[v+2-32],re=p[v+3-32];p[v+0+96]=yt(M,U,p[v-1+96]),p[v+1+96]=p[v+0+64]=yt(N,M,U),p[v+2+96]=p[v+1+64]=p[v+0+32]=yt(Y,N,M),p[v+3+96]=p[v+2+64]=p[v+1+32]=p[v+0+0]=yt(G,Y,N),p[v+3+64]=p[v+2+32]=p[v+1+0]=yt(X,G,Y),p[v+3+32]=p[v+2+0]=yt(J,X,G),p[v+3+0]=yt(re,J,X)}function Yi(p,v){var N=p[v+1-32],M=p[v+2-32],U=p[v+3-32],Y=p[v+4-32],G=p[v+5-32],X=p[v+6-32],J=p[v+7-32];p[v+0+0]=yt(p[v+0-32],N,M),p[v+1+0]=p[v+0+32]=yt(N,M,U),p[v+2+0]=p[v+1+32]=p[v+0+64]=yt(M,U,Y),p[v+3+0]=p[v+2+32]=p[v+1+64]=p[v+0+96]=yt(U,Y,G),p[v+3+32]=p[v+2+64]=p[v+1+96]=yt(Y,G,X),p[v+3+64]=p[v+2+96]=yt(G,X,J),p[v+3+96]=yt(X,J,J)}function ul(p,v){var N=p[v-1+0],M=p[v-1+32],U=p[v-1+64],Y=p[v-1-32],G=p[v+0-32],X=p[v+1-32],J=p[v+2-32],re=p[v+3-32];p[v+0+0]=p[v+1+64]=Y+G+1>>1,p[v+1+0]=p[v+2+64]=G+X+1>>1,p[v+2+0]=p[v+3+64]=X+J+1>>1,p[v+3+0]=J+re+1>>1,p[v+0+96]=yt(U,M,N),p[v+0+64]=yt(M,N,Y),p[v+0+32]=p[v+1+96]=yt(N,Y,G),p[v+1+32]=p[v+2+96]=yt(Y,G,X),p[v+2+32]=p[v+3+96]=yt(G,X,J),p[v+3+32]=yt(X,J,re)}function Qc(p,v){var N=p[v+0-32],M=p[v+1-32],U=p[v+2-32],Y=p[v+3-32],G=p[v+4-32],X=p[v+5-32],J=p[v+6-32],re=p[v+7-32];p[v+0+0]=N+M+1>>1,p[v+1+0]=p[v+0+64]=M+U+1>>1,p[v+2+0]=p[v+1+64]=U+Y+1>>1,p[v+3+0]=p[v+2+64]=Y+G+1>>1,p[v+0+32]=yt(N,M,U),p[v+1+32]=p[v+0+96]=yt(M,U,Y),p[v+2+32]=p[v+1+96]=yt(U,Y,G),p[v+3+32]=p[v+2+96]=yt(Y,G,X),p[v+3+64]=yt(G,X,J),p[v+3+96]=yt(X,J,re)}function hl(p,v){var N=p[v-1+0],M=p[v-1+32],U=p[v-1+64],Y=p[v-1+96];p[v+0+0]=N+M+1>>1,p[v+2+0]=p[v+0+32]=M+U+1>>1,p[v+2+32]=p[v+0+64]=U+Y+1>>1,p[v+1+0]=yt(N,M,U),p[v+3+0]=p[v+1+32]=yt(M,U,Y),p[v+3+32]=p[v+1+64]=yt(U,Y,Y),p[v+3+64]=p[v+2+64]=p[v+0+96]=p[v+1+96]=p[v+2+96]=p[v+3+96]=Y}function dl(p,v){var N=p[v-1+0],M=p[v-1+32],U=p[v-1+64],Y=p[v-1+96],G=p[v-1-32],X=p[v+0-32],J=p[v+1-32],re=p[v+2-32];p[v+0+0]=p[v+2+32]=N+G+1>>1,p[v+0+32]=p[v+2+64]=M+N+1>>1,p[v+0+64]=p[v+2+96]=U+M+1>>1,p[v+0+96]=Y+U+1>>1,p[v+3+0]=yt(X,J,re),p[v+2+0]=yt(G,X,J),p[v+1+0]=p[v+3+32]=yt(N,G,X),p[v+1+32]=p[v+3+64]=yt(M,N,G),p[v+1+64]=p[v+3+96]=yt(U,M,N),p[v+1+96]=yt(Y,U,M)}function bh(p,v){var N;for(N=0;8>N;++N)r(p,v+32*N,p,v-32,8)}function Fs(p,v){var N;for(N=0;8>N;++N)i(p,v,p[v-1],8),v+=32}function Gi(p,v,N){var M;for(M=0;8>M;++M)i(v,N+32*M,p,8)}function js(p,v){var N,M=8;for(N=0;8>N;++N)M+=p[v+N-32]+p[v-1+32*N];Gi(M>>4,p,v)}function Xc(p,v){var N,M=4;for(N=0;8>N;++N)M+=p[v+N-32];Gi(M>>3,p,v)}function Xt(p,v){var N,M=4;for(N=0;8>N;++N)M+=p[v-1+32*N];Gi(M>>3,p,v)}function Jc(p,v){Gi(128,p,v)}function fl(p,v,N){var M=p[v-N],U=p[v+0],Y=3*(U-M)+Cy[1020+p[v-2*N]-p[v+N]],G=og[112+(Y+4>>3)];p[v-N]=Qi[255+M+og[112+(Y+3>>3)]],p[v+0]=Qi[255+U-G]}function Zc(p,v,N,M){var U=p[v+0],Y=p[v+N];return gs[255+p[v-2*N]-p[v-N]]>M||gs[255+Y-U]>M}function eu(p,v,N,M){return 4*gs[255+p[v-N]-p[v+0]]+gs[255+p[v-2*N]-p[v+N]]<=M}function tu(p,v,N,M,U){var Y=p[v-3*N],G=p[v-2*N],X=p[v-N],J=p[v+0],re=p[v+N],ue=p[v+2*N],_e=p[v+3*N];return 4*gs[255+X-J]+gs[255+G-re]>M?0:gs[255+p[v-4*N]-Y]<=U&&gs[255+Y-G]<=U&&gs[255+G-X]<=U&&gs[255+_e-ue]<=U&&gs[255+ue-re]<=U&&gs[255+re-J]<=U}function ua(p,v,N,M){var U=2*M+1;for(M=0;16>M;++M)eu(p,v+M,N,U)&&fl(p,v+M,N)}function Ki(p,v,N,M){var U=2*M+1;for(M=0;16>M;++M)eu(p,v+M*N,1,U)&&fl(p,v+M*N,1)}function mr(p,v,N,M){var U;for(U=3;0<U;--U)ua(p,v+=4*N,N,M)}function xh(p,v,N,M){var U;for(U=3;0<U;--U)Ki(p,v+=4,N,M)}function yo(p,v,N,M,U,Y,G,X){for(Y=2*Y+1;0<U--;){if(tu(p,v,N,Y,G))if(Zc(p,v,N,X))fl(p,v,N);else{var J=p,re=v,ue=N,_e=J[re-2*ue],we=J[re-ue],ye=J[re+0],Re=J[re+ue],Ee=J[re+2*ue],he=27*(Ie=Cy[1020+3*(ye-we)+Cy[1020+_e-Re]])+63>>7,pe=18*Ie+63>>7,Ie=9*Ie+63>>7;J[re-3*ue]=Qi[255+J[re-3*ue]+Ie],J[re-2*ue]=Qi[255+_e+pe],J[re-ue]=Qi[255+we+he],J[re+0]=Qi[255+ye-he],J[re+ue]=Qi[255+Re-pe],J[re+2*ue]=Qi[255+Ee-Ie]}v+=M}}function Dr(p,v,N,M,U,Y,G,X){for(Y=2*Y+1;0<U--;){if(tu(p,v,N,Y,G))if(Zc(p,v,N,X))fl(p,v,N);else{var J=p,re=v,ue=N,_e=J[re-ue],we=J[re+0],ye=J[re+ue],Re=og[112+((Ee=3*(we-_e))+4>>3)],Ee=og[112+(Ee+3>>3)],he=Re+1>>1;J[re-2*ue]=Qi[255+J[re-2*ue]+he],J[re-ue]=Qi[255+_e+Ee],J[re+0]=Qi[255+we-Re],J[re+ue]=Qi[255+ye-he]}v+=M}}function pl(p,v,N,M,U,Y){yo(p,v,N,1,16,M,U,Y)}function Vs(p,v,N,M,U,Y){yo(p,v,1,N,16,M,U,Y)}function ml(p,v,N,M,U,Y){var G;for(G=3;0<G;--G)Dr(p,v+=4*N,N,1,16,M,U,Y)}function ha(p,v,N,M,U,Y){var G;for(G=3;0<G;--G)Dr(p,v+=4,1,N,16,M,U,Y)}function gl(p,v,N,M,U,Y,G,X){yo(p,v,U,1,8,Y,G,X),yo(N,M,U,1,8,Y,G,X)}function nu(p,v,N,M,U,Y,G,X){yo(p,v,1,U,8,Y,G,X),yo(N,M,1,U,8,Y,G,X)}function vl(p,v,N,M,U,Y,G,X){Dr(p,v+4*U,U,1,8,Y,G,X),Dr(N,M+4*U,U,1,8,Y,G,X)}function _o(p,v,N,M,U,Y,G,X){Dr(p,v+4,1,U,8,Y,G,X),Dr(N,M+4,1,U,8,Y,G,X)}function da(){this.ba=new Ir,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new wn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function yl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function fa(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function _l(){this.ua=0,this.Wa=new ie,this.vb=new ie,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new $,this.yc=new P}function Sh(){this.xb=this.a=0,this.l=new oa,this.ca=new Ir,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new j,this.Pb=0,this.wd=new j,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new _l,this.ab=0,this.gc=o(4,fa),this.Oc=0}function Bs(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new oa,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function wo(p,v,N,M,U,Y,G){for(p=p==null?0:p[v+0],v=0;v<G;++v)U[Y+v]=p+N[M+v]&255,p=U[Y+v]}function wl(p,v,N,M,U,Y,G){var X;if(p==null)wo(null,null,N,M,U,Y,G);else for(X=0;X<G;++X)U[Y+X]=p[v+X]+N[M+X]&255}function Gr(p,v,N,M,U,Y,G){if(p==null)wo(null,null,N,M,U,Y,G);else{var X,J=p[v+0],re=J,ue=J;for(X=0;X<G;++X)re=ue+(J=p[v+X])-re,ue=N[M+X]+(-256&re?0>re?0:255:re)&255,re=J,U[Y+X]=ue}}function bl(p,v,N,M){var U=v.width,Y=v.o;if(e(p!=null&&v!=null),0>N||0>=M||N+M>Y)return null;if(!p.Cc){if(p.ga==null){var G;if(p.ga=new Bs,(G=p.ga==null)||(G=v.width*v.o,e(p.Gb.length==0),p.Gb=s(G),p.Uc=0,p.Gb==null?G=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,G=1),G=!G),!G){G=p.ga;var X=p.Fa,J=p.P,re=p.qc,ue=p.mb,_e=p.nb,we=J+1,ye=re-1,Re=G.l;if(e(X!=null&&ue!=null&&v!=null),Pl[0]=null,Pl[1]=wo,Pl[2]=wl,Pl[3]=Gr,G.ca=ue,G.tb=_e,G.c=v.width,G.i=v.height,e(0<G.c&&0<G.i),1>=re)v=0;else if(G.$a=X[J+0]>>0&3,G.Z=X[J+0]>>2&3,G.Lc=X[J+0]>>4&3,J=X[J+0]>>6&3,0>G.$a||1<G.$a||4<=G.Z||1<G.Lc||J)v=0;else if(Re.put=qr,Re.ac=or,Re.bc=qi,Re.ma=G,Re.width=v.width,Re.height=v.height,Re.Da=v.Da,Re.v=v.v,Re.va=v.va,Re.j=v.j,Re.o=v.o,G.$a)e:{e(G.$a==1),v=Kn();t:for(;;){if(v==null){v=0;break e}if(e(G!=null),G.mc=v,v.c=G.c,v.i=G.i,v.l=G.l,v.l.ma=G,v.l.width=G.c,v.l.height=G.i,v.a=0,W(v.m,X,we,ye),!$i(G.c,G.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&Rs(v.s)?(G.ic=1,X=v.c*v.i,v.Ta=null,v.Ua=0,v.V=s(X),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(G.ic=0,v=uo(v,G.c)),!v))break t;v=1;break e}G.mc=null,v=0}else v=ye>=G.c*G.i;G=!v}if(G)return null;p.ga.Lc!=1?p.Ga=0:M=Y-N}e(p.ga!=null),e(N+M<=Y);e:{if(v=(X=p.ga).c,Y=X.l.o,X.$a==0){if(we=p.rc,ye=p.Vc,Re=p.Fa,J=p.P+1+N*v,re=p.mb,ue=p.nb+N*v,e(J<=p.P+p.qc),X.Z!=0)for(e(Pl[X.Z]!=null),G=0;G<M;++G)Pl[X.Z](we,ye,Re,J,re,ue,v),we=re,ye=ue,ue+=v,J+=v;else for(G=0;G<M;++G)r(re,ue,Re,J,v),we=re,ye=ue,ue+=v,J+=v;p.rc=we,p.Vc=ye}else{if(e(X.mc!=null),v=N+M,e((G=X.mc)!=null),e(v<=G.i),G.C>=v)v=1;else if(X.ic||ve(),X.ic){X=G.V,we=G.Ba,ye=G.c;var Ee=G.i,he=(Re=1,J=G.$/ye,re=G.$%ye,ue=G.m,_e=G.s,G.$),pe=ye*Ee,Ie=ye*v,Le=_e.wc,De=he<Ie?Bn(_e,re,J):null;e(he<=pe),e(v<=Ee),e(Rs(_e));t:for(;;){for(;!ue.h&&he<Ie;){if(re&Le||(De=Bn(_e,re,J)),e(De!=null),se(ue),256>(Ee=ar(De.G[0],De.H[0],ue)))X[we+he]=Ee,++he,++re>=ye&&(re=0,++J<=v&&!(J%16)&&Ti(G,J));else{if(!(280>Ee)){Re=0;break t}Ee=Pi(Ee-256,ue);var et,Ge=ar(De.G[4],De.H[4],ue);if(se(ue),!(he>=(Ge=$r(ye,Ge=Pi(Ge,ue)))&&pe-he>=Ee)){Re=0;break t}for(et=0;et<Ee;++et)X[we+he+et]=X[we+he+et-Ge];for(he+=Ee,re+=Ee;re>=ye;)re-=ye,++J<=v&&!(J%16)&&Ti(G,J);he<Ie&&re&Le&&(De=Bn(_e,re,J))}e(ue.h==Z(ue))}Ti(G,J>v?v:J);break t}!Re||ue.h&&he<pe?(Re=0,G.a=ue.h?5:3):G.$=he,v=Re}else v=di(G,G.V,G.Ba,G.c,G.i,v,ho);if(!v){M=0;break e}}N+M>=Y&&(p.Cc=1),M=1}if(!M)return null;if(p.Cc&&((M=p.ga)!=null&&(M.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+N*U}function A(p,v,N,M,U,Y){for(;0<U--;){var G,X=p,J=v+(N?1:0),re=p,ue=v+(N?0:3);for(G=0;G<M;++G){var _e=re[ue+4*G];_e!=255&&(_e*=32897,X[J+4*G+0]=X[J+4*G+0]*_e>>23,X[J+4*G+1]=X[J+4*G+1]*_e>>23,X[J+4*G+2]=X[J+4*G+2]*_e>>23)}v+=Y}}function B(p,v,N,M,U){for(;0<M--;){var Y;for(Y=0;Y<N;++Y){var G=p[v+2*Y+0],X=15&(re=p[v+2*Y+1]),J=4369*X,re=(240&re|re>>4)*J>>16;p[v+2*Y+0]=(240&G|G>>4)*J>>16&240|(15&G|G<<4)*J>>16>>4&15,p[v+2*Y+1]=240&re|X}v+=U}}function ae(p,v,N,M,U,Y,G,X){var J,re,ue=255;for(re=0;re<U;++re){for(J=0;J<M;++J){var _e=p[v+J];Y[G+4*J]=_e,ue&=_e}v+=N,G+=X}return ue!=255}function ce(p,v,N,M,U){var Y;for(Y=0;Y<U;++Y)N[M+Y]=p[v+Y]>>8}function ve(){ms=A,bn=B,xn=ae,Xn=ce}function ke(p,v,N){y[p]=function(M,U,Y,G,X,J,re,ue,_e,we,ye,Re,Ee,he,pe,Ie,Le){var De,et=Le-1>>1,Ge=X[J+0]|re[ue+0]<<16,mt=_e[we+0]|ye[Re+0]<<16;e(M!=null);var Qe=3*Ge+mt+131074>>2;for(v(M[U+0],255&Qe,Qe>>16,Ee,he),Y!=null&&(Qe=3*mt+Ge+131074>>2,v(Y[G+0],255&Qe,Qe>>16,pe,Ie)),De=1;De<=et;++De){var Kt=X[J+De]|re[ue+De]<<16,rn=_e[we+De]|ye[Re+De]<<16,Ut=Ge+Kt+mt+rn+524296,Lt=Ut+2*(Kt+mt)>>3;Qe=Lt+Ge>>1,Ge=(Ut=Ut+2*(Ge+rn)>>3)+Kt>>1,v(M[U+2*De-1],255&Qe,Qe>>16,Ee,he+(2*De-1)*N),v(M[U+2*De-0],255&Ge,Ge>>16,Ee,he+(2*De-0)*N),Y!=null&&(Qe=Ut+mt>>1,Ge=Lt+rn>>1,v(Y[G+2*De-1],255&Qe,Qe>>16,pe,Ie+(2*De-1)*N),v(Y[G+2*De+0],255&Ge,Ge>>16,pe,Ie+(2*De+0)*N)),Ge=Kt,mt=rn}1&Le||(Qe=3*Ge+mt+131074>>2,v(M[U+Le-1],255&Qe,Qe>>16,Ee,he+(Le-1)*N),Y!=null&&(Qe=3*mt+Ge+131074>>2,v(Y[G+Le-1],255&Qe,Qe>>16,pe,Ie+(Le-1)*N)))}}function Oe(){vs[ag]=WD,vs[lg]=eS,vs[Kx]=HD,vs[cg]=tS,vs[ug]=nS,vs[Ny]=rS,vs[Qx]=qD,vs[Iy]=eS,vs[Dy]=tS,vs[hg]=nS,vs[Ry]=rS}function Ke(p){return p&-16384?0>p?0:255:p>>$D}function m(p,v){return Ke((19077*p>>8)+(26149*v>>8)-14234)}function D(p,v,N){return Ke((19077*p>>8)-(6419*v>>8)-(13320*N>>8)+8708)}function F(p,v){return Ke((19077*p>>8)+(33050*v>>8)-17685)}function Q(p,v,N,M,U){M[U+0]=m(p,N),M[U+1]=D(p,v,N),M[U+2]=F(p,v)}function me(p,v,N,M,U){M[U+0]=F(p,v),M[U+1]=D(p,v,N),M[U+2]=m(p,N)}function be(p,v,N,M,U){var Y=D(p,v,N);v=Y<<3&224|F(p,v)>>3,M[U+0]=248&m(p,N)|Y>>5,M[U+1]=v}function je(p,v,N,M,U){var Y=240&F(p,v)|15;M[U+0]=240&m(p,N)|D(p,v,N)>>4,M[U+1]=Y}function St(p,v,N,M,U){M[U+0]=255,Q(p,v,N,M,U+1)}function Rt(p,v,N,M,U){me(p,v,N,M,U),M[U+3]=255}function Et(p,v,N,M,U){Q(p,v,N,M,U),M[U+3]=255}function Jt(p,v){return 0>p?0:p>v?v:p}function pn(p,v,N){y[p]=function(M,U,Y,G,X,J,re,ue,_e){for(var we=ue+(-2&_e)*N;ue!=we;)v(M[U+0],Y[G+0],X[J+0],re,ue),v(M[U+1],Y[G+0],X[J+0],re,ue+N),U+=2,++G,++J,ue+=2*N;1&_e&&v(M[U+0],Y[G+0],X[J+0],re,ue)}}function Us(p,v,N){return N==0?p==0?v==0?6:5:v==0?4:0:N}function Rr(p,v,N,M,U){switch(p>>>30){case 3:ga(v,N,M,U,0);break;case 2:Qn(v,N,M,U);break;case 1:gi(v,N,M,U)}}function bo(p,v){var N,M,U=v.M,Y=v.Nb,G=p.oc,X=p.pc+40,J=p.oc,re=p.pc+584,ue=p.oc,_e=p.pc+600;for(N=0;16>N;++N)G[X+32*N-1]=129;for(N=0;8>N;++N)J[re+32*N-1]=129,ue[_e+32*N-1]=129;for(0<U?G[X-1-32]=J[re-1-32]=ue[_e-1-32]=129:(i(G,X-32-1,127,21),i(J,re-32-1,127,9),i(ue,_e-32-1,127,9)),M=0;M<p.za;++M){var we=v.ya[v.aa+M];if(0<M){for(N=-1;16>N;++N)r(G,X+32*N-4,G,X+32*N+12,4);for(N=-1;8>N;++N)r(J,re+32*N-4,J,re+32*N+4,4),r(ue,_e+32*N-4,ue,_e+32*N+4,4)}var ye=p.Gd,Re=p.Hd+M,Ee=we.ad,he=we.Hc;if(0<U&&(r(G,X-32,ye[Re].y,0,16),r(J,re-32,ye[Re].f,0,8),r(ue,_e-32,ye[Re].ea,0,8)),we.Za){var pe=G,Ie=X-32+16;for(0<U&&(M>=p.za-1?i(pe,Ie,ye[Re].y[15],4):r(pe,Ie,ye[Re+1].y,0,4)),N=0;4>N;N++)pe[Ie+128+N]=pe[Ie+256+N]=pe[Ie+384+N]=pe[Ie+0+N];for(N=0;16>N;++N,he<<=2)pe=G,Ie=X+sS[N],zs[we.Ob[N]](pe,Ie),Rr(he,Ee,16*+N,pe,Ie)}else if(pe=Us(M,U,we.Ob[0]),Al[pe](G,X),he!=0)for(N=0;16>N;++N,he<<=2)Rr(he,Ee,16*+N,G,X+sS[N]);for(N=we.Gc,pe=Us(M,U,we.Dd),ya[pe](J,re),ya[pe](ue,_e),he=Ee,pe=J,Ie=re,255&(we=N>>0)&&(170&we?yf(he,256,pe,Ie):fs(he,256,pe,Ie)),we=ue,he=_e,255&(N>>=8)&&(170&N?yf(Ee,320,we,he):fs(Ee,320,we,he)),U<p.Ub-1&&(r(ye[Re].y,0,G,X+480,16),r(ye[Re].f,0,J,re+224,8),r(ye[Re].ea,0,ue,_e+224,8)),N=8*Y*p.B,ye=p.sa,Re=p.ta+16*M+16*Y*p.R,Ee=p.qa,we=p.ra+8*M+N,he=p.Ha,pe=p.Ia+8*M+N,N=0;16>N;++N)r(ye,Re+N*p.R,G,X+32*N,16);for(N=0;8>N;++N)r(Ee,we+N*p.B,J,re+32*N,8),r(he,pe+N*p.B,ue,_e+32*N,8)}}function xo(p,v,N,M,U,Y,G,X,J){var re=[0],ue=[0],_e=0,we=J!=null?J.kd:0,ye=J??new yl;if(p==null||12>N)return 7;ye.data=p,ye.w=v,ye.ha=N,v=[v],N=[N],ye.gb=[ye.gb];e:{var Re=v,Ee=N,he=ye.gb;if(e(p!=null),e(Ee!=null),e(he!=null),he[0]=0,12<=Ee[0]&&!t(p,Re[0],"RIFF")){if(t(p,Re[0]+8,"WEBP")){he=3;break e}var pe=Ve(p,Re[0]+4);if(12>pe||4294967286<pe){he=3;break e}if(we&&pe>Ee[0]-8){he=7;break e}he[0]=pe,Re[0]+=12,Ee[0]-=12}he=0}if(he!=0)return he;for(pe=0<ye.gb[0],N=N[0];;){e:{var Ie=p;Ee=v,he=N;var Le=re,De=ue,et=Re=[0];if((Qe=_e=[_e])[0]=0,8>he[0])he=7;else{if(!t(Ie,Ee[0],"VP8X")){if(Ve(Ie,Ee[0]+4)!=10){he=3;break e}if(18>he[0]){he=7;break e}var Ge=Ve(Ie,Ee[0]+8),mt=1+Me(Ie,Ee[0]+12);if(2147483648<=mt*(Ie=1+Me(Ie,Ee[0]+15))){he=3;break e}et!=null&&(et[0]=Ge),Le!=null&&(Le[0]=mt),De!=null&&(De[0]=Ie),Ee[0]+=18,he[0]-=18,Qe[0]=1}he=0}}if(_e=_e[0],Re=Re[0],he!=0)return he;if(Ee=!!(2&Re),!pe&&_e)return 3;if(Y!=null&&(Y[0]=!!(16&Re)),G!=null&&(G[0]=Ee),X!=null&&(X[0]=0),G=re[0],Re=ue[0],_e&&Ee&&J==null){he=0;break}if(4>N){he=7;break}if(pe&&_e||!pe&&!_e&&!t(p,v[0],"ALPH")){N=[N],ye.na=[ye.na],ye.P=[ye.P],ye.Sa=[ye.Sa];e:{Ge=p,he=v,pe=N;var Qe=ye.gb;Le=ye.na,De=ye.P,et=ye.Sa,mt=22,e(Ge!=null),e(pe!=null),Ie=he[0];var Kt=pe[0];for(e(Le!=null),e(et!=null),Le[0]=null,De[0]=null,et[0]=0;;){if(he[0]=Ie,pe[0]=Kt,8>Kt){he=7;break e}var rn=Ve(Ge,Ie+4);if(4294967286<rn){he=3;break e}var Ut=8+rn+1&-2;if(mt+=Ut,0<Qe&&mt>Qe){he=3;break e}if(!t(Ge,Ie,"VP8 ")||!t(Ge,Ie,"VP8L")){he=0;break e}if(Kt[0]<Ut){he=7;break e}t(Ge,Ie,"ALPH")||(Le[0]=Ge,De[0]=Ie+8,et[0]=rn),Ie+=Ut,Kt-=Ut}}if(N=N[0],ye.na=ye.na[0],ye.P=ye.P[0],ye.Sa=ye.Sa[0],he!=0)break}N=[N],ye.Ja=[ye.Ja],ye.xa=[ye.xa];e:if(Qe=p,he=v,pe=N,Le=ye.gb[0],De=ye.Ja,et=ye.xa,Ge=he[0],Ie=!t(Qe,Ge,"VP8 "),mt=!t(Qe,Ge,"VP8L"),e(Qe!=null),e(pe!=null),e(De!=null),e(et!=null),8>pe[0])he=7;else{if(Ie||mt){if(Qe=Ve(Qe,Ge+4),12<=Le&&Qe>Le-12){he=3;break e}if(we&&Qe>pe[0]-8){he=7;break e}De[0]=Qe,he[0]+=8,pe[0]-=8,et[0]=mt}else et[0]=5<=pe[0]&&Qe[Ge+0]==47&&!(Qe[Ge+4]>>5),De[0]=pe[0];he=0}if(N=N[0],ye.Ja=ye.Ja[0],ye.xa=ye.xa[0],v=v[0],he!=0)break;if(4294967286<ye.Ja)return 3;if(X==null||Ee||(X[0]=ye.xa?2:1),G=[G],Re=[Re],ye.xa){if(5>N){he=7;break}X=G,we=Re,Ee=Y,p==null||5>N?p=0:5<=N&&p[v+0]==47&&!(p[v+4]>>5)?(pe=[0],Qe=[0],Le=[0],W(De=new j,p,v,N),tt(De,pe,Qe,Le)?(X!=null&&(X[0]=pe[0]),we!=null&&(we[0]=Qe[0]),Ee!=null&&(Ee[0]=Le[0]),p=1):p=0):p=0}else{if(10>N){he=7;break}X=Re,p==null||10>N||!qc(p,v+3,N-3)?p=0:(we=p[v+0]|p[v+1]<<8|p[v+2]<<16,Ee=16383&(p[v+7]<<8|p[v+6]),p=16383&(p[v+9]<<8|p[v+8]),1&we||3<(we>>1&7)||!(we>>4&1)||we>>5>=ye.Ja||!Ee||!p?p=0:(G&&(G[0]=Ee),X&&(X[0]=p),p=1))}if(!p||(G=G[0],Re=Re[0],_e&&(re[0]!=G||ue[0]!=Re)))return 3;J!=null&&(J[0]=ye,J.offset=v-J.w,e(4294967286>v-J.w),e(J.offset==J.ha-N));break}return he==0||he==7&&_e&&J==null?(Y!=null&&(Y[0]|=ye.na!=null&&0<ye.na.length),M!=null&&(M[0]=G),U!=null&&(U[0]=Re),0):he}function pf(p,v,N){var M=v.width,U=v.height,Y=0,G=0,X=M,J=U;if(v.Da=p!=null&&0<p.Da,v.Da&&(X=p.cd,J=p.bd,Y=p.v,G=p.j,11>N||(Y&=-2,G&=-2),0>Y||0>G||0>=X||0>=J||Y+X>M||G+J>U))return 0;if(v.v=Y,v.j=G,v.va=Y+X,v.o=G+J,v.U=X,v.T=J,v.da=p!=null&&0<p.da,v.da){if(!ct(X,J,N=[p.ib],Y=[p.hb]))return 0;v.ib=N[0],v.hb=Y[0]}return v.ob=p!=null&&p.ob,v.Kb=p==null||!p.Sd,v.da&&(v.ob=v.ib<3*M/4&&v.hb<3*U/4,v.Kb=0),1}function mf(p){if(p==null)return 2;if(11>p.S){var v=p.f.RGBA;v.fb+=(p.height-1)*v.A,v.A=-v.A}else v=p.f.kb,p=p.height,v.O+=(p-1)*v.fa,v.fa=-v.fa,v.N+=(p-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(p-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(p-1)*v.lb,v.lb=-v.lb);return 0}function Eh(p,v,N,M){if(M==null||0>=p||0>=v)return 2;if(N!=null){if(N.Da){var U=N.cd,Y=N.bd,G=-2&N.v,X=-2&N.j;if(0>G||0>X||0>=U||0>=Y||G+U>p||X+Y>v)return 2;p=U,v=Y}if(N.da){if(!ct(p,v,U=[N.ib],Y=[N.hb]))return 2;p=U[0],v=Y[0]}}M.width=p,M.height=v;e:{var J=M.width,re=M.height;if(p=M.S,0>=J||0>=re||!(p>=ag&&13>p))p=2;else{if(0>=M.Rd&&M.sd==null){G=Y=U=v=0;var ue=(X=J*oS[p])*re;if(11>p||(Y=(re+1)/2*(v=(J+1)/2),p==12&&(G=(U=J)*re)),(re=s(ue+2*Y+G))==null){p=1;break e}M.sd=re,11>p?((J=M.f.RGBA).eb=re,J.fb=0,J.A=X,J.size=ue):((J=M.f.kb).y=re,J.O=0,J.fa=X,J.Fd=ue,J.f=re,J.N=0+ue,J.Ab=v,J.Cd=Y,J.ea=re,J.W=0+ue+Y,J.Db=v,J.Ed=Y,p==12&&(J.F=re,J.J=0+ue+2*Y),J.Tc=G,J.lb=U)}if(v=1,U=M.S,Y=M.width,G=M.height,U>=ag&&13>U)if(11>U)p=M.f.RGBA,v&=(X=Math.abs(p.A))*(G-1)+Y<=p.size,v&=X>=Y*oS[U],v&=p.eb!=null;else{p=M.f.kb,X=(Y+1)/2,ue=(G+1)/2,J=Math.abs(p.fa),re=Math.abs(p.Ab);var _e=Math.abs(p.Db),we=Math.abs(p.lb),ye=we*(G-1)+Y;v&=J*(G-1)+Y<=p.Fd,v&=re*(ue-1)+X<=p.Cd,v=(v&=_e*(ue-1)+X<=p.Ed)&J>=Y&re>=X&_e>=X,v&=p.y!=null,v&=p.f!=null,v&=p.ea!=null,U==12&&(v&=we>=Y,v&=ye<=p.Tc,v&=p.F!=null)}else v=0;p=v?0:2}}return p!=0||N!=null&&N.fd&&(p=mf(M)),p}var Lr=64,kh=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ah=24,Ph=32,gf=8,Ni=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ze("Predictor0","PredictorAdd0"),y.Predictor0=function(){return 4278190080},y.Predictor1=function(p){return p},y.Predictor2=function(p,v,N){return v[N+0]},y.Predictor3=function(p,v,N){return v[N+1]},y.Predictor4=function(p,v,N){return v[N-1]},y.Predictor5=function(p,v,N){return We(We(p,v[N+1]),v[N+0])},y.Predictor6=function(p,v,N){return We(p,v[N-1])},y.Predictor7=function(p,v,N){return We(p,v[N+0])},y.Predictor8=function(p,v,N){return We(v[N-1],v[N+0])},y.Predictor9=function(p,v,N){return We(v[N+0],v[N+1])},y.Predictor10=function(p,v,N){return We(We(p,v[N-1]),We(v[N+0],v[N+1]))},y.Predictor11=function(p,v,N){var M=v[N+0];return 0>=ut(M>>24&255,p>>24&255,(v=v[N-1])>>24&255)+ut(M>>16&255,p>>16&255,v>>16&255)+ut(M>>8&255,p>>8&255,v>>8&255)+ut(255&M,255&p,255&v)?M:p},y.Predictor12=function(p,v,N){var M=v[N+0];return(rt((p>>24&255)+(M>>24&255)-((v=v[N-1])>>24&255))<<24|rt((p>>16&255)+(M>>16&255)-(v>>16&255))<<16|rt((p>>8&255)+(M>>8&255)-(v>>8&255))<<8|rt((255&p)+(255&M)-(255&v)))>>>0},y.Predictor13=function(p,v,N){var M=v[N-1];return(it((p=We(p,v[N+0]))>>24&255,M>>24&255)<<24|it(p>>16&255,M>>16&255)<<16|it(p>>8&255,M>>8&255)<<8|it(p>>0&255,M>>0&255))>>>0};var Ty=y.PredictorAdd0;y.PredictorAdd1=Xe,ze("Predictor2","PredictorAdd2"),ze("Predictor3","PredictorAdd3"),ze("Predictor4","PredictorAdd4"),ze("Predictor5","PredictorAdd5"),ze("Predictor6","PredictorAdd6"),ze("Predictor7","PredictorAdd7"),ze("Predictor8","PredictorAdd8"),ze("Predictor9","PredictorAdd9"),ze("Predictor10","PredictorAdd10"),ze("Predictor11","PredictorAdd11"),ze("Predictor12","PredictorAdd12"),ze("Predictor13","PredictorAdd13");var vf=y.PredictorAdd2;Pt("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),Pt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var tg,ds=y.ColorIndexInverseTransform,Th=y.MapARGB,ng=y.VP8LColorIndexInverseTransformAlpha,rg=y.MapAlpha,xl=y.VP8LPredictorsAdd=[];xl.length=16,(y.VP8LPredictors=[]).length=16,(y.VP8LPredictorsAdd_C=[]).length=16,(y.VP8LPredictors_C=[]).length=16;var ru,Ii,mi,Sl,pa,ma,Ch,ga,Qn,yf,gi,fs,Nh,ig,_f,iu,su,El,ou,Ih,au,kl,wf,ps,ms,bn,xn,Xn,gr=s(511),va=s(2041),bf=s(225),Dh=s(767),sg=0,Cy=va,og=bf,Qi=Dh,gs=gr,ag=0,lg=1,Kx=2,cg=3,ug=4,Ny=5,Qx=6,Iy=7,Dy=8,hg=9,Ry=10,CD=[2,3,7],ND=[3,3,11],Xx=[280,256,256,256,40],ID=[0,1,1,1,0],DD=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],RD=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],LD=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],MD=8,Ly=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],My=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],xf=null,OD=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],FD=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Jx=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],jD=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],VD=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],BD=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],UD=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Al=[],zs=[],ya=[],zD=1,Zx=2,Pl=[],vs=[];ke("UpsampleRgbLinePair",Q,3),ke("UpsampleBgrLinePair",me,3),ke("UpsampleRgbaLinePair",Et,4),ke("UpsampleBgraLinePair",Rt,4),ke("UpsampleArgbLinePair",St,4),ke("UpsampleRgba4444LinePair",je,2),ke("UpsampleRgb565LinePair",be,2);var WD=y.UpsampleRgbLinePair,HD=y.UpsampleBgrLinePair,eS=y.UpsampleRgbaLinePair,tS=y.UpsampleBgraLinePair,nS=y.UpsampleArgbLinePair,rS=y.UpsampleRgba4444LinePair,qD=y.UpsampleRgb565LinePair,dg=16,fg=1<<dg-1,Sf=-227,Oy=482,$D=6,iS=0,YD=s(256),GD=s(256),KD=s(256),QD=s(256),XD=s(Oy-Sf),JD=s(Oy-Sf);pn("YuvToRgbRow",Q,3),pn("YuvToBgrRow",me,3),pn("YuvToRgbaRow",Et,4),pn("YuvToBgraRow",Rt,4),pn("YuvToArgbRow",St,4),pn("YuvToRgba4444Row",je,2),pn("YuvToRgb565Row",be,2);var sS=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],pg=[0,2,8],ZD=[8,7,6,4,4,2,2,2,1,1,1,1],eR=1;this.WebPDecodeRGBA=function(p,v,N,M,U){var Y=lg,G=new da,X=new Ir;G.ba=X,X.S=Y,X.width=[X.width],X.height=[X.height];var J=X.width,re=X.height,ue=new Hi;if(ue==null||p==null)var _e=2;else e(ue!=null),_e=xo(p,v,N,ue.width,ue.height,ue.Pd,ue.Qd,ue.format,null);if(_e!=0?J=0:(J!=null&&(J[0]=ue.width[0]),re!=null&&(re[0]=ue.height[0]),J=1),J){X.width=X.width[0],X.height=X.height[0],M!=null&&(M[0]=X.width),U!=null&&(U[0]=X.height);e:{if(M=new oa,(U=new yl).data=p,U.w=v,U.ha=N,U.kd=1,v=[0],e(U!=null),((p=xo(U.data,U.w,U.ha,null,null,null,v,null,U))==0||p==7)&&v[0]&&(p=4),(v=p)==0){if(e(G!=null),M.data=U.data,M.w=U.w+U.offset,M.ha=U.ha-U.offset,M.put=qr,M.ac=or,M.bc=qi,M.ma=G,U.xa){if((p=Kn())==null){G=1;break e}if(function(we,ye){var Re=[0],Ee=[0],he=[0];t:for(;;){if(we==null)return 0;if(ye==null)return we.a=2,0;if(we.l=ye,we.a=0,W(we.m,ye.data,ye.w,ye.ha),!tt(we.m,Re,Ee,he)){we.a=3;break t}if(we.xb=Zx,ye.width=Re[0],ye.height=Ee[0],!$i(Re[0],Ee[0],1,we,null))break t;return 1}return e(we.a!=0),0}(p,M)){if(M=(v=Eh(M.width,M.height,G.Oa,G.ba))==0){t:{M=p;n:for(;;){if(M==null){M=0;break t}if(e(M.s.yc!=null),e(M.s.Ya!=null),e(0<M.s.Wb),e((N=M.l)!=null),e((U=N.ma)!=null),M.xb!=0){if(M.ca=U.ba,M.tb=U.tb,e(M.ca!=null),!pf(U.Oa,N,cg)){M.a=2;break n}if(!uo(M,N.width)||N.da)break n;if((N.da||Ft(M.ca.S))&&ve(),11>M.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),M.ca.f.kb.F!=null&&ve()),M.Pb&&0<M.s.ua&&M.s.vb.X==null&&!qe(M.s.vb,M.s.Wa.Xa)){M.a=1;break n}M.xb=0}if(!di(M,M.V,M.Ba,M.c,M.i,N.o,il))break n;U.Dc=M.Ma,M=1;break t}e(M.a!=0),M=0}M=!M}M&&(v=p.a)}else v=p.a}else{if((p=new Hc)==null){G=1;break e}if(p.Fa=U.na,p.P=U.P,p.qc=U.Sa,$c(p,M)){if((v=Eh(M.width,M.height,G.Oa,G.ba))==0){if(p.Aa=0,N=G.Oa,e((U=p)!=null),N!=null){if(0<(J=0>(J=N.Md)?0:100<J?255:255*J/100)){for(re=ue=0;4>re;++re)12>(_e=U.pb[re]).lc&&(_e.ia=J*ZD[0>_e.lc?0:_e.lc]>>3),ue|=_e.ia;ue&&(alert("todo:VP8InitRandom"),U.ia=1)}U.Ga=N.Id,100<U.Ga?U.Ga=100:0>U.Ga&&(U.Ga=0)}vh(p,M)||(v=p.a)}}else v=p.a}v==0&&G.Oa!=null&&G.Oa.fd&&(v=mf(G.ba))}G=v}Y=G!=0?null:11>Y?X.f.RGBA.eb:X.f.kb.y}else Y=null;return Y};var oS=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(y,S){for(var I="",k=0;k<4;k++)I+=String.fromCharCode(y[S++]);return I}function u(y,S){return(y[S+0]<<0|y[S+1]<<8|y[S+2]<<16)>>>0}function h(y,S){return(y[S+0]<<0|y[S+1]<<8|y[S+2]<<16|y[S+3]<<24)>>>0}new l;var d=[0],f=[0],g=[],w=new l,x=n,_=function(y,S){var I={},k=0,P=!1,L=0,$=0;if(I.frames=[],!function(z,Z,ne,se){for(var fe=0;fe<se;fe++)if(z[Z+fe]!=ne.charCodeAt(fe))return!0;return!1}(y,S,"RIFF",4)){var te,K;for(h(y,S+=4),S+=8;S<y.length;){var q=c(y,S),W=h(y,S+=4);S+=4;var H=W+(1&W);switch(q){case"VP8 ":case"VP8L":I.frames[k]===void 0&&(I.frames[k]={}),(j=I.frames[k]).src_off=P?$:S-8,j.src_size=L+W+8,k++,P&&(P=!1,L=0,$=0);break;case"VP8X":(j=I.header={}).feature_flags=y[S];var oe=S+4;j.canvas_width=1+u(y,oe),oe+=3,j.canvas_height=1+u(y,oe),oe+=3;break;case"ALPH":P=!0,L=H+8,$=S-8;break;case"ANIM":(j=I.header).bgcolor=h(y,S),oe=S+4,j.loop_count=(te=y)[(K=oe)+0]<<0|te[K+1]<<8,oe+=2;break;case"ANMF":var le,j;(j=I.frames[k]={}).offset_x=2*u(y,S),S+=3,j.offset_y=2*u(y,S),S+=3,j.width=1+u(y,S),S+=3,j.height=1+u(y,S),S+=3,j.duration=u(y,S),S+=3,le=y[S++],j.dispose=1&le,j.blend=le>>1&1}q!="ANMF"&&(S+=H)}return I}}(x,0);_.response=x,_.rgbaoutput=!0,_.dataurl=!1;var b=_.header?_.header:null,E=_.frames?_.frames:null;if(b){b.loop_counter=b.loop_count,d=[b.canvas_height],f=[b.canvas_width];for(var R=0;R<E.length&&E[R].blend!=0;R++);}var O=E[0],V=w.WebPDecodeRGBA(x,O.src_off,O.src_size,f,d);O.rgba=V,O.imgwidth=f[0],O.imgheight=d[0];for(var C=0;C<f[0]*d[0]*4;C++)g[C]=V[C];return this.width=f,this.height=d,this.data=g,this}(function(n){var e=function(){return typeof Bw=="function"},t=function(d,f,g,w){var x=4,_=o;switch(w){case n.image_compression.FAST:x=1,_=s;break;case n.image_compression.MEDIUM:x=6,_=a;break;case n.image_compression.SLOW:x=9,_=l}d=r(d,f,g,_);var b=Bw(d,{level:x});return n.__addimage__.arrayBufferToBinaryString(b)},r=function(d,f,g,w){for(var x,_,b,E=d.length/f,R=new Uint8Array(d.length+E),O=u(),V=0;V<E;V+=1){if(b=V*f,x=d.subarray(b,b+f),w)R.set(w(x,g,_),b+V);else{for(var C,y=O.length,S=[];C<y;C+=1)S[C]=O[C](x,g,_);var I=h(S.concat());R.set(S[I],b+V)}_=x}return R},i=function(d){var f=Array.apply([],d);return f.unshift(0),f},s=function(d,f){var g,w=[],x=d.length;w[0]=1;for(var _=0;_<x;_+=1)g=d[_-f]||0,w[_+1]=d[_]-g+256&255;return w},o=function(d,f,g){var w,x=[],_=d.length;x[0]=2;for(var b=0;b<_;b+=1)w=g&&g[b]||0,x[b+1]=d[b]-w+256&255;return x},a=function(d,f,g){var w,x,_=[],b=d.length;_[0]=3;for(var E=0;E<b;E+=1)w=d[E-f]||0,x=g&&g[E]||0,_[E+1]=d[E]+256-(w+x>>>1)&255;return _},l=function(d,f,g){var w,x,_,b,E=[],R=d.length;E[0]=4;for(var O=0;O<R;O+=1)w=d[O-f]||0,x=g&&g[O]||0,_=g&&g[O-f]||0,b=c(w,x,_),E[O+1]=d[O]-b+256&255;return E},c=function(d,f,g){if(d===f&&f===g)return d;var w=Math.abs(f-g),x=Math.abs(d-g),_=Math.abs(d+f-g-g);return w<=x&&w<=_?d:x<=_?f:g},u=function(){return[i,s,o,a,l]},h=function(d){var f=d.map(function(g){return g.reduce(function(w,x){return w+Math.abs(x)},0)});return f.indexOf(Math.min.apply(null,f))};n.processPNG=function(d,f,g,w){var x,_,b,E,R,O,V,C,y,S,I,k,P,L,$,te=this.decode.FLATE_DECODE,K="";if(this.__addimage__.isArrayBuffer(d)&&(d=new Uint8Array(d)),this.__addimage__.isArrayBufferView(d)){if(d=(b=new kW(d)).imgData,_=b.bits,x=b.colorSpace,R=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){y=(C=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,I=new Uint8Array(y*b.colors),S=new Uint8Array(y);var q,W=b.pixelBitlength-b.bits;for(L=0,$=0;L<y;L++){for(P=C[L],q=0;q<W;)I[$++]=P>>>q&255,q+=b.bits;S[L]=P>>>q&255}}if(b.bits===16){y=(C=new Uint32Array(b.decodePixels().buffer)).length,I=new Uint8Array(y*(32/b.pixelBitlength)*b.colors),S=new Uint8Array(y*(32/b.pixelBitlength)),k=b.colors>1,L=0,$=0;for(var H=0;L<y;)P=C[L++],I[$++]=P>>>0&255,k&&(I[$++]=P>>>16&255,P=C[L++],I[$++]=P>>>0&255),S[H++]=P>>>16&255;_=8}w!==n.image_compression.NONE&&e()?(d=t(I,b.width*b.colors,b.colors,w),V=t(S,b.width,1,w)):(d=I,V=S,te=void 0)}if(b.colorType===3&&(x=this.color_spaces.INDEXED,O=b.palette,b.transparency.indexed)){var oe=b.transparency.indexed,le=0;for(L=0,y=oe.length;L<y;++L)le+=oe[L];if((le/=255)===y-1&&oe.indexOf(0)!==-1)E=[oe.indexOf(0)];else if(le!==y){for(C=b.decodePixels(),S=new Uint8Array(C.length),L=0,y=C.length;L<y;L++)S[L]=oe[C[L]];V=t(S,b.width,1)}}var j=function(z){var Z;switch(z){case n.image_compression.FAST:Z=11;break;case n.image_compression.MEDIUM:Z=13;break;case n.image_compression.SLOW:Z=14;break;default:Z=12}return Z}(w);return te===this.decode.FLATE_DECODE&&(K="/Predictor "+j+" "),K+="/Colors "+R+" /BitsPerComponent "+_+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(d)||this.__addimage__.isArrayBufferView(d))&&(d=this.__addimage__.arrayBufferToBinaryString(d)),(V&&this.__addimage__.isArrayBuffer(V)||this.__addimage__.isArrayBufferView(V))&&(V=this.__addimage__.arrayBufferToBinaryString(V)),{alias:g,data:d,index:f,filter:te,decodeParameters:K,transparency:E,palette:O,sMask:V,predictor:j,width:b.width,height:b.height,bitsPerComponent:_,colorSpace:x}}}})(ft.API),function(n){n.processGIF89A=function(e,t,r,i){var s=new AW(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},u=new U2(100).encode(c,100);return n.processJPEG.call(this,u,t,r,i)},n.processGIF87A=n.processGIF89A}(ft.API),$s.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},$s.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){gn.log("bit decode error:"+t)}},$s.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}t!==0&&(this.pos+=4-t)}},$s.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,c=this.palette[a];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},$s.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},$s.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,u=r*this.width*4+4*i;this.data[u]=l,this.data[u+1]=a,this.data[u+2]=o,this.data[u+3]=c}this.pos+=n}},$s.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&t)/t*255|0,c=(o>>11)/e*255|0,u=i*this.width*4+4*s;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=255}this.pos+=n}},$s.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},$s.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},$s.prototype.getData=function(){return this.data},function(n){n.processBMP=function(e,t,r,i){var s=new $s(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new U2(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}}(ft.API),C3.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(e,t,r,i){var s=new C3(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new U2(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}}(ft.API),ft.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var u=r[c],h=r[c+1],d=r[c+2],f=r[c+3];s[a++]=u,s[a++]=h,s[a++]=d,o[l++]=f}var g=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:g,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},ft.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Vh=ft.API,e0=Vh.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,h=e.doKerning!==!1,d=0,f=n.length,g=0,w=a[0]||l,x=[];for(t=0;t<f;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?x.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(d=h&&cn(c[r])==="object"&&!isNaN(parseInt(c[r][g],10))?c[r][g]/u:0,x.push((a[r]||w)/l+d)),g=r;return x},k3=Vh.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Vh.processArabic&&(n=Vh.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:e0.apply(this,arguments).reduce(function(s,o){return s+o},0)},A3=function(n,e,t,r){for(var i=[],s=0,o=n.length,a=0;s!==o&&a+e[s]<t;)a+=e[s],s++;i.push(n.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(n.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(n.slice(l,s)),i},P3=function(n,e,t){t||(t={});var r,i,s,o,a,l,c,u=[],h=[u],d=t.textIndent||0,f=0,g=0,w=n.split(" "),x=e0.apply(this,[" ",t])[0];if(l=t.lineIndent===-1?w[0].length+2:t.lineIndent||0){var _=Array(l).join(" "),b=[];w.map(function(R){(R=R.split(/\s*\n/)).length>1?b=b.concat(R.map(function(O,V){return(V&&O.length?`
`:"")+O})):b.push(R[0])}),w=b,l=k3.apply(this,[_,t])}for(s=0,o=w.length;s<o;s++){var E=0;if(r=w[s],l&&r[0]==`
`&&(r=r.substr(1),E=1),d+f+(g=(i=e0.apply(this,[r,t])).reduce(function(R,O){return R+O},0))>e||E){if(g>e){for(a=A3.apply(this,[r,i,e-(d+f),e]),u.push(a.shift()),u=[a.pop()];a.length;)h.push([a.shift()]);g=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(R,O){return R+O},0)}else u=[r];h.push(u),d=g+l,f=x}else u.push(r),d+=f+g,f=x}return c=l?function(R,O){return(O?_:"")+R.join(" ")}:function(R){return R.join(" ")},h.map(c)},Vh.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var h=this.internal.getFont(u.fontName,u.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(P3.apply(this,[r[a],o,s]));return c},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},r={},i=0;i<e.length;i++)t[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(h){return"0x"+parseInt(h,10).toString(16)},o=n.__fontmetrics__.compress=function(h){var d,f,g,w,x=["{"];for(var _ in h){if(d=h[_],isNaN(parseInt(_,10))?f="'"+_+"'":(_=parseInt(_,10),f=(f=s(_).slice(2)).slice(0,-1)+r[f.slice(-1)]),typeof d=="number")d<0?(g=s(d).slice(3),w="-"):(g=s(d).slice(2),w=""),g=w+g.slice(0,-1)+r[g.slice(-1)];else{if(cn(d)!=="object")throw new Error("Don't know what to do with value type "+cn(d)+".");g=o(d)}x.push(f+g)}return x.push("}"),x.join("")},a=n.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var d,f,g,w,x={},_=1,b=x,E=[],R="",O="",V=h.length-1,C=1;C<V;C+=1)(w=h[C])=="'"?d?(g=d.join(""),d=void 0):d=[]:d?d.push(w):w=="{"?(E.push([b,g]),b={},g=void 0):w=="}"?((f=E.pop())[0][f[1]]=b,g=void 0,b=f[0]):w=="-"?_=-1:g===void 0?t.hasOwnProperty(w)?(R+=t[w],g=parseInt(R,16)*_,_=1,R=""):R+=w:t.hasOwnProperty(w)?(O+=t[w],b[g]=parseInt(O,16)*_,_=1,g=void 0,O=""):O+=w;return x},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(h){var d=h.font,f=u.Unicode[d.postScriptName];f&&(d.metadata.Unicode={},d.metadata.Unicode.widths=f.widths,d.metadata.Unicode.kerning=f.kerning);var g=c.Unicode[d.postScriptName];g&&(d.metadata.Unicode.encoding=g,d.encoding=g.codePages[0])}])}(ft.API),function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=t.charCodeAt(s);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(Pp(a)),o.metadata=n.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(ft),function(n){function e(){return(vt.canvg?Promise.resolve(vt.canvg):Mw(()=>import("./index.es-CRORZ7ot.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}ft.API.addSvgAsImage=function(t,r,i,s,o,a,l,c){if(isNaN(r)||isNaN(i))throw gn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw gn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=s,u.height=o;var h=u.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,u.width,u.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return e().then(function(g){return g.fromString(h,t,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(d)}).then(function(){f.addImage(u.toDataURL("image/jpeg",1),r,i,s,o,l,c)})}}(),ft.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},ft.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,u=0,h=0;function d(g,w){var x,_=!1;for(x=0;x<g.length;x+=1)g[x]===w&&(_=!0);return _}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var f=a.length;for(h=0;h<f;h+=1)t[a[h]].value=t[a[h]].defaultValue,t[a[h]].explicitSet=!1}if(cn(n)==="object"){for(i in n)if(s=n[i],d(a,i)&&s!==void 0){if(t[i].type==="boolean"&&typeof s=="boolean")t[i].value=s;else if(t[i].type==="name"&&d(t[i].valueSet,s))t[i].value=s;else if(t[i].type==="integer"&&Number.isInteger(s))t[i].value=s;else if(t[i].type==="array"){for(c=0;c<s.length;c+=1)if(r=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)typeof s[c][u]!="number"&&(r=!1);r===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}t[i].value="["+l.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,w=[];for(g in t)t[g].explicitSet===!0&&(t[g].type==="name"?w.push("/"+g+" /"+t[g].value):w.push("/"+g+" "+t[g].value));w.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+w.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(ft.API),function(n){var e=n.API,t=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],h=0,d=s.length;h<d;++h){if(a=o.metadata.characterToGlyph(s.charCodeAt(h)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(h),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return u.join("");a=a.toString(16),u.push(c[4-a.length],a)}return u.join("")},r=function(s){var o,a,l,c,u,h,d;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,d=(a=Object.keys(s).sort(function(f,g){return f-g})).length;h<d;h++)o=a[h],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(c=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="Identity-H"){for(var h=a.metadata.Unicode.widths,d=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),f="",g=0;g<d.length;g++)f+=String.fromCharCode(d[g]);var w=c();u({data:f,addLength1:!0,objectId:w}),l("endobj");var x=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var _=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Yh(a.fontName)),l("/FontFile2 "+w+" 0 R"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var b=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Yh(a.fontName)),l("/FontDescriptor "+_+" 0 R"),l("/W "+n.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+x+" 0 R"),l("/BaseFont /"+Yh(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+b+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var h=a.metadata.rawData,d="",f=0;f<h.length;f++)d+=String.fromCharCode(h[f]);var g=c();u({data:d,addLength1:!0,objectId:g}),l("endobj");var w=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:w}),l("endobj");var x=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+g+" 0 R"),l("/Flags 96"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Yh(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var _=0;_<a.metadata.hmtx.widths.length;_++)a.metadata.hmtx.widths[_]=parseInt(a.metadata.hmtx.widths[_]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+Yh(a.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,c=s.y,u=s.options||{},h=s.mutex||{},d=h.pdfEscape,f=h.activeFontKey,g=h.fonts,w=f,x="",_=0,b="",E=g[w].encoding;if(g[w].encoding!=="Identity-H")return{text:a,x:l,y:c,options:u,mutex:h};for(b=a,w=f,Array.isArray(a)&&(b=a[0]),_=0;_<b.length;_+=1)g[w].metadata.hasOwnProperty("cmap")&&(o=g[w].metadata.cmap.unicode.codeMap[b[_].charCodeAt(0)]),o||b[_].charCodeAt(0)<256&&g[w].metadata.hasOwnProperty("Unicode")?x+=b[_]:x+="";var R="";return parseInt(w.slice(1))<14||E==="WinAnsiEncoding"?R=d(x,w).split("").map(function(O){return O.charCodeAt(0).toString(16)}).join(""):E==="Identity-H"&&(R=t(x,g[w])),h.isHex=!0,{text:R,x:l,y:c,options:u,mutex:h}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?a.push([i(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(i(Object.assign({},l,{text:o[c]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(ft),function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(ft.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,s,o,a,l,c,u,h=e,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],_=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,E=0;this.__bidiEngine__={};var R=function(k){var P=k.charCodeAt(),L=P>>8,$=w[L];return $!==void 0?h[256*$+(255&P)]:L===252||L===253?"AL":_.test(L)?"L":L===8?"R":"N"},O=function(k){for(var P,L=0;L<k.length;L++){if((P=R(k.charAt(L)))==="L")return!1;if(P==="R")return!0}return!1},V=function(k,P,L,$){var te,K,q,W,H=P[$];switch(H){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(H="AN");break;case"AL":b=!0,H="R";break;case"WS":H="N";break;case"CS":$<1||$+1>=P.length||(te=L[$-1])!=="EN"&&te!=="AN"||(K=P[$+1])!=="EN"&&K!=="AN"?H="N":b&&(K="AN"),H=K===te?K:"N";break;case"ES":H=(te=$>0?L[$-1]:"B")==="EN"&&$+1<P.length&&P[$+1]==="EN"?"EN":"N";break;case"ET":if($>0&&L[$-1]==="EN"){H="EN";break}if(b){H="N";break}for(q=$+1,W=P.length;q<W&&P[q]==="ET";)q++;H=q<W&&P[q]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(W=P.length,q=$+1;q<W&&P[q]==="NSM";)q++;if(q<W){var oe=k[$],le=oe>=1425&&oe<=2303||oe===64286;if(te=P[q],le&&(te==="R"||te==="AL")){H="R";break}}}H=$<1||(te=P[$-1])==="B"?"N":L[$-1];break;case"B":b=!1,i=!0,H=E;break;case"S":s=!0,H="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":H="N"}return H},C=function(k,P,L){var $=k.split("");return L&&y($,L,{hiLevel:E}),$.reverse(),P&&P.reverse(),$.join("")},y=function(k,P,L){var $,te,K,q,W,H=-1,oe=k.length,le=0,j=[],z=E?f:d,Z=[];for(b=!1,i=!1,s=!1,te=0;te<oe;te++)Z[te]=R(k[te]);for(K=0;K<oe;K++){if(W=le,j[K]=V(k,Z,j,K),$=240&(le=z[W][g[j[K]]]),le&=15,P[K]=q=z[le][5],$>0)if($===16){for(te=H;te<K;te++)P[te]=1;H=-1}else H=-1;if(z[le][6])H===-1&&(H=K);else if(H>-1){for(te=H;te<K;te++)P[te]=q;H=-1}Z[K]==="B"&&(P[K]=0),L.hiLevel|=q}s&&function(ne,se,fe){for(var de=0;de<fe;de++)if(ne[de]==="S"){se[de]=E;for(var ge=de-1;ge>=0&&ne[ge]==="WS";ge--)se[ge]=E}}(Z,P,oe)},S=function(k,P,L,$,te){if(!(te.hiLevel<k)){if(k===1&&E===1&&!i)return P.reverse(),void(L&&L.reverse());for(var K,q,W,H,oe=P.length,le=0;le<oe;){if($[le]>=k){for(W=le+1;W<oe&&$[W]>=k;)W++;for(H=le,q=W-1;H<q;H++,q--)K=P[H],P[H]=P[q],P[q]=K,L&&(K=L[H],L[H]=L[q],L[q]=K);le=W}le++}}},I=function(k,P,L){var $=k.split(""),te={hiLevel:E};return L||(L=[]),y($,L,te),function(K,q,W){if(W.hiLevel!==0&&u)for(var H,oe=0;oe<K.length;oe++)q[oe]===1&&(H=x.indexOf(K[oe]))>=0&&(K[oe]=x[H+1])}($,L,te),S(2,$,P,L,te),S(1,$,P,L,te),$.join("")};return this.__bidiEngine__.doBidiReorder=function(k,P,L){if(function(te,K){if(K)for(var q=0;q<te.length;q++)K[q]=q;a===void 0&&(a=O(te)),c===void 0&&(c=O(te))}(k,P),o||!l||c)if(o&&l&&a^c)E=a?1:0,k=C(k,P,L);else if(!o&&l&&c)E=a?1:0,k=I(k,P,L),k=C(k,P);else if(!o||a||l||c){if(o&&!l&&a^c)k=C(k,P),a?(E=0,k=I(k,P,L)):(E=1,k=I(k,P,L),k=C(k,P));else if(o&&a&&!l&&c)E=1,k=I(k,P,L),k=C(k,P);else if(!o&&!l&&a^c){var $=u;a?(E=1,k=I(k,P,L),E=0,u=!1,k=I(k,P,L),u=$):(E=0,k=I(k,P,L),k=C(k,P),E=1,u=!1,k=I(k,P,L),u=$,k=C(k,P))}}else E=0,k=I(k,P,L);else E=a?1:0,k=I(k,P,L);return k},this.__bidiEngine__.setOptions=function(k){k&&(o=k.isInputVisual,l=k.isOutputVisual,a=k.isInputRtl,c=k.isOutputRtl,u=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text,s=(r.x,r.y,r.options||{}),o=(r.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([t.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([t.doBidiReorder(i[a])]);r.text=o}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(ft),ft.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Nc(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new UW(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new PW(this.contents),this.head=new CW(this),this.name=new LW(this),this.cmap=new ZI(this),this.toUnicode={},this.hhea=new NW(this),this.maxp=new MW(this),this.hmtx=new OW(this),this.post=new DW(this),this.os2=new IW(this),this.loca=new BW(this),this.glyf=new FW(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return o*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n}();var lo,Nc=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,s,o,a,l;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)t=e[r],s.push(this.writeByte(t));return s},n}(),PW=function(){var n;function e(t){var r,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,s,o,a,l,c,u,h,d,f,g,w;for(w in f=Object.keys(t).length,l=Math.log(2),h=16*Math.floor(Math.log(f)/l),o=Math.floor(h/l),u=16*f-h,(i=new Nc).writeInt(this.scalarType),i.writeShort(f),i.writeShort(h),i.writeShort(o),i.writeShort(u),s=16*f,c=i.pos+s,a=null,g=[],t)for(d=t[w],i.writeString(w),i.writeInt(n(d)),i.writeInt(c),i.writeInt(d.length),g=g.concat(d),w==="head"&&(a=c),c+=d.length;c%4;)g.push(0),c++;return i.write(g),r=2981146554-n(i.data),i.pos=a+8,i.writeUInt32(r),i.data},n=function(t){var r,i,s,o;for(t=e6.call(t);t.length%4;)t.push(0);for(s=new Nc(t),i=0,r=0,o=t.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),TW={}.hasOwnProperty,ta=function(n,e){for(var t in e)TW.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};lo=function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var CW=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ta(e,lo),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Nc).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),N3=function(){function n(e,t){var r,i,s,o,a,l,c,u,h,d,f,g,w,x,_,b,E;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(f=e.readUInt16(),d=f/2,e.pos+=6,s=function(){var R,O;for(O=[],l=R=0;0<=d?R<d:R>d;l=0<=d?++R:--R)O.push(e.readUInt16());return O}(),e.pos+=2,w=function(){var R,O;for(O=[],l=R=0;0<=d?R<d:R>d;l=0<=d?++R:--R)O.push(e.readUInt16());return O}(),c=function(){var R,O;for(O=[],l=R=0;0<=d?R<d:R>d;l=0<=d?++R:--R)O.push(e.readUInt16());return O}(),u=function(){var R,O;for(O=[],l=R=0;0<=d?R<d:R>d;l=0<=d?++R:--R)O.push(e.readUInt16());return O}(),i=(this.length-e.pos+this.offset)/2,a=function(){var R,O;for(O=[],l=R=0;0<=i?R<i:R>i;l=0<=i?++R:--R)O.push(e.readUInt16());return O}(),l=_=0,E=s.length;_<E;l=++_)for(x=s[l],r=b=g=w[l];g<=x?b<=x:b>=x;r=g<=x?++b:--b)u[l]===0?o=r+c[l]:(o=a[u[l]/2+(r-g)-(d-l)]||0)!==0&&(o+=c[l]),this.codeMap[r]=65535&o}e.pos=h}return n.encode=function(e,t){var r,i,s,o,a,l,c,u,h,d,f,g,w,x,_,b,E,R,O,V,C,y,S,I,k,P,L,$,te,K,q,W,H,oe,le,j,z,Z,ne,se,fe,de,ge,Te,Se,Me;switch($=new Nc,o=Object.keys(e).sort(function(Ve,qe){return Ve-qe}),t){case"macroman":for(w=0,x=function(){var Ve=[];for(g=0;g<256;++g)Ve.push(0);return Ve}(),b={0:0},s={},te=0,H=o.length;te<H;te++)b[ge=e[i=o[te]]]==null&&(b[ge]=++w),s[i]={old:e[i],new:b[e[i]]},x[i]=b[e[i]];return $.writeUInt16(1),$.writeUInt16(0),$.writeUInt32(12),$.writeUInt16(0),$.writeUInt16(262),$.writeUInt16(0),$.write(x),{charMap:s,subtable:$.data,maxGlyphID:w+1};case"unicode":for(P=[],h=[],E=0,b={},r={},_=c=null,K=0,oe=o.length;K<oe;K++)b[O=e[i=o[K]]]==null&&(b[O]=++E),r[i]={old:O,new:b[O]},a=b[O]-i,_!=null&&a===c||(_&&h.push(_),P.push(i),c=a),_=i;for(_&&h.push(_),h.push(65535),P.push(65535),I=2*(S=P.length),y=2*Math.pow(Math.log(S)/Math.LN2,2),d=Math.log(y/2)/Math.LN2,C=2*S-y,l=[],V=[],f=[],g=q=0,le=P.length;q<le;g=++q){if(k=P[g],u=h[g],k===65535){l.push(0),V.push(0);break}if(k-(L=r[k].new)>=32768)for(l.push(0),V.push(2*(f.length+S-g)),i=W=k;k<=u?W<=u:W>=u;i=k<=u?++W:--W)f.push(r[i].new);else l.push(L-k),V.push(0)}for($.writeUInt16(3),$.writeUInt16(1),$.writeUInt32(12),$.writeUInt16(4),$.writeUInt16(16+8*S+2*f.length),$.writeUInt16(0),$.writeUInt16(I),$.writeUInt16(y),$.writeUInt16(d),$.writeUInt16(C),fe=0,j=h.length;fe<j;fe++)i=h[fe],$.writeUInt16(i);for($.writeUInt16(0),de=0,z=P.length;de<z;de++)i=P[de],$.writeUInt16(i);for(Te=0,Z=l.length;Te<Z;Te++)a=l[Te],$.writeUInt16(a);for(Se=0,ne=V.length;Se<ne;Se++)R=V[Se],$.writeUInt16(R);for(Me=0,se=f.length;Me<se;Me++)w=f[Me],$.writeUInt16(w);return{charMap:r,subtable:$.data,maxGlyphID:E+1}}},n}(),ZI=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ta(e,lo),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,i,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new N3(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var i,s;return r==null&&(r="macroman"),i=N3.encode(t,r),(s=new Nc).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),NW=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ta(e,lo),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),IW=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ta(e,lo),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(t.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),DW=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ta(e,lo),e.prototype.tag="post",e.prototype.parse=function(t){var r,i,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var o;for(i=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 196608:break;case 262144:return this.map=(function(){var a,l,c;for(c=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)c.push(t.readUInt32());return c}).call(this)}},e}(),RW=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},LW=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ta(e,lo),e.prototype.tag="name",e.prototype.parse=function(t){var r,i,s,o,a,l,c,u,h,d,f;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},o=h=0,d=i.length;h<d;o=++h)s=i[o],t.pos=s.offset,u=t.readString(s.length),a=new RW(u,s),c[f=s.nameID]==null&&(c[f]=[]),c[s.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),MW=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ta(e,lo),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),OW=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ta(e,lo),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,i,s,o,a,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,h;for(h=[],r=u=0;0<=s?u<s:u>s;r=0<=s?++u:--u)h.push(t.readInt16());return h}(),this.widths=(function(){var u,h,d,f;for(f=[],u=0,h=(d=this.metrics).length;u<h;u++)o=d[u],f.push(o.advance);return f}).call(this),i=this.widths[this.widths.length-1],c=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)c.push(this.widths.push(i));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),e6=[].slice,FW=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ta(e,lo),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,i,s,o,a,l,c,u,h,d;return t in this.cache?this.cache[t]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(t),(s=o.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+i,a=(l=new Nc(r.read(s))).readShort(),u=l.readShort(),d=l.readShort(),c=l.readShort(),h=l.readShort(),this.cache[t]=a===-1?new VW(l,u,d,c,h):new jW(l,a,u,d,c,h),this.cache[t]))},e.prototype.encode=function(t,r,i){var s,o,a,l,c;for(a=[],o=[],l=0,c=r.length;l<c;l++)s=t[r[l]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},e}(),jW=function(){function n(e,t,r,i,s,o){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),VW=function(){function n(e,t,r,i,s){var o,a;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Nc(e6.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),BW=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ta(e,lo),e.prototype.tag="loca",e.prototype.parse=function(t){var r,i;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*t.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(t.readUInt32());return o}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var l=this.offsets[a],c=this.offsets[a+1]-l;c>0&&(s+=c)}for(var u=new Array(4*i.length),h=0;h<i.length;++h)u[4*h+3]=255&i[h],u[4*h+2]=(65280&i[h])>>8,u[4*h+1]=(16711680&i[h])>>16,u[4*h]=(4278190080&i[h])>>24;return u},e}(),UW=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in t=[],i)(r=i[s])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(s in l=this.glyphsFor(t))r=l[s],i[s]=r;return i},n.prototype.encode=function(e,t){var r,i,s,o,a,l,c,u,h,d,f,g,w,x,_;for(i in r=ZI.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),f={0:0},_=r.charMap)f[(l=_[i]).old]=l.new;for(g in d=r.maxGlyphID,o)g in f||(f[g]=d++);return u=function(b){var E,R;for(E in R={},b)R[b[E]]=E;return R}(f),h=Object.keys(u).sort(function(b,E){return b-E}),w=function(){var b,E,R;for(R=[],b=0,E=h.length;b<E;b++)a=h[b],R.push(u[a]);return R}(),s=this.font.glyf.encode(o,w,f),c=this.font.loca.encode(s.offsets,w),x={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},n}();ft.API.PDFObject=function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,s,o;if(Array.isArray(t))return"["+function(){var a,l,c;for(c=[],a=0,l=t.length;a<l;a++)r=t[a],c.push(e.convert(r));return c}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in s=["<<"],t)o=t[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+t},e}();const zW=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:_W,AcroFormAppearance:st,AcroFormButton:yr,AcroFormCheckBox:Np,AcroFormChoiceField:Ru,AcroFormComboBox:Mu,AcroFormEditBox:Tp,AcroFormListBox:Lu,AcroFormPasswordField:Ip,AcroFormPushButton:Cp,AcroFormRadioButton:Ou,AcroFormTextField:yc,GState:gm,ShadingPattern:Kl,TilingPattern:Eu,default:ft,jsPDF:ft},Symbol.toStringTag,{value:"Module"}));var WW={exports:{}};const HW=mR(zW);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(n,e){(function(r,i){n.exports=i(function(){try{return HW}catch{}}())})(typeof globalThis<"u"?globalThis:typeof S0<"u"?S0:typeof window<"u"?window:typeof self<"u"?self:S0,function(t){return function(){var r={172:function(a,l){var c=this&&this.__extends||function(){var d=function(f,g){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,x){w.__proto__=x}||function(w,x){for(var _ in x)Object.prototype.hasOwnProperty.call(x,_)&&(w[_]=x[_])},d(f,g)};return function(f,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");d(f,g);function w(){this.constructor=f}f.prototype=g===null?Object.create(g):(w.prototype=g.prototype,new w)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.CellHookData=l.HookData=void 0;var u=function(){function d(f,g,w){this.table=g,this.pageNumber=g.pageNumber,this.pageCount=this.pageNumber,this.settings=g.settings,this.cursor=w,this.doc=f.getDocument()}return d}();l.HookData=u;var h=function(d){c(f,d);function f(g,w,x,_,b,E){var R=d.call(this,g,w,E)||this;return R.cell=x,R.row=_,R.column=b,R.section=_.section,R}return f}(u);l.CellHookData=h},340:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0});var u=c(4),h=c(136),d=c(744),f=c(776),g=c(664),w=c(972);function x(_){_.API.autoTable=function(){for(var b=[],E=0;E<arguments.length;E++)b[E]=arguments[E];var R;b.length===1?R=b[0]:(console.error("Use of deprecated autoTable initiation"),R=b[2]||{},R.columns=b[0],R.body=b[1]);var O=(0,f.parseInput)(this,R),V=(0,w.createTable)(this,O);return(0,g.drawTable)(this,V),this},_.API.lastAutoTable=!1,_.API.previousAutoTable=!1,_.API.autoTable.previous=!1,_.API.autoTableText=function(b,E,R,O){(0,h.default)(b,E,R,O,this)},_.API.autoTableSetDefaults=function(b){return d.DocHandler.setDefaults(b,this),this},_.autoTableSetDefaults=function(b,E){d.DocHandler.setDefaults(b,E)},_.API.autoTableHtmlToJson=function(b,E){var R;if(E===void 0&&(E=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var O=new d.DocHandler(this),V=(0,u.parseHtml)(O,b,window,E,!1),C=V.head,y=V.body,S=((R=C[0])===null||R===void 0?void 0:R.map(function(I){return I.content}))||[];return{columns:S,rows:y,data:y}},_.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var b=this.lastAutoTable;return b&&b.finalY?b.finalY:0},_.API.autoTableAddPageContent=function(b){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),_.API.autoTable.globalDefaults||(_.API.autoTable.globalDefaults={}),_.API.autoTable.globalDefaults.addPageContent=b,this},_.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}l.default=x},136:function(a,l){Object.defineProperty(l,"__esModule",{value:!0});function c(u,h,d,f,g){f=f||{};var w=1.15,x=g.internal.scaleFactor,_=g.internal.getFontSize()/x,b=g.getLineHeightFactor?g.getLineHeightFactor():w,E=_*b,R=/\r\n|\r|\n/g,O="",V=1;if((f.valign==="middle"||f.valign==="bottom"||f.halign==="center"||f.halign==="right")&&(O=typeof u=="string"?u.split(R):u,V=O.length||1),d+=_*(2-w),f.valign==="middle"?d-=V/2*E:f.valign==="bottom"&&(d-=V*E),f.halign==="center"||f.halign==="right"){var C=_;if(f.halign==="center"&&(C*=.5),O&&V>=1){for(var y=0;y<O.length;y++)g.text(O[y],h-g.getStringUnitWidth(O[y])*C,d),d+=E;return g}h-=g.getStringUnitWidth(u)*C}return f.halign==="justify"?g.text(u,h,d,{maxWidth:f.maxWidth||100,align:"justify"}):g.text(u,h,d),g}l.default=c},420:function(a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.getPageAvailableWidth=l.parseSpacing=l.getFillStyle=l.addTableBorder=l.getStringWidth=void 0;function c(g,w,x){x.applyStyles(w,!0);var _=Array.isArray(g)?g:[g],b=_.map(function(E){return x.getTextWidth(E)}).reduce(function(E,R){return Math.max(E,R)},0);return b}l.getStringWidth=c;function u(g,w,x,_){var b=w.settings.tableLineWidth,E=w.settings.tableLineColor;g.applyStyles({lineWidth:b,lineColor:E});var R=h(b,!1);R&&g.rect(x.x,x.y,w.getWidth(g.pageSize().width),_.y-x.y,R)}l.addTableBorder=u;function h(g,w){var x=g>0,_=w||w===0;return x&&_?"DF":x?"S":_?"F":null}l.getFillStyle=h;function d(g,w){var x,_,b,E;if(g=g||w,Array.isArray(g)){if(g.length>=4)return{top:g[0],right:g[1],bottom:g[2],left:g[3]};if(g.length===3)return{top:g[0],right:g[1],bottom:g[2],left:g[1]};if(g.length===2)return{top:g[0],right:g[1],bottom:g[0],left:g[1]};g.length===1?g=g[0]:g=w}return typeof g=="object"?(typeof g.vertical=="number"&&(g.top=g.vertical,g.bottom=g.vertical),typeof g.horizontal=="number"&&(g.right=g.horizontal,g.left=g.horizontal),{left:(x=g.left)!==null&&x!==void 0?x:w,top:(_=g.top)!==null&&_!==void 0?_:w,right:(b=g.right)!==null&&b!==void 0?b:w,bottom:(E=g.bottom)!==null&&E!==void 0?E:w}):(typeof g!="number"&&(g=w),{top:g,right:g,bottom:g,left:g})}l.parseSpacing=d;function f(g,w){var x=d(w.settings.margin,0);return g.pageSize().width-(x.left+x.right)}l.getPageAvailableWidth=f},796:function(a,l){var c=this&&this.__extends||function(){var f=function(g,w){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,_){x.__proto__=_}||function(x,_){for(var b in _)Object.prototype.hasOwnProperty.call(_,b)&&(x[b]=_[b])},f(g,w)};return function(g,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");f(g,w);function x(){this.constructor=g}g.prototype=w===null?Object.create(w):(x.prototype=w.prototype,new x)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.getTheme=l.defaultStyles=l.HtmlRowInput=void 0;var u=function(f){c(g,f);function g(w){var x=f.call(this)||this;return x._element=w,x}return g}(Array);l.HtmlRowInput=u;function h(f){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/f,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}l.defaultStyles=h;function d(f){var g={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return g[f]}l.getTheme=d},903:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.parseCss=void 0;var u=c(420);function h(x,_,b,E,R){var O={},V=1.3333333333333333,C=f(_,function(H){return R.getComputedStyle(H).backgroundColor});C!=null&&(O.fillColor=C);var y=f(_,function(H){return R.getComputedStyle(H).color});y!=null&&(O.textColor=y);var S=w(E,b);S&&(O.cellPadding=S);var I="borderTopColor",k=V*b,P=E.borderTopWidth;if(E.borderBottomWidth===P&&E.borderRightWidth===P&&E.borderLeftWidth===P){var L=(parseFloat(P)||0)/k;L&&(O.lineWidth=L)}else O.lineWidth={top:(parseFloat(E.borderTopWidth)||0)/k,right:(parseFloat(E.borderRightWidth)||0)/k,bottom:(parseFloat(E.borderBottomWidth)||0)/k,left:(parseFloat(E.borderLeftWidth)||0)/k},O.lineWidth.top||(O.lineWidth.right?I="borderRightColor":O.lineWidth.bottom?I="borderBottomColor":O.lineWidth.left&&(I="borderLeftColor"));var $=f(_,function(H){return R.getComputedStyle(H)[I]});$!=null&&(O.lineColor=$);var te=["left","right","center","justify"];te.indexOf(E.textAlign)!==-1&&(O.halign=E.textAlign),te=["middle","bottom","top"],te.indexOf(E.verticalAlign)!==-1&&(O.valign=E.verticalAlign);var K=parseInt(E.fontSize||"");isNaN(K)||(O.fontSize=K/V);var q=d(E);q&&(O.fontStyle=q);var W=(E.fontFamily||"").toLowerCase();return x.indexOf(W)!==-1&&(O.font=W),O}l.parseCss=h;function d(x){var _="";return(x.fontWeight==="bold"||x.fontWeight==="bolder"||parseInt(x.fontWeight)>=700)&&(_="bold"),(x.fontStyle==="italic"||x.fontStyle==="oblique")&&(_+="italic"),_}function f(x,_){var b=g(x,_);if(!b)return null;var E=b.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!E||!Array.isArray(E))return null;var R=[parseInt(E[1]),parseInt(E[2]),parseInt(E[3])],O=parseInt(E[4]);return O===0||isNaN(R[0])||isNaN(R[1])||isNaN(R[2])?null:R}function g(x,_){var b=_(x);return b==="rgba(0, 0, 0, 0)"||b==="transparent"||b==="initial"||b==="inherit"?x.parentElement==null?null:g(x.parentElement,_):b}function w(x,_){var b=[x.paddingTop,x.paddingRight,x.paddingBottom,x.paddingLeft],E=96/(72/_),R=(parseInt(x.lineHeight)-parseInt(x.fontSize))/_/2,O=b.map(function(C){return parseInt(C||"0")/E}),V=(0,u.parseSpacing)(O,0);return R>V.top&&(V.top=R),R>V.bottom&&(V.bottom=R),V}},744:function(a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.DocHandler=void 0;var c={},u=function(){function h(d){this.jsPDFDocument=d,this.userStyles={textColor:d.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:d.internal.getFontSize(),fontStyle:d.internal.getFont().fontStyle,font:d.internal.getFont().fontName,lineWidth:d.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:d.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return h.setDefaults=function(d,f){f===void 0&&(f=null),f?f.__autoTableDocumentDefaults=d:c=d},h.unifyColor=function(d){return Array.isArray(d)?d:typeof d=="number"?[d,d,d]:typeof d=="string"?[d]:null},h.prototype.applyStyles=function(d,f){var g,w,x;f===void 0&&(f=!1),d.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(d.fontStyle);var _=this.jsPDFDocument.internal.getFont(),b=_.fontStyle,E=_.fontName;if(d.font&&(E=d.font),d.fontStyle){b=d.fontStyle;var R=this.getFontList()[E];R&&R.indexOf(b)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(R[0]),b=R[0])}if(this.jsPDFDocument.setFont(E,b),d.fontSize&&this.jsPDFDocument.setFontSize(d.fontSize),!f){var O=h.unifyColor(d.fillColor);O&&(g=this.jsPDFDocument).setFillColor.apply(g,O),O=h.unifyColor(d.textColor),O&&(w=this.jsPDFDocument).setTextColor.apply(w,O),O=h.unifyColor(d.lineColor),O&&(x=this.jsPDFDocument).setDrawColor.apply(x,O),typeof d.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(d.lineWidth)}},h.prototype.splitTextToSize=function(d,f,g){return this.jsPDFDocument.splitTextToSize(d,f,g)},h.prototype.rect=function(d,f,g,w,x){return this.jsPDFDocument.rect(d,f,g,w,x)},h.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},h.prototype.getTextWidth=function(d){return this.jsPDFDocument.getTextWidth(d)},h.prototype.getDocument=function(){return this.jsPDFDocument},h.prototype.setPage=function(d){this.jsPDFDocument.setPage(d)},h.prototype.addPage=function(){return this.jsPDFDocument.addPage()},h.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},h.prototype.getGlobalOptions=function(){return c||{}},h.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},h.prototype.pageSize=function(){var d=this.jsPDFDocument.internal.pageSize;return d.width==null&&(d={width:d.getWidth(),height:d.getHeight()}),d},h.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},h.prototype.getLineHeightFactor=function(){var d=this.jsPDFDocument;return d.getLineHeightFactor?d.getLineHeightFactor():1.15},h.prototype.getLineHeight=function(d){return d/this.scaleFactor()*this.getLineHeightFactor()},h.prototype.pageNumber=function(){var d=this.jsPDFDocument.internal.getCurrentPageInfo();return d?d.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},h}();l.DocHandler=u},4:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.parseHtml=void 0;var u=c(903),h=c(796);function d(w,x,_,b,E){var R,O;b===void 0&&(b=!1),E===void 0&&(E=!1);var V;typeof x=="string"?V=_.document.querySelector(x):V=x;var C=Object.keys(w.getFontList()),y=w.scaleFactor(),S=[],I=[],k=[];if(!V)return console.error("Html table could not be found with input: ",x),{head:S,body:I,foot:k};for(var P=0;P<V.rows.length;P++){var L=V.rows[P],$=(O=(R=L==null?void 0:L.parentElement)===null||R===void 0?void 0:R.tagName)===null||O===void 0?void 0:O.toLowerCase(),te=f(C,y,_,L,b,E);te&&($==="thead"?S.push(te):$==="tfoot"?k.push(te):I.push(te))}return{head:S,body:I,foot:k}}l.parseHtml=d;function f(w,x,_,b,E,R){for(var O=new h.HtmlRowInput(b),V=0;V<b.cells.length;V++){var C=b.cells[V],y=_.getComputedStyle(C);if(E||y.display!=="none"){var S=void 0;R&&(S=(0,u.parseCss)(w,C,x,y,_)),O.push({rowSpan:C.rowSpan,colSpan:C.colSpan,styles:S,_element:C,content:g(C)})}}var I=_.getComputedStyle(b);if(O.length>0&&(E||I.display!=="none"))return O}function g(w){var x=w.cloneNode(!0);return x.innerHTML=x.innerHTML.replace(/\n/g,"").replace(/ +/g," "),x.innerHTML=x.innerHTML.split(/<br.*?>/).map(function(_){return _.trim()}).join(`
`),x.innerText||x.textContent||""}},776:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.parseInput=void 0;var u=c(4),h=c(356),d=c(420),f=c(744),g=c(792);function w(V,C){var y=new f.DocHandler(V),S=y.getDocumentOptions(),I=y.getGlobalOptions();(0,g.default)(y,I,S,C);var k=(0,h.assign)({},I,S,C),P;typeof window<"u"&&(P=window);var L=x(I,S,C),$=_(I,S,C),te=b(y,k),K=R(y,k,P);return{id:C.tableId,content:K,hooks:$,styles:L,settings:te}}l.parseInput=w;function x(V,C,y){for(var S={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},I=function($){if($==="columnStyles"){var te=V[$],K=C[$],q=y[$];S.columnStyles=(0,h.assign)({},te,K,q)}else{var W=[V,C,y],H=W.map(function(oe){return oe[$]||{}});S[$]=(0,h.assign)({},H[0],H[1],H[2])}},k=0,P=Object.keys(S);k<P.length;k++){var L=P[k];I(L)}return S}function _(V,C,y){for(var S=[V,C,y],I={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},k=0,P=S;k<P.length;k++){var L=P[k];L.didParseCell&&I.didParseCell.push(L.didParseCell),L.willDrawCell&&I.willDrawCell.push(L.willDrawCell),L.didDrawCell&&I.didDrawCell.push(L.didDrawCell),L.willDrawPage&&I.willDrawPage.push(L.willDrawPage),L.didDrawPage&&I.didDrawPage.push(L.didDrawPage)}return I}function b(V,C){var y,S,I,k,P,L,$,te,K,q,W,H,oe=(0,d.parseSpacing)(C.margin,40/V.scaleFactor()),le=(y=E(V,C.startY))!==null&&y!==void 0?y:oe.top,j;C.showFoot===!0?j="everyPage":C.showFoot===!1?j="never":j=(S=C.showFoot)!==null&&S!==void 0?S:"everyPage";var z;C.showHead===!0?z="everyPage":C.showHead===!1?z="never":z=(I=C.showHead)!==null&&I!==void 0?I:"everyPage";var Z=(k=C.useCss)!==null&&k!==void 0?k:!1,ne=C.theme||(Z?"plain":"striped"),se=!!C.horizontalPageBreak,fe=(P=C.horizontalPageBreakRepeat)!==null&&P!==void 0?P:null;return{includeHiddenHtml:(L=C.includeHiddenHtml)!==null&&L!==void 0?L:!1,useCss:Z,theme:ne,startY:le,margin:oe,pageBreak:($=C.pageBreak)!==null&&$!==void 0?$:"auto",rowPageBreak:(te=C.rowPageBreak)!==null&&te!==void 0?te:"auto",tableWidth:(K=C.tableWidth)!==null&&K!==void 0?K:"auto",showHead:z,showFoot:j,tableLineWidth:(q=C.tableLineWidth)!==null&&q!==void 0?q:0,tableLineColor:(W=C.tableLineColor)!==null&&W!==void 0?W:200,horizontalPageBreak:se,horizontalPageBreakRepeat:fe,horizontalPageBreakBehaviour:(H=C.horizontalPageBreakBehaviour)!==null&&H!==void 0?H:"afterAllRows"}}function E(V,C){var y=V.getLastAutoTable(),S=V.scaleFactor(),I=V.pageNumber(),k=!1;if(y&&y.startPageNumber){var P=y.startPageNumber+y.pageNumber-1;k=P===I}return typeof C=="number"?C:(C==null||C===!1)&&k&&(y==null?void 0:y.finalY)!=null?y.finalY+20/S:null}function R(V,C,y){var S=C.head||[],I=C.body||[],k=C.foot||[];if(C.html){var P=C.includeHiddenHtml;if(y){var L=(0,u.parseHtml)(V,C.html,y,P,C.useCss)||{};S=L.head||S,I=L.body||S,k=L.foot||S}else console.error("Cannot parse html in non browser environment")}var $=C.columns||O(S,I,k);return{columns:$,head:S,body:I,foot:k}}function O(V,C,y){var S=V[0]||C[0]||y[0]||[],I=[];return Object.keys(S).filter(function(k){return k!=="_element"}).forEach(function(k){var P=1,L;Array.isArray(S)?L=S[parseInt(k)]:L=S[k],typeof L=="object"&&!Array.isArray(L)&&(P=(L==null?void 0:L.colSpan)||1);for(var $=0;$<P;$++){var te=void 0;Array.isArray(S)?te=I.length:te=k+($>0?"_".concat($):"");var K={dataKey:te};I.push(K)}}),I}},792:function(a,l){Object.defineProperty(l,"__esModule",{value:!0});function c(h,d,f,g){for(var w=function(E){E&&typeof E!="object"&&console.error("The options parameter should be of type object, is: "+typeof E),typeof E.extendWidth<"u"&&(E.tableWidth=E.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof E.margins<"u"&&(typeof E.margin>"u"&&(E.margin=E.margins),console.error("Use of deprecated option: margins, use margin instead.")),E.startY&&typeof E.startY!="number"&&(console.error("Invalid value for startY option",E.startY),delete E.startY),!E.didDrawPage&&(E.afterPageContent||E.beforePageContent||E.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),E.didDrawPage=function(k){h.applyStyles(h.userStyles),E.beforePageContent&&E.beforePageContent(k),h.applyStyles(h.userStyles),E.afterPageContent&&E.afterPageContent(k),h.applyStyles(h.userStyles),E.afterPageAdd&&k.pageNumber>1&&k.afterPageAdd(k),h.applyStyles(h.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(k){E[k]&&console.error('The "'.concat(k,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(k){var P=k[0],L=k[1];E[L]&&(console.error("Use of deprecated option ".concat(L,". Use ").concat(P," instead")),E[P]=E[L])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(k){var P=typeof k=="string"?k:k[0],L=typeof k=="string"?k:k[1];typeof E[P]<"u"&&(typeof E.styles[L]>"u"&&(E.styles[L]=E[P]),console.error("Use of deprecated option: "+P+", use the style "+L+" instead."))});for(var R=0,O=["styles","bodyStyles","headStyles","footStyles"];R<O.length;R++){var V=O[R];u(E[V]||{})}for(var C=E.columnStyles||{},y=0,S=Object.keys(C);y<S.length;y++){var I=S[y];u(C[I]||{})}},x=0,_=[d,f,g];x<_.length;x++){var b=_[x];w(b)}}l.default=c;function u(h){h.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),h.minCellHeight||(h.minCellHeight=h.rowHeight)):h.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),h.cellWidth||(h.cellWidth=h.columnWidth))}},260:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.Column=l.Cell=l.Row=l.Table=void 0;var u=c(796),h=c(172),d=c(420),f=function(){function _(b,E){this.pageNumber=1,this.pageCount=1,this.id=b.id,this.settings=b.settings,this.styles=b.styles,this.hooks=b.hooks,this.columns=E.columns,this.head=E.head,this.body=E.body,this.foot=E.foot}return _.prototype.getHeadHeight=function(b){return this.head.reduce(function(E,R){return E+R.getMaxCellHeight(b)},0)},_.prototype.getFootHeight=function(b){return this.foot.reduce(function(E,R){return E+R.getMaxCellHeight(b)},0)},_.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},_.prototype.callCellHooks=function(b,E,R,O,V,C){for(var y=0,S=E;y<S.length;y++){var I=S[y],k=new h.CellHookData(b,this,R,O,V,C),P=I(k)===!1;if(R.text=Array.isArray(R.text)?R.text:[R.text],P)return!1}return!0},_.prototype.callEndPageHooks=function(b,E){b.applyStyles(b.userStyles);for(var R=0,O=this.hooks.didDrawPage;R<O.length;R++){var V=O[R];V(new h.HookData(b,this,E))}},_.prototype.callWillDrawPageHooks=function(b,E){for(var R=0,O=this.hooks.willDrawPage;R<O.length;R++){var V=O[R];V(new h.HookData(b,this,E))}},_.prototype.getWidth=function(b){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var E=this.columns.reduce(function(O,V){return O+V.wrappedWidth},0);return E}else{var R=this.settings.margin;return b-R.left-R.right}},_}();l.Table=f;var g=function(){function _(b,E,R,O,V){V===void 0&&(V=!1),this.height=0,this.raw=b,b instanceof u.HtmlRowInput&&(this.raw=b._element,this.element=b._element),this.index=E,this.section=R,this.cells=O,this.spansMultiplePages=V}return _.prototype.getMaxCellHeight=function(b){var E=this;return b.reduce(function(R,O){var V;return Math.max(R,((V=E.cells[O.index])===null||V===void 0?void 0:V.height)||0)},0)},_.prototype.hasRowSpan=function(b){var E=this;return b.filter(function(R){var O=E.cells[R.index];return O?O.rowSpan>1:!1}).length>0},_.prototype.canEntireRowFit=function(b,E){return this.getMaxCellHeight(E)<=b},_.prototype.getMinimumRowHeight=function(b,E){var R=this;return b.reduce(function(O,V){var C=R.cells[V.index];if(!C)return 0;var y=E.getLineHeight(C.styles.fontSize),S=C.padding("vertical"),I=S+y;return I>O?I:O},0)},_}();l.Row=g;var w=function(){function _(b,E,R){var O,V;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=E,this.section=R,this.raw=b;var C=b;b!=null&&typeof b=="object"&&!Array.isArray(b)?(this.rowSpan=b.rowSpan||1,this.colSpan=b.colSpan||1,C=(V=(O=b.content)!==null&&O!==void 0?O:b.title)!==null&&V!==void 0?V:b,b._element&&(this.raw=b._element)):(this.rowSpan=1,this.colSpan=1);var y=C!=null?""+C:"",S=/\r\n|\r|\n/g;this.text=y.split(S)}return _.prototype.getTextPos=function(){var b;if(this.styles.valign==="top")b=this.y+this.padding("top");else if(this.styles.valign==="bottom")b=this.y+this.height-this.padding("bottom");else{var E=this.height-this.padding("vertical");b=this.y+E/2+this.padding("top")}var R;if(this.styles.halign==="right")R=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var O=this.width-this.padding("horizontal");R=this.x+O/2+this.padding("left")}else R=this.x+this.padding("left");return{x:R,y:b}},_.prototype.getContentHeight=function(b,E){E===void 0&&(E=1.15);var R=Array.isArray(this.text)?this.text.length:1,O=this.styles.fontSize/b*E,V=R*O+this.padding("vertical");return Math.max(V,this.styles.minCellHeight)},_.prototype.padding=function(b){var E=(0,d.parseSpacing)(this.styles.cellPadding,0);return b==="vertical"?E.top+E.bottom:b==="horizontal"?E.left+E.right:E[b]},_}();l.Cell=w;var x=function(){function _(b,E,R){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=b,this.raw=E,this.index=R}return _.prototype.getMaxCustomCellWidth=function(b){for(var E=0,R=0,O=b.allRows();R<O.length;R++){var V=O[R],C=V.cells[this.index];C&&typeof C.styles.cellWidth=="number"&&(E=Math.max(E,C.styles.cellWidth))}return E},_}();l.Column=x},356:function(a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.assign=void 0;function c(u,h,d,f,g){if(u==null)throw new TypeError("Cannot convert undefined or null to object");for(var w=Object(u),x=1;x<arguments.length;x++){var _=arguments[x];if(_!=null)for(var b in _)Object.prototype.hasOwnProperty.call(_,b)&&(w[b]=_[b])}return w}l.assign=c},972:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.createTable=void 0;var u=c(744),h=c(260),d=c(324),f=c(796),g=c(356);function w(V,C){var y=new u.DocHandler(V),S=x(C,y.scaleFactor()),I=new h.Table(C,S);return(0,d.calculateWidths)(y,I),y.applyStyles(y.userStyles),I}l.createTable=w;function x(V,C){var y=V.content,S=R(y.columns);if(y.head.length===0){var I=b(S,"head");I&&y.head.push(I)}if(y.foot.length===0){var I=b(S,"foot");I&&y.foot.push(I)}var k=V.settings.theme,P=V.styles;return{columns:S,head:_("head",y.head,S,P,k,C),body:_("body",y.body,S,P,k,C),foot:_("foot",y.foot,S,P,k,C)}}function _(V,C,y,S,I,k){var P={},L=C.map(function($,te){for(var K=0,q={},W=0,H=0,oe=0,le=y;oe<le.length;oe++){var j=le[oe];if(P[j.index]==null||P[j.index].left===0)if(H===0){var z=void 0;Array.isArray($)?z=$[j.index-W-K]:z=$[j.dataKey];var Z={};typeof z=="object"&&!Array.isArray(z)&&(Z=(z==null?void 0:z.styles)||{});var ne=O(V,j,te,I,S,k,Z),se=new h.Cell(z,ne,V);q[j.dataKey]=se,q[j.index]=se,H=se.colSpan-1,P[j.index]={left:se.rowSpan-1,times:H}}else H--,W++;else P[j.index].left--,H=P[j.index].times,K++}return new h.Row($,te,V,q)});return L}function b(V,C){var y={};return V.forEach(function(S){if(S.raw!=null){var I=E(C,S.raw);I!=null&&(y[S.dataKey]=I)}}),Object.keys(y).length>0?y:null}function E(V,C){if(V==="head"){if(typeof C=="object")return C.header||C.title||null;if(typeof C=="string"||typeof C=="number")return C}else if(V==="foot"&&typeof C=="object")return C.footer;return null}function R(V){return V.map(function(C,y){var S,I,k;return typeof C=="object"?k=(I=(S=C.dataKey)!==null&&S!==void 0?S:C.key)!==null&&I!==void 0?I:y:k=y,new h.Column(k,C,y)})}function O(V,C,y,S,I,k,P){var L=(0,f.getTheme)(S),$;V==="head"?$=I.headStyles:V==="body"?$=I.bodyStyles:V==="foot"&&($=I.footStyles);var te=(0,g.assign)({},L.table,L[V],I.styles,$),K=I.columnStyles[C.dataKey]||I.columnStyles[C.index]||{},q=V==="body"?K:{},W=V==="body"&&y%2===0?(0,g.assign)({},L.alternateRow,I.alternateRowStyles):{},H=(0,f.defaultStyles)(k),oe=(0,g.assign)({},H,te,W,q);return(0,g.assign)(oe,P)}},664:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.addPage=l.drawTable=void 0;var u=c(420),h=c(260),d=c(744),f=c(356),g=c(136),w=c(224);function x(K,q){var W=q.settings,H=W.startY,oe=W.margin,le={x:oe.left,y:H},j=q.getHeadHeight(q.columns)+q.getFootHeight(q.columns),z=H+oe.bottom+j;if(W.pageBreak==="avoid"){var Z=q.body,ne=Z.reduce(function(de,ge){return de+ge.height},0);z+=ne}var se=new d.DocHandler(K);(W.pageBreak==="always"||W.startY!=null&&z>se.pageSize().height)&&(te(se),le.y=oe.top),q.callWillDrawPageHooks(se,le);var fe=(0,f.assign)({},le);q.startPageNumber=se.pageNumber(),W.horizontalPageBreak?_(se,q,fe,le):(se.applyStyles(se.userStyles),(W.showHead==="firstPage"||W.showHead==="everyPage")&&q.head.forEach(function(de){return I(se,q,de,le,q.columns)}),se.applyStyles(se.userStyles),q.body.forEach(function(de,ge){var Te=ge===q.body.length-1;S(se,q,de,Te,fe,le,q.columns)}),se.applyStyles(se.userStyles),(W.showFoot==="lastPage"||W.showFoot==="everyPage")&&q.foot.forEach(function(de){return I(se,q,de,le,q.columns)})),(0,u.addTableBorder)(se,q,fe,le),q.callEndPageHooks(se,le),q.finalY=le.y,K.lastAutoTable=q,K.previousAutoTable=q,K.autoTable&&(K.autoTable.previous=q),se.applyStyles(se.userStyles)}l.drawTable=x;function _(K,q,W,H){var oe=(0,w.calculateAllColumnsCanFitInPage)(K,q),le=q.settings;if(le.horizontalPageBreakBehaviour==="afterAllRows")oe.forEach(function(ne,se){K.applyStyles(K.userStyles),se>0?$(K,q,W,H,ne.columns,!0):b(K,q,H,ne.columns),E(K,q,W,H,ne.columns),O(K,q,H,ne.columns)});else for(var j=-1,z=oe[0],Z=function(){var ne=j;if(z){K.applyStyles(K.userStyles);var se=z.columns;j>=0?$(K,q,W,H,se,!0):b(K,q,H,se),ne=R(K,q,j+1,H,se),O(K,q,H,se)}var fe=ne-j;oe.slice(1).forEach(function(de){K.applyStyles(K.userStyles),$(K,q,W,H,de.columns,!0),R(K,q,j+1,H,de.columns,fe),O(K,q,H,de.columns)}),j=ne};j<q.body.length-1;)Z()}function b(K,q,W,H){var oe=q.settings;K.applyStyles(K.userStyles),(oe.showHead==="firstPage"||oe.showHead==="everyPage")&&q.head.forEach(function(le){return I(K,q,le,W,H)})}function E(K,q,W,H,oe){K.applyStyles(K.userStyles),q.body.forEach(function(le,j){var z=j===q.body.length-1;S(K,q,le,z,W,H,oe)})}function R(K,q,W,H,oe,le){K.applyStyles(K.userStyles),le=le??q.body.length;var j=Math.min(W+le,q.body.length),z=-1;return q.body.slice(W,j).forEach(function(Z,ne){var se=W+ne===q.body.length-1,fe=L(K,q,se,H);Z.canEntireRowFit(fe,oe)&&(I(K,q,Z,H,oe),z=W+ne)}),z}function O(K,q,W,H){var oe=q.settings;K.applyStyles(K.userStyles),(oe.showFoot==="lastPage"||oe.showFoot==="everyPage")&&q.foot.forEach(function(le){return I(K,q,le,W,H)})}function V(K,q,W){var H=W.getLineHeight(K.styles.fontSize),oe=K.padding("vertical"),le=Math.floor((q-oe)/H);return Math.max(0,le)}function C(K,q,W,H){var oe={};K.spansMultiplePages=!0,K.height=0;for(var le=0,j=0,z=W.columns;j<z.length;j++){var Z=z[j],ne=K.cells[Z.index];if(ne){Array.isArray(ne.text)||(ne.text=[ne.text]);var se=new h.Cell(ne.raw,ne.styles,ne.section);se=(0,f.assign)(se,ne),se.text=[];var fe=V(ne,q,H);ne.text.length>fe&&(se.text=ne.text.splice(fe,ne.text.length));var de=H.scaleFactor(),ge=H.getLineHeightFactor();ne.contentHeight=ne.getContentHeight(de,ge),ne.contentHeight>=q&&(ne.contentHeight=q,se.styles.minCellHeight-=q),ne.contentHeight>K.height&&(K.height=ne.contentHeight),se.contentHeight=se.getContentHeight(de,ge),se.contentHeight>le&&(le=se.contentHeight),oe[Z.index]=se}}var Te=new h.Row(K.raw,-1,K.section,oe,!0);Te.height=le;for(var Se=0,Me=W.columns;Se<Me.length;Se++){var Z=Me[Se],se=Te.cells[Z.index];se&&(se.height=Te.height);var ne=K.cells[Z.index];ne&&(ne.height=K.height)}return Te}function y(K,q,W,H){var oe=K.pageSize().height,le=H.settings.margin,j=le.top+le.bottom,z=oe-j;q.section==="body"&&(z-=H.getHeadHeight(H.columns)+H.getFootHeight(H.columns));var Z=q.getMinimumRowHeight(H.columns,K),ne=Z<W;if(Z>z)return console.error("Will not be able to print row ".concat(q.index," correctly since it's minimum height is larger than page height")),!0;if(!ne)return!1;var se=q.hasRowSpan(H.columns),fe=q.getMaxCellHeight(H.columns)>z;return fe?(se&&console.error("The content of row ".concat(q.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(se||H.settings.rowPageBreak==="avoid")}function S(K,q,W,H,oe,le,j){var z=L(K,q,H,le);if(W.canEntireRowFit(z,j))I(K,q,W,le,j);else if(y(K,W,z,q)){var Z=C(W,z,q,K);I(K,q,W,le,j),$(K,q,oe,le,j),S(K,q,Z,H,oe,le,j)}else $(K,q,oe,le,j),S(K,q,W,H,oe,le,j)}function I(K,q,W,H,oe){H.x=q.settings.margin.left;for(var le=0,j=oe;le<j.length;le++){var z=j[le],Z=W.cells[z.index];if(!Z){H.x+=z.width;continue}K.applyStyles(Z.styles),Z.x=H.x,Z.y=H.y;var ne=q.callCellHooks(K,q.hooks.willDrawCell,Z,W,z,H);if(ne===!1){H.x+=z.width;continue}k(K,Z,H);var se=Z.getTextPos();(0,g.default)(Z.text,se.x,se.y,{halign:Z.styles.halign,valign:Z.styles.valign,maxWidth:Math.ceil(Z.width-Z.padding("left")-Z.padding("right"))},K.getDocument()),q.callCellHooks(K,q.hooks.didDrawCell,Z,W,z,H),H.x+=z.width}H.y+=W.height}function k(K,q,W){var H=q.styles;if(K.getDocument().setFillColor(K.getDocument().getFillColor()),typeof H.lineWidth=="number"){var oe=(0,u.getFillStyle)(H.lineWidth,H.fillColor);oe&&K.rect(q.x,W.y,q.width,q.height,oe)}else typeof H.lineWidth=="object"&&(H.fillColor&&K.rect(q.x,W.y,q.width,q.height,"F"),P(K,q,W,H.lineWidth))}function P(K,q,W,H){var oe,le,j,z;H.top&&(oe=W.x,le=W.y,j=W.x+q.width,z=W.y,H.right&&(j+=.5*H.right),H.left&&(oe-=.5*H.left),Z(H.top,oe,le,j,z)),H.bottom&&(oe=W.x,le=W.y+q.height,j=W.x+q.width,z=W.y+q.height,H.right&&(j+=.5*H.right),H.left&&(oe-=.5*H.left),Z(H.bottom,oe,le,j,z)),H.left&&(oe=W.x,le=W.y,j=W.x,z=W.y+q.height,H.top&&(le-=.5*H.top),H.bottom&&(z+=.5*H.bottom),Z(H.left,oe,le,j,z)),H.right&&(oe=W.x+q.width,le=W.y,j=W.x+q.width,z=W.y+q.height,H.top&&(le-=.5*H.top),H.bottom&&(z+=.5*H.bottom),Z(H.right,oe,le,j,z));function Z(ne,se,fe,de,ge){K.getDocument().setLineWidth(ne),K.getDocument().line(se,fe,de,ge,"S")}}function L(K,q,W,H){var oe=q.settings.margin.bottom,le=q.settings.showFoot;return(le==="everyPage"||le==="lastPage"&&W)&&(oe+=q.getFootHeight(q.columns)),K.pageSize().height-H.y-oe}function $(K,q,W,H,oe,le){oe===void 0&&(oe=[]),le===void 0&&(le=!1),K.applyStyles(K.userStyles),q.settings.showFoot==="everyPage"&&!le&&q.foot.forEach(function(z){return I(K,q,z,H,oe)}),q.callEndPageHooks(K,H);var j=q.settings.margin;(0,u.addTableBorder)(K,q,W,H),te(K),q.pageNumber++,q.pageCount++,H.x=j.left,H.y=j.top,W.y=j.top,q.callWillDrawPageHooks(K,H),q.settings.showHead==="everyPage"&&(q.head.forEach(function(z){return I(K,q,z,H,oe)}),K.applyStyles(K.userStyles))}l.addPage=$;function te(K){var q=K.pageNumber();K.setPage(q+1);var W=K.pageNumber();return W===q?(K.addPage(),!0):!1}},224:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.calculateAllColumnsCanFitInPage=void 0;var u=c(420);function h(f,g,w){var x;w===void 0&&(w={});var _=(0,u.getPageAvailableWidth)(f,g),b=new Map,E=[],R=[],O=[];g.settings.horizontalPageBreakRepeat,Array.isArray(g.settings.horizontalPageBreakRepeat)?O=g.settings.horizontalPageBreakRepeat:(typeof g.settings.horizontalPageBreakRepeat=="string"||typeof g.settings.horizontalPageBreakRepeat=="number")&&(O=[g.settings.horizontalPageBreakRepeat]),O.forEach(function(S){var I=g.columns.find(function(k){return k.dataKey===S||k.index===S});I&&!b.has(I.index)&&(b.set(I.index,!0),E.push(I.index),R.push(g.columns[I.index]),_-=I.wrappedWidth)});for(var V=!0,C=(x=w==null?void 0:w.start)!==null&&x!==void 0?x:0;C<g.columns.length;){if(b.has(C)){C++;continue}var y=g.columns[C].wrappedWidth;if(V||_>=y)V=!1,E.push(C),R.push(g.columns[C]),_-=y;else break;C++}return{colIndexes:E,columns:R,lastIndex:C-1}}function d(f,g){for(var w=[],x=0;x<g.columns.length;x++){var _=h(f,g,{start:x});_.columns.length&&(w.push(_),x=_.lastIndex)}return w}l.calculateAllColumnsCanFitInPage=d},324:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.ellipsize=l.resizeColumns=l.calculateWidths=void 0;var u=c(420);function h(E,R){d(E,R);var O=[],V=0;R.columns.forEach(function(y){var S=y.getMaxCustomCellWidth(R);S?y.width=S:(y.width=y.wrappedWidth,O.push(y)),V+=y.width});var C=R.getWidth(E.pageSize().width)-V;C&&(C=f(O,C,function(y){return Math.max(y.minReadableWidth,y.minWidth)})),C&&(C=f(O,C,function(y){return y.minWidth})),C=Math.abs(C),!R.settings.horizontalPageBreak&&C>.1/E.scaleFactor()&&(C=C<1?C:Math.round(C),console.warn("Of the table content, ".concat(C," units width could not fit page"))),w(R),x(R,E),g(R)}l.calculateWidths=h;function d(E,R){var O=E.scaleFactor(),V=R.settings.horizontalPageBreak,C=(0,u.getPageAvailableWidth)(E,R);R.allRows().forEach(function(y){for(var S=0,I=R.columns;S<I.length;S++){var k=I[S],P=y.cells[k.index];if(P){var L=R.hooks.didParseCell;R.callCellHooks(E,L,P,y,k,null);var $=P.padding("horizontal");P.contentWidth=(0,u.getStringWidth)(P.text,P.styles,E)+$;var te=(0,u.getStringWidth)(P.text.join(" ").split(/[^\S\u00A0]+/),P.styles,E);if(P.minReadableWidth=te+P.padding("horizontal"),typeof P.styles.cellWidth=="number")P.minWidth=P.styles.cellWidth,P.wrappedWidth=P.styles.cellWidth;else if(P.styles.cellWidth==="wrap"||V===!0)P.contentWidth>C?(P.minWidth=C,P.wrappedWidth=C):(P.minWidth=P.contentWidth,P.wrappedWidth=P.contentWidth);else{var K=10/O;P.minWidth=P.styles.minCellWidth||K,P.wrappedWidth=P.contentWidth,P.minWidth>P.wrappedWidth&&(P.wrappedWidth=P.minWidth)}}}}),R.allRows().forEach(function(y){for(var S=0,I=R.columns;S<I.length;S++){var k=I[S],P=y.cells[k.index];if(P&&P.colSpan===1)k.wrappedWidth=Math.max(k.wrappedWidth,P.wrappedWidth),k.minWidth=Math.max(k.minWidth,P.minWidth),k.minReadableWidth=Math.max(k.minReadableWidth,P.minReadableWidth);else{var L=R.styles.columnStyles[k.dataKey]||R.styles.columnStyles[k.index]||{},$=L.cellWidth||L.minCellWidth;$&&typeof $=="number"&&(k.minWidth=$,k.wrappedWidth=$)}P&&(P.colSpan>1&&!k.minWidth&&(k.minWidth=P.minWidth),P.colSpan>1&&!k.wrappedWidth&&(k.wrappedWidth=P.minWidth))}})}function f(E,R,O){for(var V=R,C=E.reduce(function(K,q){return K+q.wrappedWidth},0),y=0;y<E.length;y++){var S=E[y],I=S.wrappedWidth/C,k=V*I,P=S.width+k,L=O(S),$=P<L?L:P;R-=$-S.width,S.width=$}if(R=Math.round(R*1e10)/1e10,R){var te=E.filter(function(K){return R<0?K.width>O(K):!0});te.length&&(R=f(te,R,O))}return R}l.resizeColumns=f;function g(E){for(var R={},O=1,V=E.allRows(),C=0;C<V.length;C++)for(var y=V[C],S=0,I=E.columns;S<I.length;S++){var k=I[S],P=R[k.index];if(O>1)O--,delete y.cells[k.index];else if(P)P.cell.height+=y.height,O=P.cell.colSpan,delete y.cells[k.index],P.left--,P.left<=1&&delete R[k.index];else{var L=y.cells[k.index];if(!L)continue;if(L.height=y.height,L.rowSpan>1){var $=V.length-C,te=L.rowSpan>$?$:L.rowSpan;R[k.index]={cell:L,left:te,row:y}}}}}function w(E){for(var R=E.allRows(),O=0;O<R.length;O++)for(var V=R[O],C=null,y=0,S=0,I=0;I<E.columns.length;I++){var k=E.columns[I];if(S-=1,S>1&&E.columns[I+1])y+=k.width,delete V.cells[k.index];else if(C){var P=C;delete V.cells[k.index],C=null,P.width=k.width+y}else{var P=V.cells[k.index];if(!P)continue;if(S=P.colSpan,y=0,P.colSpan>1){C=P,y+=k.width;continue}P.width=k.width+y}}}function x(E,R){for(var O={count:0,height:0},V=0,C=E.allRows();V<C.length;V++){for(var y=C[V],S=0,I=E.columns;S<I.length;S++){var k=I[S],P=y.cells[k.index];if(P){R.applyStyles(P.styles,!0);var L=P.width-P.padding("horizontal");if(P.styles.overflow==="linebreak")P.text=R.splitTextToSize(P.text,L+1/R.scaleFactor(),{fontSize:P.styles.fontSize});else if(P.styles.overflow==="ellipsize")P.text=_(P.text,L,P.styles,R,"...");else if(P.styles.overflow==="hidden")P.text=_(P.text,L,P.styles,R,"");else if(typeof P.styles.overflow=="function"){var $=P.styles.overflow(P.text,L);typeof $=="string"?P.text=[$]:P.text=$}P.contentHeight=P.getContentHeight(R.scaleFactor(),R.getLineHeightFactor());var te=P.contentHeight/P.rowSpan;P.rowSpan>1&&O.count*O.height<te*P.rowSpan?O={height:te,count:P.rowSpan}:O&&O.count>0&&O.height>te&&(te=O.height),te>y.height&&(y.height=te)}}O.count--}}function _(E,R,O,V,C){return E.map(function(y){return b(y,R,O,V,C)})}l.ellipsize=_;function b(E,R,O,V,C){var y=1e4*V.scaleFactor();if(R=Math.ceil(R*y)/y,R>=(0,u.getStringWidth)(E,O,V))return E;for(;R<(0,u.getStringWidth)(E+C,O,V)&&!(E.length<=1);)E=E.substring(0,E.length-1);return E.trim()+C}},964:function(a){if(typeof t>"u"){var l=new Error("Cannot find module 'undefined'");throw l.code="MODULE_NOT_FOUND",l}a.exports=t}},i={};function s(a){var l=i[a];if(l!==void 0)return l.exports;var c=i[a]={exports:{}};return r[a].call(c.exports,c,c.exports,s),c.exports}var o={};return function(){var a=o;Object.defineProperty(a,"__esModule",{value:!0}),a.Cell=a.Column=a.Row=a.Table=a.CellHookData=a.__drawTable=a.__createTable=a.applyPlugin=void 0;var l=s(340),c=s(776),u=s(664),h=s(972),d=s(260);Object.defineProperty(a,"Table",{enumerable:!0,get:function(){return d.Table}});var f=s(172);Object.defineProperty(a,"CellHookData",{enumerable:!0,get:function(){return f.CellHookData}});var g=s(260);Object.defineProperty(a,"Cell",{enumerable:!0,get:function(){return g.Cell}}),Object.defineProperty(a,"Column",{enumerable:!0,get:function(){return g.Column}}),Object.defineProperty(a,"Row",{enumerable:!0,get:function(){return g.Row}});function w(R){(0,l.default)(R)}a.applyPlugin=w;function x(R,O){var V=(0,c.parseInput)(R,O),C=(0,h.createTable)(R,V);(0,u.drawTable)(R,C)}function _(R,O){var V=(0,c.parseInput)(R,O);return(0,h.createTable)(R,V)}a.__createTable=_;function b(R,O){(0,u.drawTable)(R,O)}a.__drawTable=b;try{var E=s(964);E.jsPDF&&(E=E.jsPDF),w(E)}catch{}a.default=x}(),o}()})})(WW);const t6=ee.createContext(),mx=()=>ee.useContext(t6),qW=({children:n})=>{const e=()=>{try{const s=localStorage.getItem("itemsPerPage");return s&&!isNaN(parseInt(s,10))?parseInt(s,10):10}catch(s){return console.error("Erro ao ler 'itemsPerPage' do localStorage:",s),10}},[t,r]=ee.useState(e);ee.useEffect(()=>{try{localStorage.setItem("itemsPerPage",t)}catch(s){console.error("Erro ao salvar 'itemsPerPage' no localStorage:",s)}},[t]);const i={itemsPerPage:t,setItemsPerPage:r};return T.jsx(t6.Provider,{value:i,children:n})},$W=()=>{const{docs:n,loading:e,error:t}=fn("products"),{docs:r,loading:i,error:s}=fn("categories"),{docs:o,loading:a,error:l}=fn("locations"),[c,u]=ee.useState(!1),[h,d]=ee.useState(!1),[f,g]=ee.useState(null),[w,x]=ee.useState(null),{itemsPerPage:_}=mx(),[b,E]=ee.useState(""),[R,O]=ee.useState(""),[V,C]=ee.useState(""),[y,S]=ee.useState(1),I=e||i||a,k=ee.useMemo(()=>{const H=[];return t&&H.push(`Erro ao carregar produtos: ${t.message}`),s&&H.push(`Erro ao carregar categorias: ${s.message}`),l&&H.push(`Erro ao carregar locais: ${l.message}`),H.length===0?null:new Error(H.join("; "))},[t,s,l]),P=ee.useMemo(()=>(n||[]).filter(H=>H.name.toLowerCase().includes(b.toLowerCase())&&(R===""||H.category===R)&&(V===""||H.location===V)),[n,b,R,V]),L=ee.useMemo(()=>{const H=(y-1)*_;return P.slice(H,H+_)},[P,y,_]),$=(H=null)=>{g(H),u(!0)},te=()=>{u(!1),g(null)},K=H=>{x(H),d(!0)},q=()=>{d(!1),x(null)},W=async()=>{if(!w)return;const H=bt.loading("Excluindo produto...");try{await cx(qn(Zt,"products",w.id)),bt.success("Produto excludo com sucesso!",{id:H})}catch(oe){console.error("Erro ao excluir produto:",oe),bt.error("Erro ao excluir produto.",{id:H})}};return{products:L,categories:r,locations:o,totalProducts:P.length,isLoading:I,error:k,isModalOpen:c,selectedProduct:f,handleOpenModal:$,handleCloseModal:te,isDeleteModalOpen:h,productToDelete:w,handleOpenDeleteModal:K,handleCloseDeleteModal:q,handleDeleteProduct:W,setSearchTerm:E,setCategoryFilter:O,setLocationFilter:C,setCurrentPage:S,itemsPerPage:_,currentPage:y}},n6=({isOpen:n,onClose:e,productToEdit:t,locations:r,userData:i})=>{const[s,o]=ee.useState(""),[a,l]=ee.useState(""),[c,u]=ee.useState("un"),[h,d]=ee.useState(""),[f,g]=ee.useState(""),[w,x]=ee.useState({}),{docs:_}=fn("categories");ee.useEffect(()=>{n&&(t?(o(t.name||""),l(t.categoryId||""),u(t.unit||"un"),d(t.minStock||""),g(t.cost||""),x(t.locations||{})):(o(""),l(""),u("un"),d(""),g(""),x({})))},[t,n]);const b=(R,O)=>{const V=O===""?"":Number(O);V<0||x(C=>({...C,[R]:V}))},E=async R=>{if(R.preventDefault(),!s||!a||!c){bt.error("Por favor, preencha todos os campos obrigatrios.");return}const O=Object.entries(w).reduce((y,[S,I])=>(y[S]=Number(I)||0,y),{}),V={name:s,categoryId:a,unit:c,minStock:Number(h)||0,cost:Number(f)||0,locations:O,updatedAt:Du()},C=async()=>{let y=t==null?void 0:t.id;if(t){const $=qn(Zt,"products",y);await hy($,V)}else y=(await af(zi(Zt,"products"),{...V,createdAt:Du()})).id;const S=bI(Zt),I=zi(Zt,"movements"),k=(t==null?void 0:t.locations)||{},P=r.reduce(($,te)=>($[te.id]=te.name,$),{});new Set([...Object.keys(k),...Object.keys(O)]).forEach($=>{const te=Number(k[$]||0),K=Number(O[$]||0);if(te!==K){const q=qn(I);S.set(q,{productId:y,productName:s,locationId:$,locationName:P[$]||"N/A",quantityBefore:te,quantityAfter:K,quantityChanged:K-te,type:t?"Ajuste Manual":"Entrada Inicial",userId:(i==null?void 0:i.uid)||"unknown",userName:(i==null?void 0:i.displayName)||(i==null?void 0:i.email)||"unknown",timestamp:Du()})}}),await S.commit()};bt.promise(C(),{loading:"Salvando produto...",success:`Produto "${s}" salvo com sucesso!`,error:y=>`Falha ao salvar: ${y.message}`}),e()};return n?T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:T.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[T.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:t?"Editar Produto":"Adicionar Produto"}),T.jsxs("form",{onSubmit:E,children:[T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[T.jsxs("div",{className:"md:col-span-2",children:[T.jsx("label",{htmlFor:"productName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Produto"}),T.jsx("input",{type:"text",id:"productName",value:s,onChange:R=>o(R.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),T.jsxs("select",{id:"category",value:a,onChange:R=>l(R.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[T.jsx("option",{value:"",disabled:!0,children:"Selecione..."}),_.map(R=>T.jsx("option",{value:R.id,children:R.name},R.id))]})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"unit",className:"block text-sm font-medium text-gray-700 mb-1",children:"Unidade"}),T.jsxs("select",{id:"unit",value:c,onChange:R=>u(R.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[T.jsx("option",{value:"un",children:"Unidade (un)"}),T.jsx("option",{value:"kg",children:"Quilograma (kg)"}),T.jsx("option",{value:"g",children:"Grama (g)"}),T.jsx("option",{value:"m",children:"Metro (m)"}),T.jsx("option",{value:"l",children:"Litro (l)"}),T.jsx("option",{value:"caixa",children:"Caixa (cx)"})]})]}),T.jsxs("div",{className:"md:col-span-2",children:[T.jsx("label",{htmlFor:"minStock",className:"block text-sm font-medium text-gray-700 mb-1",children:"Estoque Mnimo (Total)"}),T.jsx("input",{type:"number",id:"minStock",value:h,onChange:R=>d(R.target.value),placeholder:"Ex: 10",className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),T.jsxs("div",{className:"md:col-span-2",children:[T.jsx("label",{htmlFor:"cost",className:"block text-sm font-medium text-gray-700 mb-1",children:"Custo por Unidade (R$)"}),T.jsx("input",{type:"number",id:"cost",value:f,onChange:R=>g(R.target.value),placeholder:"Ex: 25.50",step:"0.01",className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),T.jsxs("div",{className:"mt-8",children:[T.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4 border-b pb-2",children:"Estoque por Localidade"}),T.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:r.map(R=>T.jsxs("div",{children:[T.jsx("label",{htmlFor:`loc-${R.id}`,className:"block text-sm font-medium text-gray-700 mb-1",children:R.name}),T.jsx("input",{type:"number",id:`loc-${R.id}`,value:w[R.id]||"",onChange:O=>b(R.id,O.target.value),placeholder:"0",min:"0",className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]},R.id))})]}),T.jsxs("div",{className:"flex justify-end gap-4 mt-8 pt-6 border-t",children:[T.jsx("button",{type:"button",onClick:e,className:"bg-gray-200 text-gray-800 font-bold py-2 px-6 rounded-lg hover:bg-gray-300 transition duration-300",children:"Cancelar"}),T.jsx("button",{type:"submit",className:"bg-blue-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-700 transition duration-300",children:t?"Salvar Alteraes":"Adicionar Produto"})]})]})]})}):null},YW=({isOpen:n,onClose:e,onConfirm:t,productName:r})=>{const[i,s]=ee.useState(!1),o=async()=>{s(!0);try{await t()}finally{s(!1),e()}};return n?T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:T.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-xl w-full max-w-md",children:[T.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Confirmar Excluso"}),T.jsxs("p",{className:"text-gray-700 mb-6",children:["Tem certeza que deseja excluir o produto ",T.jsx("span",{className:"font-bold",children:r}),"? Esta ao no pode ser desfeita."]}),T.jsxs("div",{className:"flex justify-end space-x-4",children:[T.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 bg-gray-300 text-gray-800 rounded-lg hover:bg-gray-400 transition duration-300",children:"Cancelar"}),T.jsx("button",{type:"button",onClick:o,disabled:i,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition duration-300 disabled:bg-red-300",children:i?"Excluindo...":"Excluir"})]})]})}):null},gx=({count:n=5,type:e="list",columns:t=5})=>{const r=()=>{const i=[];for(let s=0;s<n;s++)e==="list"?i.push(T.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-100 rounded-md animate-pulse",children:[T.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4"}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("div",{className:"h-6 w-6 bg-gray-300 rounded"}),T.jsx("div",{className:"h-6 w-6 bg-gray-300 rounded"})]})]},s)):e==="table"&&i.push(T.jsxs("tr",{className:"animate-pulse",children:[T.jsx("td",{className:"p-4",children:T.jsx("div",{className:"h-5 w-5 bg-gray-300 rounded"})}),[...Array(t)].map((o,a)=>T.jsx("td",{className:"py-3 px-4",children:T.jsx("div",{className:"h-4 bg-gray-300 rounded"})},a)),T.jsx("td",{className:"py-3 px-4",children:T.jsx("div",{className:"h-6 w-16 bg-gray-300 rounded"})})]},s));return i};return e==="table"?T.jsx(T.Fragment,{children:r()}):T.jsx("div",{className:"space-y-3",children:r()})},r6=({currentPage:n,totalPages:e,onPageChange:t})=>{if(e<=1)return null;const r=[];for(let i=1;i<=e;i++)r.push(i);return T.jsx("div",{className:"flex justify-center items-center mt-6",children:T.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[T.jsxs("button",{onClick:()=>t(n-1),disabled:n===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:[T.jsx("span",{className:"sr-only",children:"Anterior"}),T.jsx("i",{className:"fas fa-chevron-left h-5 w-5"})]}),r.map(i=>T.jsx("button",{onClick:()=>t(i),className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium ${n===i?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white text-gray-700 hover:bg-gray-50"}`,children:i},i)),T.jsxs("button",{onClick:()=>t(n+1),disabled:n===e,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:[T.jsx("span",{className:"sr-only",children:"Prximo"}),T.jsx("i",{className:"fas fa-chevron-right h-5 w-5"})]})]})})},GW=()=>{const{products:n,categories:e,locations:t,totalProducts:r,isLoading:i,isModalOpen:s,selectedProduct:o,handleOpenModal:a,handleCloseModal:l,isDeleteModalOpen:c,productToDelete:u,handleOpenDeleteModal:h,handleCloseDeleteModal:d,handleDeleteProduct:f,searchTerm:g,setSearchTerm:w,categoryFilter:x,setCategoryFilter:_,locationFilter:b,setLocationFilter:E,currentPage:R,setCurrentPage:O,itemsPerPage:V}=$W(),[C,y]=ee.useState(null),S=ee.useRef(null),I=()=>{const k=new ft;k.text("Relatrio de Estoque",20,10),k.autoTable({head:[["Nome","Categoria","Local","Quantidade","Preo"]],body:n.map(P=>[P.name,P.category,P.location,P.quantity,`R$ ${P.price}`])}),k.save("relatorio_estoque.pdf")};return ee.useEffect(()=>{const k=P=>{S.current&&!S.current.contains(P.target)&&y(null)};return document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}},[]),T.jsxs("div",{className:"container mx-auto p-4",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6",children:[T.jsx("h1",{className:"text-3xl font-bold",children:"Controle de Estoque"}),T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsxs("button",{onClick:I,className:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 flex items-center",children:[T.jsx(DI,{className:"mr-2"}),"Exportar PDF"]}),T.jsxs("button",{onClick:()=>a(),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 flex items-center",children:[T.jsx(pm,{className:"mr-2"}),"Adicionar Produto"]})]})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6 p-4 bg-gray-100 dark:bg-gray-800 rounded-lg",children:[T.jsxs("div",{className:"relative",children:[T.jsx("input",{type:"text",placeholder:"Buscar por nome...",className:"w-full p-2 border rounded pl-10",value:g,onChange:k=>w(k.target.value)}),T.jsx(Cz,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"})]}),T.jsxs("select",{className:"w-full p-2 border rounded",value:x,onChange:k=>_(k.target.value),children:[T.jsx("option",{value:"",children:"Todas as Categorias"}),e==null?void 0:e.map(k=>T.jsx("option",{value:k.name,children:k.name},k.id))]}),T.jsxs("select",{className:"w-full p-2 border rounded",value:b,onChange:k=>E(k.target.value),children:[T.jsx("option",{value:"",children:"Todos os Locais"}),t==null?void 0:t.map(k=>T.jsx("option",{value:k.name,children:k.name},k.id))]})]}),T.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-md rounded-lg overflow-hidden",children:T.jsx("div",{className:"overflow-x-auto",children:i?T.jsx(gx,{rows:5}):n.length>0?T.jsxs("table",{className:"min-w-full leading-normal",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Nome"}),T.jsx("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Categoria"}),T.jsx("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Local"}),T.jsx("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Quantidade"}),T.jsx("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Preo"}),T.jsx("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Aes"})]})}),T.jsx("tbody",{children:n.map(k=>T.jsxs("tr",{children:[T.jsx("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm",children:k.name}),T.jsx("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm",children:k.category}),T.jsx("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm",children:k.location}),T.jsx("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm",children:k.quantity}),T.jsxs("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm",children:["R$ ",k.price]}),T.jsxs("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm relative",ref:C===k.id?S:null,children:[T.jsx("button",{onClick:()=>y(C===k.id?null:k.id),className:"text-gray-600 hover:text-gray-900",children:T.jsx(xz,{})}),C===k.id&&T.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10",children:[T.jsx("a",{href:"#",onClick:P=>{P.preventDefault(),a(k),y(null)},className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Editar"}),T.jsx("a",{href:"#",onClick:P=>{P.preventDefault(),h(k),y(null)},className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Excluir"})]})]})]},k.id))})]}):T.jsxs("div",{className:"text-center p-10",children:[T.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Nenhum produto encontrado."}),T.jsx("p",{className:"text-gray-500 mb-4",children:"Que tal adicionar o primeiro?"}),T.jsxs("button",{onClick:()=>a(),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 flex items-center mx-auto",children:[T.jsx(pm,{className:"mr-2"}),"Adicionar Produto"]})]})})}),n.length>0&&T.jsx(r6,{currentPage:R,totalItems:r,itemsPerPage:V,onPageChange:O}),s&&T.jsx(n6,{isOpen:s,onClose:l,product:o,categories:e,locations:t}),T.jsx(YW,{isOpen:c,onClose:d,onConfirm:async()=>{await f(),d()},productName:u==null?void 0:u.name})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Qm(n){return n+.5|0}const tc=(n,e,t)=>Math.max(Math.min(n,t),e);function rp(n){return tc(Qm(n*2.55),0,255)}function _c(n){return tc(Qm(n*255),0,255)}function Ca(n){return tc(Qm(n/2.55)/100,0,1)}function I3(n){return tc(Qm(n*100),0,100)}const _s={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Yw=[..."0123456789ABCDEF"],KW=n=>Yw[n&15],QW=n=>Yw[(n&240)>>4]+Yw[n&15],t0=n=>(n&240)>>4===(n&15),XW=n=>t0(n.r)&&t0(n.g)&&t0(n.b)&&t0(n.a);function JW(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&_s[n[1]]*17,g:255&_s[n[2]]*17,b:255&_s[n[3]]*17,a:e===5?_s[n[4]]*17:255}:(e===7||e===9)&&(t={r:_s[n[1]]<<4|_s[n[2]],g:_s[n[3]]<<4|_s[n[4]],b:_s[n[5]]<<4|_s[n[6]],a:e===9?_s[n[7]]<<4|_s[n[8]]:255})),t}const ZW=(n,e)=>n<255?e(n):"";function eH(n){var e=XW(n)?KW:QW;return n?"#"+e(n.r)+e(n.g)+e(n.b)+ZW(n.a,e):void 0}const tH=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function i6(n,e,t){const r=e*Math.min(t,1-t),i=(s,o=(s+n/30)%12)=>t-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function nH(n,e,t){const r=(i,s=(i+n/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function rH(n,e,t){const r=i6(n,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)r[i]*=1-e-t,r[i]+=e;return r}function iH(n,e,t,r,i){return n===i?(e-t)/r+(e<t?6:0):e===i?(t-n)/r+2:(n-e)/r+4}function vx(n){const t=n.r/255,r=n.g/255,i=n.b/255,s=Math.max(t,r,i),o=Math.min(t,r,i),a=(s+o)/2;let l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=iH(t,r,i,u,s),l=l*60+.5),[l|0,c||0,a]}function yx(n,e,t,r){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,r)).map(_c)}function _x(n,e,t){return yx(i6,n,e,t)}function sH(n,e,t){return yx(rH,n,e,t)}function oH(n,e,t){return yx(nH,n,e,t)}function s6(n){return(n%360+360)%360}function aH(n){const e=tH.exec(n);let t=255,r;if(!e)return;e[5]!==r&&(t=e[6]?rp(+e[5]):_c(+e[5]));const i=s6(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=sH(i,s,o):e[1]==="hsv"?r=oH(i,s,o):r=_x(i,s,o),{r:r[0],g:r[1],b:r[2],a:t}}function lH(n,e){var t=vx(n);t[0]=s6(t[0]+e),t=_x(t),n.r=t[0],n.g=t[1],n.b=t[2]}function cH(n){if(!n)return;const e=vx(n),t=e[0],r=I3(e[1]),i=I3(e[2]);return n.a<255?`hsla(${t}, ${r}%, ${i}%, ${Ca(n.a)})`:`hsl(${t}, ${r}%, ${i}%)`}const D3={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},R3={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function uH(){const n={},e=Object.keys(R3),t=Object.keys(D3);let r,i,s,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],i=0;i<t.length;i++)s=t[i],a=a.replace(s,D3[s]);s=parseInt(R3[o],16),n[a]=[s>>16&255,s>>8&255,s&255]}return n}let n0;function hH(n){n0||(n0=uH(),n0.transparent=[0,0,0,0]);const e=n0[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const dH=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function fH(n){const e=dH.exec(n);let t=255,r,i,s;if(e){if(e[7]!==r){const o=+e[7];t=e[8]?rp(o):tc(o*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?rp(r):tc(r,0,255)),i=255&(e[4]?rp(i):tc(i,0,255)),s=255&(e[6]?rp(s):tc(s,0,255)),{r,g:i,b:s,a:t}}}function pH(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Ca(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const z2=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Bh=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function mH(n,e,t){const r=Bh(Ca(n.r)),i=Bh(Ca(n.g)),s=Bh(Ca(n.b));return{r:_c(z2(r+t*(Bh(Ca(e.r))-r))),g:_c(z2(i+t*(Bh(Ca(e.g))-i))),b:_c(z2(s+t*(Bh(Ca(e.b))-s))),a:n.a+t*(e.a-n.a)}}function r0(n,e,t){if(n){let r=vx(n);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,e===0?360:1)),r=_x(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function o6(n,e){return n&&Object.assign(e||{},n)}function L3(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=_c(n[3]))):(e=o6(n,{r:0,g:0,b:0,a:1}),e.a=_c(e.a)),e}function gH(n){return n.charAt(0)==="r"?fH(n):aH(n)}class vm{constructor(e){if(e instanceof vm)return e;const t=typeof e;let r;t==="object"?r=L3(e):t==="string"&&(r=JW(e)||hH(e)||gH(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=o6(this._rgb);return e&&(e.a=Ca(e.a)),e}set rgb(e){this._rgb=L3(e)}rgbString(){return this._valid?pH(this._rgb):void 0}hexString(){return this._valid?eH(this._rgb):void 0}hslString(){return this._valid?cH(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,i=e.rgb;let s;const o=t===s?.5:t,a=2*o-1,l=r.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,r.r=255&c*r.r+s*i.r+.5,r.g=255&c*r.g+s*i.g+.5,r.b=255&c*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=mH(this._rgb,e._rgb,t)),this}clone(){return new vm(this.rgb)}alpha(e){return this._rgb.a=_c(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Qm(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return r0(this._rgb,2,e),this}darken(e){return r0(this._rgb,2,-e),this}saturate(e){return r0(this._rgb,1,e),this}desaturate(e){return r0(this._rgb,1,-e),this}rotate(e){return lH(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ea(){}const vH=(()=>{let n=0;return()=>n++})();function en(n){return n==null}function _r(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function qt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Ns(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function ko(n,e){return Ns(n)?n:e}function It(n,e){return typeof n>"u"?e:n}const yH=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,a6=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Tn(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function an(n,e,t,r){let i,s,o;if(_r(n))for(s=n.length,i=0;i<s;i++)e.call(t,n[i],i);else if(qt(n))for(o=Object.keys(n),s=o.length,i=0;i<s;i++)e.call(t,n[o[i]],o[i])}function Z1(n,e){let t,r,i,s;if(!n||!e||n.length!==e.length)return!1;for(t=0,r=n.length;t<r;++t)if(i=n[t],s=e[t],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function ev(n){if(_r(n))return n.map(ev);if(qt(n)){const e=Object.create(null),t=Object.keys(n),r=t.length;let i=0;for(;i<r;++i)e[t[i]]=ev(n[t[i]]);return e}return n}function l6(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function _H(n,e,t,r){if(!l6(n))return;const i=e[n],s=t[n];qt(i)&&qt(s)?ym(i,s,r):e[n]=ev(s)}function ym(n,e,t){const r=_r(e)?e:[e],i=r.length;if(!qt(n))return n;t=t||{};const s=t.merger||_H;let o;for(let a=0;a<i;++a){if(o=r[a],!qt(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)s(l[c],n,o,t)}return n}function Dp(n,e){return ym(n,e,{merger:wH})}function wH(n,e,t){if(!l6(n))return;const r=e[n],i=t[n];qt(r)&&qt(i)?Dp(r,i):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=ev(i))}const M3={"":n=>n,x:n=>n.x,y:n=>n.y};function bH(n){const e=n.split("."),t=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}function xH(n){const e=bH(n);return t=>{for(const r of e){if(r==="")break;t=t&&t[r]}return t}}function eh(n,e){return(M3[e]||(M3[e]=xH(e)))(n)}function wx(n){return n.charAt(0).toUpperCase()+n.slice(1)}const _m=n=>typeof n<"u",Ic=n=>typeof n=="function",O3=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function SH(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const ln=Math.PI,$n=2*ln,EH=$n+ln,tv=Number.POSITIVE_INFINITY,kH=ln/180,br=ln/2,cu=ln/4,F3=ln*2/3,c6=Math.log10,$o=Math.sign;function Rp(n,e,t){return Math.abs(n-e)<t}function j3(n){const e=Math.round(n);n=Rp(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(c6(n))),r=n/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function AH(n){const e=[],t=Math.sqrt(n);let r;for(r=1;r<t;r++)n%r===0&&(e.push(r),e.push(n/r));return t===(t|0)&&e.push(t),e.sort((i,s)=>i-s).pop(),e}function PH(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function wm(n){return!PH(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function TH(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function CH(n,e,t){let r,i,s;for(r=0,i=n.length;r<i;r++)s=n[r][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Ma(n){return n*(ln/180)}function NH(n){return n*(180/ln)}function V3(n){if(!Ns(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function u6(n,e){const t=e.x-n.x,r=e.y-n.y,i=Math.sqrt(t*t+r*r);let s=Math.atan2(r,t);return s<-.5*ln&&(s+=$n),{angle:s,distance:i}}function Gw(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function IH(n,e){return(n-e+EH)%$n-ln}function Qs(n){return(n%$n+$n)%$n}function bm(n,e,t,r){const i=Qs(n),s=Qs(e),o=Qs(t),a=Qs(s-i),l=Qs(o-i),c=Qs(i-s),u=Qs(i-o);return i===s||i===o||r&&s===o||a>l&&c<u}function ai(n,e,t){return Math.max(e,Math.min(t,n))}function DH(n){return ai(n,-32768,32767)}function nc(n,e,t,r=1e-6){return n>=Math.min(e,t)-r&&n<=Math.max(e,t)+r}function bx(n,e,t){t=t||(o=>n[o]<e);let r=n.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,t(s)?i=s:r=s;return{lo:i,hi:r}}const ku=(n,e,t,r)=>bx(n,t,r?i=>{const s=n[i][e];return s<t||s===t&&n[i+1][e]===t}:i=>n[i][e]<t),RH=(n,e,t)=>bx(n,t,r=>n[r][e]>=t);function LH(n,e,t){let r=0,i=n.length;for(;r<i&&n[r]<e;)r++;for(;i>r&&n[i-1]>t;)i--;return r>0||i<n.length?n.slice(r,i):n}const h6=["push","pop","shift","splice","unshift"];function MH(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),h6.forEach(t=>{const r="_onData"+wx(t),i=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return n._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function B3(n,e){const t=n._chartjs;if(!t)return;const r=t.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(h6.forEach(s=>{delete n[s]}),delete n._chartjs)}function d6(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const f6=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function p6(n,e){let t=[],r=!1;return function(...i){t=i,r||(r=!0,f6.call(window,()=>{r=!1,n.apply(e,t)}))}}function OH(n,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(n,e,r)):n.apply(this,r),e}}const xx=n=>n==="start"?"left":n==="end"?"right":"center",ni=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,FH=(n,e,t,r)=>n===(r?"left":"right")?t:n==="center"?(e+t)/2:e;function jH(n,e,t){const r=e.length;let i=0,s=r;if(n._sorted){const{iScale:o,vScale:a,_parsed:l}=n,c=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,u=o.axis,{min:h,max:d,minDefined:f,maxDefined:g}=o.getUserBounds();if(f){if(i=Math.min(ku(l,u,h).lo,t?r:ku(e,u,o.getPixelForValue(h)).lo),c){const w=l.slice(0,i+1).reverse().findIndex(x=>!en(x[a.axis]));i-=Math.max(0,w)}i=ai(i,0,r-1)}if(g){let w=Math.max(ku(l,o.axis,d,!0).hi+1,t?0:ku(e,u,o.getPixelForValue(d),!0).hi+1);if(c){const x=l.slice(w-1).findIndex(_=>!en(_[a.axis]));w+=Math.max(0,x)}s=ai(w,i,r)-i}else s=r-i}return{start:i,count:s}}function VH(n){const{xScale:e,yScale:t,_scaleRanges:r}=n,i={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!r)return n._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==t.min||r.ymax!==t.max;return Object.assign(r,i),s}const i0=n=>n===0||n===1,U3=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*$n/t)),z3=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*$n/t)+1,Lp={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*br)+1,easeOutSine:n=>Math.sin(n*br),easeInOutSine:n=>-.5*(Math.cos(ln*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>i0(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>i0(n)?n:U3(n,.075,.3),easeOutElastic:n=>i0(n)?n:z3(n,.075,.3),easeInOutElastic(n){return i0(n)?n:n<.5?.5*U3(n*2,.1125,.45):.5+.5*z3(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-Lp.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Lp.easeInBounce(n*2)*.5:Lp.easeOutBounce(n*2-1)*.5+.5};function Sx(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function W3(n){return Sx(n)?n:new vm(n)}function W2(n){return Sx(n)?n:new vm(n).saturate(.5).darken(.1).hexString()}const BH=["x","y","borderWidth","radius","tension"],UH=["color","borderColor","backgroundColor"];function zH(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:UH},numbers:{type:"number",properties:BH}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function WH(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const H3=new Map;function HH(n,e){e=e||{};const t=n+JSON.stringify(e);let r=H3.get(t);return r||(r=new Intl.NumberFormat(n,e),H3.set(t,r)),r}function Ex(n,e,t){return HH(e,t).format(n)}const qH={values(n){return _r(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const r=this.chart.options.locale;let i,s=n;if(t.length>1){const c=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=$H(n,t)}const o=c6(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Ex(n,r,l)}};function $H(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var m6={formatters:qH};function YH(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:m6.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const th=Object.create(null),Kw=Object.create(null);function Mp(n,e){if(!e)return n;const t=e.split(".");for(let r=0,i=t.length;r<i;++r){const s=t[r];n=n[s]||(n[s]=Object.create(null))}return n}function H2(n,e,t){return typeof e=="string"?ym(Mp(n,e),t):ym(Mp(n,""),e)}class GH{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>W2(i.backgroundColor),this.hoverBorderColor=(r,i)=>W2(i.borderColor),this.hoverColor=(r,i)=>W2(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return H2(this,e,t)}get(e){return Mp(this,e)}describe(e,t){return H2(Kw,e,t)}override(e,t){return H2(th,e,t)}route(e,t,r,i){const s=Mp(this,e),o=Mp(this,r),a="_"+t;Object.defineProperties(s,{[a]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const l=this[a],c=o[i];return qt(l)?Object.assign({},c,l):It(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(t=>t(this))}}var rr=new GH({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[zH,WH,YH]);function KH(n){return!n||en(n.size)||en(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function q3(n,e,t,r,i){let s=e[i];return s||(s=e[i]=n.measureText(i).width,t.push(i)),s>r&&(r=s),r}function uu(n,e,t){const r=n.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*r)/r+i}function $3(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function Qw(n,e,t,r){g6(n,e,t,r,null)}function g6(n,e,t,r,i){let s,o,a,l,c,u,h,d;const f=e.pointStyle,g=e.rotation,w=e.radius;let x=(g||0)*kH;if(f&&typeof f=="object"&&(s=f.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(t,r),n.rotate(x),n.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),n.restore();return}if(!(isNaN(w)||w<=0)){switch(n.beginPath(),f){default:i?n.ellipse(t,r,i/2,w,0,0,$n):n.arc(t,r,w,0,$n),n.closePath();break;case"triangle":u=i?i/2:w,n.moveTo(t+Math.sin(x)*u,r-Math.cos(x)*w),x+=F3,n.lineTo(t+Math.sin(x)*u,r-Math.cos(x)*w),x+=F3,n.lineTo(t+Math.sin(x)*u,r-Math.cos(x)*w),n.closePath();break;case"rectRounded":c=w*.516,l=w-c,o=Math.cos(x+cu)*l,h=Math.cos(x+cu)*(i?i/2-c:l),a=Math.sin(x+cu)*l,d=Math.sin(x+cu)*(i?i/2-c:l),n.arc(t-h,r-a,c,x-ln,x-br),n.arc(t+d,r-o,c,x-br,x),n.arc(t+h,r+a,c,x,x+br),n.arc(t-d,r+o,c,x+br,x+ln),n.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*w,u=i?i/2:l,n.rect(t-u,r-l,2*u,2*l);break}x+=cu;case"rectRot":h=Math.cos(x)*(i?i/2:w),o=Math.cos(x)*w,a=Math.sin(x)*w,d=Math.sin(x)*(i?i/2:w),n.moveTo(t-h,r-a),n.lineTo(t+d,r-o),n.lineTo(t+h,r+a),n.lineTo(t-d,r+o),n.closePath();break;case"crossRot":x+=cu;case"cross":h=Math.cos(x)*(i?i/2:w),o=Math.cos(x)*w,a=Math.sin(x)*w,d=Math.sin(x)*(i?i/2:w),n.moveTo(t-h,r-a),n.lineTo(t+h,r+a),n.moveTo(t+d,r-o),n.lineTo(t-d,r+o);break;case"star":h=Math.cos(x)*(i?i/2:w),o=Math.cos(x)*w,a=Math.sin(x)*w,d=Math.sin(x)*(i?i/2:w),n.moveTo(t-h,r-a),n.lineTo(t+h,r+a),n.moveTo(t+d,r-o),n.lineTo(t-d,r+o),x+=cu,h=Math.cos(x)*(i?i/2:w),o=Math.cos(x)*w,a=Math.sin(x)*w,d=Math.sin(x)*(i?i/2:w),n.moveTo(t-h,r-a),n.lineTo(t+h,r+a),n.moveTo(t+d,r-o),n.lineTo(t-d,r+o);break;case"line":o=i?i/2:Math.cos(x)*w,a=Math.sin(x)*w,n.moveTo(t-o,r-a),n.lineTo(t+o,r+a);break;case"dash":n.moveTo(t,r),n.lineTo(t+Math.cos(x)*(i?i/2:w),r+Math.sin(x)*w);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function xm(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function kx(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function Ax(n){n.restore()}function QH(n,e,t,r,i){if(!e)return n.lineTo(t.x,t.y);if(i==="middle"){const s=(e.x+t.x)/2;n.lineTo(s,e.y),n.lineTo(s,t.y)}else i==="after"!=!!r?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function XH(n,e,t,r){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?t.cp2x:t.cp1x,r?t.cp2y:t.cp1y,t.x,t.y)}function JH(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),en(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function ZH(n,e,t,r,i){if(i.strikethrough||i.underline){const s=n.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=t-s.actualBoundingBoxAscent,c=t+s.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(o,u),n.lineTo(a,u),n.stroke()}}function eq(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Sm(n,e,t,r,i,s={}){const o=_r(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(n.save(),n.font=i.string,JH(n,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&eq(n,s.backdrop),a&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),en(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(c,t,r,s.maxWidth)),n.fillText(c,t,r,s.maxWidth),ZH(n,t,r,c,s),r+=Number(i.lineHeight);n.restore()}function nv(n,e){const{x:t,y:r,w:i,h:s,radius:o}=e;n.arc(t+o.topLeft,r+o.topLeft,o.topLeft,1.5*ln,ln,!0),n.lineTo(t,r+s-o.bottomLeft),n.arc(t+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,ln,br,!0),n.lineTo(t+i-o.bottomRight,r+s),n.arc(t+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,br,0,!0),n.lineTo(t+i,r+o.topRight),n.arc(t+i-o.topRight,r+o.topRight,o.topRight,0,-br,!0),n.lineTo(t+o.topLeft,r)}const tq=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,nq=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function rq(n,e){const t=(""+n).match(tq);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const iq=n=>+n||0;function Px(n,e){const t={},r=qt(e),i=r?Object.keys(e):e,s=qt(n)?r?o=>It(n[o],n[e[o]]):o=>n[o]:()=>n;for(const o of i)t[o]=iq(s(o));return t}function v6(n){return Px(n,{top:"y",right:"x",bottom:"y",left:"x"})}function _d(n){return Px(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Is(n){const e=v6(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function li(n,e){n=n||{},e=e||rr.font;let t=It(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let r=It(n.style,e.style);r&&!(""+r).match(nq)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:It(n.family,e.family),lineHeight:rq(It(n.lineHeight,e.lineHeight),t),size:t,style:r,weight:It(n.weight,e.weight),string:""};return i.string=KH(i),i}function s0(n,e,t,r){let i,s,o;for(i=0,s=n.length;i<s;++i)if(o=n[i],o!==void 0&&o!==void 0)return o}function sq(n,e,t){const{min:r,max:i}=n,s=a6(e,(i-r)/2),o=(a,l)=>t&&a===0?0:a+l;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function hh(n,e){return Object.assign(Object.create(n),e)}function Tx(n,e=[""],t,r,i=()=>n[0]){const s=t||n;typeof r>"u"&&(r=b6("_fallback",n));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>Tx([a,...n],e,s,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete n[0][l],!0},get(a,l){return _6(a,l,()=>fq(l,e,n,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(a,l){return G3(a).includes(l)},ownKeys(a){return G3(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function Fd(n,e,t,r){const i={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:y6(n,r),setContext:s=>Fd(n,s,t,r),override:s=>Fd(n.override(s),e,t,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete n[o],!0},get(s,o,a){return _6(s,o,()=>aq(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(s,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(s,o,a){return n[o]=a,delete s[o],!0}})}function y6(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=n;return{allKeys:i,scriptable:t,indexable:r,isScriptable:Ic(t)?t:()=>t,isIndexable:Ic(r)?r:()=>r}}const oq=(n,e)=>n?n+wx(e):e,Cx=(n,e)=>qt(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function _6(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const r=t();return n[e]=r,r}function aq(n,e,t){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=n;let a=r[e];return Ic(a)&&o.isScriptable(e)&&(a=lq(e,a,n,t)),_r(a)&&a.length&&(a=cq(e,a,n,o.isIndexable)),Cx(e,a)&&(a=Fd(a,i,s&&s[e],o)),a}function lq(n,e,t,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=t;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);a.add(n);let l=e(s,o||r);return a.delete(n),Cx(n,l)&&(l=Nx(i._scopes,i,n,l)),l}function cq(n,e,t,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=t;if(typeof s.index<"u"&&r(n))return e[s.index%e.length];if(qt(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const h=Nx(c,i,n,u);e.push(Fd(h,s,o&&o[n],a))}}return e}function w6(n,e,t){return Ic(n)?n(e,t):n}const uq=(n,e)=>n===!0?e:typeof n=="string"?eh(e,n):void 0;function hq(n,e,t,r,i){for(const s of e){const o=uq(t,s);if(o){n.add(o);const a=w6(o._fallback,t,i);if(typeof a<"u"&&a!==t&&a!==r)return a}else if(o===!1&&typeof r<"u"&&t!==r)return null}return!1}function Nx(n,e,t,r){const i=e._rootScopes,s=w6(e._fallback,t,r),o=[...n,...i],a=new Set;a.add(r);let l=Y3(a,o,t,s||t,r);return l===null||typeof s<"u"&&s!==t&&(l=Y3(a,o,s,l,r),l===null)?!1:Tx(Array.from(a),[""],i,s,()=>dq(e,t,r))}function Y3(n,e,t,r,i){for(;t;)t=hq(n,e,t,r,i);return t}function dq(n,e,t){const r=n._getTarget();e in r||(r[e]={});const i=r[e];return _r(i)&&qt(t)?t:i||{}}function fq(n,e,t,r){let i;for(const s of e)if(i=b6(oq(s,n),t),typeof i<"u")return Cx(n,i)?Nx(t,r,n,i):i}function b6(n,e){for(const t of e){if(!t)continue;const r=t[n];if(typeof r<"u")return r}}function G3(n){let e=n._keys;return e||(e=n._keys=pq(n._scopes)),e}function pq(n){const e=new Set;for(const t of n)for(const r of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}const mq=Number.EPSILON||1e-14,jd=(n,e)=>e<n.length&&!n[e].skip&&n[e],x6=n=>n==="x"?"y":"x";function gq(n,e,t,r){const i=n.skip?e:n,s=e,o=t.skip?e:t,a=Gw(s,i),l=Gw(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=r*c,d=r*u;return{previous:{x:s.x-h*(o.x-i.x),y:s.y-h*(o.y-i.y)},next:{x:s.x+d*(o.x-i.x),y:s.y+d*(o.y-i.y)}}}function vq(n,e,t){const r=n.length;let i,s,o,a,l,c=jd(n,0);for(let u=0;u<r-1;++u)if(l=c,c=jd(n,u+1),!(!l||!c)){if(Rp(e[u],0,mq)){t[u]=t[u+1]=0;continue}i=t[u]/e[u],s=t[u+1]/e[u],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),t[u]=i*o*e[u],t[u+1]=s*o*e[u])}}function yq(n,e,t="x"){const r=x6(t),i=n.length;let s,o,a,l=jd(n,0);for(let c=0;c<i;++c){if(o=a,a=l,l=jd(n,c+1),!a)continue;const u=a[t],h=a[r];o&&(s=(u-o[t])/3,a[`cp1${t}`]=u-s,a[`cp1${r}`]=h-s*e[c]),l&&(s=(l[t]-u)/3,a[`cp2${t}`]=u+s,a[`cp2${r}`]=h+s*e[c])}}function _q(n,e="x"){const t=x6(e),r=n.length,i=Array(r).fill(0),s=Array(r);let o,a,l,c=jd(n,0);for(o=0;o<r;++o)if(a=l,l=c,c=jd(n,o+1),!!l){if(c){const u=c[e]-l[e];i[o]=u!==0?(c[t]-l[t])/u:0}s[o]=a?c?$o(i[o-1])!==$o(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}vq(n,i,s),yq(n,s,e)}function o0(n,e,t){return Math.max(Math.min(n,t),e)}function wq(n,e){let t,r,i,s,o,a=xm(n[0],e);for(t=0,r=n.length;t<r;++t)o=s,s=a,a=t<r-1&&xm(n[t+1],e),s&&(i=n[t],o&&(i.cp1x=o0(i.cp1x,e.left,e.right),i.cp1y=o0(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=o0(i.cp2x,e.left,e.right),i.cp2y=o0(i.cp2y,e.top,e.bottom)))}function bq(n,e,t,r,i){let s,o,a,l;if(e.spanGaps&&(n=n.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")_q(n,i);else{let c=r?n[n.length-1]:n[0];for(s=0,o=n.length;s<o;++s)a=n[s],l=gq(c,a,n[Math.min(s+1,o-(r?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&wq(n,t)}function Ix(){return typeof window<"u"&&typeof document<"u"}function Dx(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function rv(n,e,t){let r;return typeof n=="string"?(r=parseInt(n,10),n.indexOf("%")!==-1&&(r=r/100*e.parentNode[t])):r=n,r}const my=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function xq(n,e){return my(n).getPropertyValue(e)}const Sq=["top","right","bottom","left"];function Fu(n,e,t){const r={};t=t?"-"+t:"";for(let i=0;i<4;i++){const s=Sq[i];r[s]=parseFloat(n[e+"-"+s+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const Eq=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function kq(n,e){const t=n.touches,r=t&&t.length?t[0]:n,{offsetX:i,offsetY:s}=r;let o=!1,a,l;if(Eq(i,s,n.target))a=i,l=s;else{const c=e.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function gu(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:r}=e,i=my(t),s=i.boxSizing==="border-box",o=Fu(i,"padding"),a=Fu(i,"border","width"),{x:l,y:c,box:u}=kq(n,t),h=o.left+(u&&a.left),d=o.top+(u&&a.top);let{width:f,height:g}=e;return s&&(f-=o.width+a.width,g-=o.height+a.height),{x:Math.round((l-h)/f*t.width/r),y:Math.round((c-d)/g*t.height/r)}}function Aq(n,e,t){let r,i;if(e===void 0||t===void 0){const s=n&&Dx(n);if(!s)e=n.clientWidth,t=n.clientHeight;else{const o=s.getBoundingClientRect(),a=my(s),l=Fu(a,"border","width"),c=Fu(a,"padding");e=o.width-c.width-l.width,t=o.height-c.height-l.height,r=rv(a.maxWidth,s,"clientWidth"),i=rv(a.maxHeight,s,"clientHeight")}}return{width:e,height:t,maxWidth:r||tv,maxHeight:i||tv}}const a0=n=>Math.round(n*10)/10;function Pq(n,e,t,r){const i=my(n),s=Fu(i,"margin"),o=rv(i.maxWidth,n,"clientWidth")||tv,a=rv(i.maxHeight,n,"clientHeight")||tv,l=Aq(n,e,t);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const d=Fu(i,"border","width"),f=Fu(i,"padding");c-=f.width+d.width,u-=f.height+d.height}return c=Math.max(0,c-s.width),u=Math.max(0,r?c/r:u-s.height),c=a0(Math.min(c,o,l.maxWidth)),u=a0(Math.min(u,a,l.maxHeight)),c&&!u&&(u=a0(c/2)),(e!==void 0||t!==void 0)&&r&&l.height&&u>l.height&&(u=l.height,c=a0(Math.floor(u*r))),{width:c,height:u}}function K3(n,e,t){const r=e||1,i=Math.floor(n.height*r),s=Math.floor(n.width*r);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const o=n.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(n.currentDevicePixelRatio=r,o.height=i,o.width=s,n.ctx.setTransform(r,0,0,r,0,0),!0):!1}const Tq=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};Ix()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function Q3(n,e){const t=xq(n,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function vu(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function Cq(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:r==="middle"?t<.5?n.y:e.y:r==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function Nq(n,e,t,r){const i={x:n.cp2x,y:n.cp2y},s={x:e.cp1x,y:e.cp1y},o=vu(n,i,t),a=vu(i,s,t),l=vu(s,e,t),c=vu(o,a,t),u=vu(a,l,t);return vu(c,u,t)}const Iq=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},Dq=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function wd(n,e,t){return n?Iq(e,t):Dq()}function S6(n,e){let t,r;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=r)}function E6(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function k6(n){return n==="angle"?{between:bm,compare:IH,normalize:Qs}:{between:nc,compare:(e,t)=>e-t,normalize:e=>e}}function X3({start:n,end:e,count:t,loop:r,style:i}){return{start:n%t,end:e%t,loop:r&&(e-n+1)%t===0,style:i}}function Rq(n,e,t){const{property:r,start:i,end:s}=t,{between:o,normalize:a}=k6(r),l=e.length;let{start:c,end:u,loop:h}=n,d,f;if(h){for(c+=l,u+=l,d=0,f=l;d<f&&o(a(e[c%l][r]),i,s);++d)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:n.style}}function Lq(n,e,t){if(!t)return[n];const{property:r,start:i,end:s}=t,o=e.length,{compare:a,between:l,normalize:c}=k6(r),{start:u,end:h,loop:d,style:f}=Rq(n,e,t),g=[];let w=!1,x=null,_,b,E;const R=()=>l(i,E,_)&&a(i,E)!==0,O=()=>a(s,_)===0||l(s,E,_),V=()=>w||R(),C=()=>!w||O();for(let y=u,S=u;y<=h;++y)b=e[y%o],!b.skip&&(_=c(b[r]),_!==E&&(w=l(_,i,s),x===null&&V()&&(x=a(_,i)===0?y:S),x!==null&&C()&&(g.push(X3({start:x,end:y,loop:d,count:o,style:f})),x=null),S=y,E=_));return x!==null&&g.push(X3({start:x,end:h,loop:d,count:o,style:f})),g}function Mq(n,e){const t=[],r=n.segments;for(let i=0;i<r.length;i++){const s=Lq(r[i],n.points,e);s.length&&t.push(...s)}return t}function Oq(n,e,t,r){let i=0,s=e-1;if(t&&!r)for(;i<e&&!n[i].skip;)i++;for(;i<e&&n[i].skip;)i++;for(i%=e,t&&(s+=i);s>i&&n[s%e].skip;)s--;return s%=e,{start:i,end:s}}function Fq(n,e,t,r){const i=n.length,s=[];let o=e,a=n[e],l;for(l=e+1;l<=t;++l){const c=n[l%i];c.skip||c.stop?a.skip||(r=!1,s.push({start:e%i,end:(l-1)%i,loop:r}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&s.push({start:e%i,end:o%i,loop:r}),s}function jq(n,e){const t=n.points,r=n.options.spanGaps,i=t.length;if(!i)return[];const s=!!n._loop,{start:o,end:a}=Oq(t,i,s,r);if(r===!0)return J3(n,[{start:o,end:a,loop:s}],t,e);const l=a<o?a+i:a,c=!!n._fullLoop&&o===0&&a===i-1;return J3(n,Fq(t,o,l,c),t,e)}function J3(n,e,t,r){return!r||!r.setContext||!t?e:Vq(n,e,t,r)}function Vq(n,e,t,r){const i=n._chart.getContext(),s=Z3(n.options),{_datasetIndex:o,options:{spanGaps:a}}=n,l=t.length,c=[];let u=s,h=e[0].start,d=h;function f(g,w,x,_){const b=a?-1:1;if(g!==w){for(g+=l;t[g%l].skip;)g-=b;for(;t[w%l].skip;)w+=b;g%l!==w%l&&(c.push({start:g%l,end:w%l,loop:x,style:_}),u=_,h=w%l)}}for(const g of e){h=a?h:g.start;let w=t[h%l],x;for(d=h+1;d<=g.end;d++){const _=t[d%l];x=Z3(r.setContext(hh(i,{type:"segment",p0:w,p1:_,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),Bq(x,u)&&f(h,d-1,g.loop,u),w=_,u=x}h<d-1&&f(h,d-1,g.loop,u)}return c}function Z3(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function Bq(n,e){if(!e)return!1;const t=[],r=function(i,s){return Sx(s)?(t.includes(s)||t.push(s),t.indexOf(s)):s};return JSON.stringify(n,r)!==JSON.stringify(e,r)}function l0(n,e,t){return n.options.clip?n[t]:e[t]}function Uq(n,e){const{xScale:t,yScale:r}=n;return t&&r?{left:l0(t,e,"left"),right:l0(t,e,"right"),top:l0(r,e,"top"),bottom:l0(r,e,"bottom")}:e}function zq(n,e){const t=e._clip;if(t.disabled)return!1;const r=Uq(e,n.chartArea);return{left:t.left===!1?0:r.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:r.right+(t.right===!0?0:t.right),top:t.top===!1?0:r.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:r.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Wq{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,i){const s=t.listeners[i],o=t.duration;s.forEach(a=>a({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(r-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=f6.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),t+=s.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ka=new Wq;const ek="transparent",Hq={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const r=W3(n||ek),i=r.valid&&W3(e||ek);return i&&i.valid?i.mix(r,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class qq{constructor(e,t,r,i){const s=t[r];i=s0([e.to,i,s,e.from]);const o=s0([e.from,s,i]);this._active=!0,this._fn=e.fn||Hq[e.type||typeof o],this._easing=Lp[e.easing]||Lp.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=s0([e.to,t,i,e.from]),this._from=s0([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||t<r),!this._active){this._target[i]=a,this._notify(!0);return}if(t<0){this._target[i]=s;return}l=t/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][t]()}}class A6{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!qt(e))return;const t=Object.keys(rr.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!qt(s))return;const o={};for(const a of t)o[a]=s[a];(_r(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,t){const r=t.options,i=Yq(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&$q(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,t){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(t),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,t));continue}const u=t[c];let h=s[c];const d=r.get(c);if(h)if(d&&h.active()){h.update(d,u,a);continue}else h.cancel();if(!d||!d.duration){e[c]=u;continue}s[c]=h=new qq(d,e,c,u),i.push(h)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const r=this._createAnimations(e,t);if(r.length)return ka.add(this._chart,r),!0}}function $q(n,e){const t=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=n[r[i]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}function Yq(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function tk(n,e){const t=n&&n.options||{},r=t.reverse,i=t.min===void 0?e:0,s=t.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function Gq(n,e,t){if(t===!1)return!1;const r=tk(n,t),i=tk(e,t);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function Kq(n){let e,t,r,i;return qt(n)?(e=n.top,t=n.right,r=n.bottom,i=n.left):e=t=r=i=n,{top:e,right:t,bottom:r,left:i,disabled:n===!1}}function P6(n,e){const t=[],r=n._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)t.push(r[i].index);return t}function nk(n,e,t,r={}){const i=n.keys,s=r.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===t){if(u=!0,r.all)continue;break}c=n.values[l],Ns(c)&&(s||e===0||$o(e)===$o(c))&&(e+=c)}return!u&&!r.all?0:e}function Qq(n,e){const{iScale:t,vScale:r}=e,i=t.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(n),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[s]:n[u]};return a}function q2(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function Xq(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function Jq(n){const{min:e,max:t,minDefined:r,maxDefined:i}=n.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function Zq(n,e,t){const r=n[e]||(n[e]={});return r[t]||(r[t]={})}function rk(n,e,t,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=n[i.index];if(t&&s>0||!t&&s<0)return i.index}return null}function ik(n,e){const{chart:t,_cachedMeta:r}=n,i=t._stacks||(t._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,c=o.axis,u=Xq(s,o,r),h=e.length;let d;for(let f=0;f<h;++f){const g=e[f],{[l]:w,[c]:x}=g,_=g._stacks||(g._stacks={});d=_[c]=Zq(i,u,w),d[a]=x,d._top=rk(d,o,!0,r.type),d._bottom=rk(d,o,!1,r.type);const b=d._visualValues||(d._visualValues={});b[a]=x}}function $2(n,e){const t=n.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function e$(n,e){return hh(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function t$(n,e,t){return hh(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Vf(n,e){const t=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){e=e||n._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][t]===void 0)return;delete s[r][t],s[r]._visualValues!==void 0&&s[r]._visualValues[t]!==void 0&&delete s[r]._visualValues[t]}}}const Y2=n=>n==="reset"||n==="none",sk=(n,e)=>e?n:Object.assign({},n),n$=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:P6(t,!0),values:null};class ju{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=q2(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Vf(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,r=this.getDataset(),i=(h,d,f,g)=>h==="x"?d:h==="r"?g:f,s=t.xAxisID=It(r.xAxisID,$2(e,"x")),o=t.yAxisID=It(r.yAxisID,$2(e,"y")),a=t.rAxisID=It(r.rAxisID,$2(e,"r")),l=t.indexAxis,c=t.iAxisID=i(l,s,o,a),u=t.vAxisID=i(l,o,s,a);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(a),t.iScale=this.getScaleForId(c),t.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&B3(this._data,this),e._stacked&&Vf(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if(qt(t)){const i=this._cachedMeta;this._data=Qq(t,i)}else if(r!==t){if(r){B3(r,this);const i=this._cachedMeta;Vf(i),i._parsed=[]}t&&Object.isExtensible(t)&&MH(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=t._stacked;t._stacked=q2(t.vScale,t),t.stack!==r.stack&&(i=!0,Vf(t),t.stack=r.stack),this._resyncElements(e),(i||s!==t._stacked)&&(ik(this,t._parsed),t._stacked=q2(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let l=e===0&&t===i.length?!0:r._sorted,c=e>0&&r._parsed[e-1],u,h,d;if(this._parsing===!1)r._parsed=i,r._sorted=!0,d=i;else{_r(i[e])?d=this.parseArrayData(r,i,e,t):qt(i[e])?d=this.parseObjectData(r,i,e,t):d=this.parsePrimitiveData(r,i,e,t);const f=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<t;++u)r._parsed[u+e]=h=d[u],l&&(f()&&(l=!1),c=h);r._sorted=l}o&&ik(this,d)}parsePrimitiveData(e,t,r,i){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,c=s.getLabels(),u=s===o,h=new Array(i);let d,f,g;for(d=0,f=i;d<f;++d)g=d+r,h[d]={[a]:u||s.parse(c[g],g),[l]:o.parse(t[g],g)};return h}parseArrayData(e,t,r,i){const{xScale:s,yScale:o}=e,a=new Array(i);let l,c,u,h;for(l=0,c=i;l<c;++l)u=l+r,h=t[u],a[l]={x:s.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(e,t,r,i){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,h,d,f;for(u=0,h=i;u<h;++u)d=u+r,f=t[d],c[u]={x:s.parse(eh(f,a),d),y:o.parse(eh(f,l),d)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){const i=this.chart,s=this._cachedMeta,o=t[e.axis],a={keys:P6(i,!0),values:t._stacks[e.axis]._visualValues};return nk(a,o,s.index,{mode:r})}updateRangeFromParsed(e,t,r,i){const s=r[t.axis];let o=s===null?NaN:s;const a=i&&r._stacks[t.axis];i&&a&&(i.values=a,o=nk(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,o=i.length,a=this._getOtherScale(e),l=n$(t,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=Jq(a);let d,f;function g(){f=i[d];const w=f[a.axis];return!Ns(f[e.axis])||u>w||h<w}for(d=0;d<o&&!(!g()&&(this.updateRangeFromParsed(c,e,f,l),s));++d);if(s){for(d=o-1;d>=0;--d)if(!g()){this.updateRangeFromParsed(c,e,f,l);break}}return c}getAllParsedValues(e){const t=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=t.length;i<s;++i)o=t[i][e.axis],Ns(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,r=t.iScale,i=t.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=Kq(It(this.options.clip,Gq(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,r=this._cachedMeta,i=r.data||[],s=t.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(e,s,a,l),u=a;u<a+l;++u){const h=i[u];h.hidden||(h.active&&c?o.push(h):h.draw(e,s))}for(u=0;u<o.length;++u)o[u].draw(e,s)}getStyle(e,t){const r=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=t$(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=e$(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",r){const i=t==="active",s=this._cachedDataOpts,o=e+"-"+t,a=s[o],l=this.enableOptionSharing&&_m(r);if(a)return sk(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),h=i?[`${e}Hover`,"hover",e,""]:[e,""],d=c.getOptionScopes(this.getDataset(),u),f=Object.keys(rr.elements[e]),g=()=>this.getContext(r,i,t),w=c.resolveNamedOptions(d,f,g,h);return w.$shared&&(w.$shared=l,s[o]=Object.freeze(sk(w,l))),w}_resolveAnimations(e,t,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${t}`,a=s[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,t),d=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(d,this.getContext(e,r,t))}const c=new A6(i,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Y2(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const r=this.resolveDataElementOptions(e,t),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(t,s)||s!==i;return this.updateSharedOptions(s,t,r),{sharedOptions:s,includeOptions:o}}updateElement(e,t,r,i){Y2(i)?Object.assign(e,r):this._resolveAnimations(t,i).update(e,r)}updateSharedOptions(e,t,r){e&&!Y2(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,i){e.active=i;const s=this.getStyle(t,i);this._resolveAnimations(t,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=r.length,s=t.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,t,r=!0){const i=this._cachedMeta,s=i.data,o=e+t;let a;const l=c=>{for(c.length+=t,a=c.length-1;a>=o;a--)c[a]=c[a-t]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,t),r&&this.updateElements(s,e,t,"reset")}updateElements(e,t,r,i){}_removeElements(e,t){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,t);r._stacked&&Vf(r,i)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,r,i]=e;this[t](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Pe(ju,"defaults",{}),Pe(ju,"datasetElementType",null),Pe(ju,"dataElementType",null);function r$(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let r=[];for(let i=0,s=t.length;i<s;i++)r=r.concat(t[i].controller.getAllParsedValues(n));n._cache.$bar=d6(r.sort((i,s)=>i-s))}return n._cache.$bar}function i$(n){const e=n.iScale,t=r$(e,n.type);let r=e._length,i,s,o,a;const l=()=>{o===32767||o===-32768||(_m(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(i=0,s=t.length;i<s;++i)o=e.getPixelForValue(t[i]),l();for(a=void 0,i=0,s=e.ticks.length;i<s;++i)o=e.getPixelForTick(i),l();return r}function s$(n,e,t,r){const i=t.barThickness;let s,o;return en(i)?(s=e.min*t.categoryPercentage,o=t.barPercentage):(s=i*r,o=1),{chunk:s/r,ratio:o,start:e.pixels[n]-s/2}}function o$(n,e,t,r){const i=e.pixels,s=i[n];let o=n>0?i[n-1]:null,a=n<i.length-1?i[n+1]:null;const l=t.categoryPercentage;o===null&&(o=s-(a===null?e.end-e.start:a-s)),a===null&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/r,ratio:t.barPercentage,start:c}}function a$(n,e,t,r){const i=t.parse(n[0],r),s=t.parse(n[1],r),o=Math.min(i,s),a=Math.max(i,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[t.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:s,min:o,max:a}}function T6(n,e,t,r){return _r(n)?a$(n,e,t,r):e[t.axis]=t.parse(n,r),e}function ok(n,e,t,r){const i=n.iScale,s=n.vScale,o=i.getLabels(),a=i===s,l=[];let c,u,h,d;for(c=t,u=t+r;c<u;++c)d=e[c],h={},h[i.axis]=a||i.parse(o[c],c),l.push(T6(d,h,s,c));return l}function G2(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function l$(n,e,t){return n!==0?$o(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function c$(n){let e,t,r,i,s;return n.horizontal?(e=n.base>n.x,t="left",r="right"):(e=n.base<n.y,t="bottom",r="top"),e?(i="end",s="start"):(i="start",s="end"),{start:t,end:r,reverse:e,top:i,bottom:s}}function u$(n,e,t,r){let i=e.borderSkipped;const s={};if(!i){n.borderSkipped=s;return}if(i===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=c$(n);i==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===r?i=c:(t._bottom||0)===r?i=u:(s[ak(u,o,a,l)]=!0,i=c)),s[ak(i,o,a,l)]=!0,n.borderSkipped=s}function ak(n,e,t,r){return r?(n=h$(n,e,t),n=lk(n,t,e)):n=lk(n,e,t),n}function h$(n,e,t){return n===e?t:n===t?e:n}function lk(n,e,t){return n==="start"?e:n==="end"?t:n}function d$(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class $0 extends ju{parsePrimitiveData(e,t,r,i){return ok(e,t,r,i)}parseArrayData(e,t,r,i){return ok(e,t,r,i)}parseObjectData(e,t,r,i){const{iScale:s,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?a:l,u=o.axis==="x"?a:l,h=[];let d,f,g,w;for(d=r,f=r+i;d<f;++d)w=t[d],g={},g[s.axis]=s.parse(eh(w,c),d),h.push(T6(eh(w,u),g,o,d));return h}updateRangeFromParsed(e,t,r,i){super.updateRangeFromParsed(e,t,r,i);const s=r._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:r,vScale:i}=t,s=this.getParsed(e),o=s._custom,a=G2(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,r,i){const s=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:d}=this._getSharedOptions(t,i);for(let f=t;f<t+r;f++){const g=this.getParsed(f),w=s||en(g[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),x=this._calculateBarIndexPixels(f,u),_=(g._stacks||{})[a.axis],b={horizontal:c,base:w.base,enableBorderRadius:!_||G2(g._custom)||o===_._top||o===_._bottom,x:c?w.head:x.center,y:c?x.center:w.head,height:c?x.size:Math.abs(w.size),width:c?Math.abs(w.size):x.size};d&&(b.options=h||this.resolveDataElementOptions(f,e[f].active?"active":i));const E=b.options||e[f].options;u$(b,E,_,o),d$(b,E,u.ratio),this.updateElement(e[f],f,b,i)}}_getStacks(e,t){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),s=r.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(t),l=a&&a[r.axis],c=u=>{const h=u._parsed.find(f=>f[r.axis]===l),d=h&&h[u.vScale.axis];if(en(d)||isNaN(d))return!0};for(const u of i)if(!(t!==void 0&&c(u))&&((s===!1||o.indexOf(u.stack)===-1||s===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[It(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,r){const i=this._getStacks(e,r),s=t!==void 0?i.indexOf(t):-1;return s===-1?i.length-1:s}_getRuler(){const e=this.options,t=this._cachedMeta,r=t.iScale,i=[];let s,o;for(s=0,o=t.data.length;s<o;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const a=e.barThickness;return{min:a||i$(t),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:r,index:i},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(e),c=l._custom,u=G2(c);let h=l[t.axis],d=0,f=r?this.applyStack(t,l,r):h,g,w;f!==h&&(d=f-h,f=h),u&&(h=c.barStart,f=c.barEnd-c.barStart,h!==0&&$o(h)!==$o(c.barEnd)&&(d=0),d+=h);const x=!en(s)&&!u?s:d;let _=t.getPixelForValue(x);if(this.chart.getDataVisibility(e)?g=t.getPixelForValue(d+f):g=_,w=g-_,Math.abs(w)<o){w=l$(w,t,a)*o,h===a&&(_-=w/2);const b=t.getPixelForDecimal(0),E=t.getPixelForDecimal(1),R=Math.min(b,E),O=Math.max(b,E);_=Math.max(Math.min(_,O),R),g=_+w,r&&!u&&(l._stacks[t.axis]._visualValues[i]=t.getValueForPixel(g)-t.getValueForPixel(_))}if(_===t.getPixelForValue(a)){const b=$o(w)*t.getLineWidthForValue(a)/2;_+=b,w-=b}return{size:w,base:_,head:g,center:g+w/2}}_calculateBarIndexPixels(e,t){const r=t.scale,i=this.options,s=i.skipNull,o=It(i.maxBarThickness,1/0);let a,l;const c=this._getAxisCount();if(t.grouped){const u=s?this._getStackCount(e):t.stackCount,h=i.barThickness==="flex"?o$(e,t,i,u*c):s$(e,t,i,u*c),d=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,f=this._getAxis().indexOf(It(d,this.getFirstScaleIdForIndexAxis())),g=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+f;a=h.start+h.chunk*g+h.chunk/2,l=Math.min(o,h.chunk*h.ratio)}else a=r.getPixelForValue(this.getParsed(e)[r.axis],e),l=Math.min(o,t.min*t.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,t=e.vScale,r=e.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[t.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}Pe($0,"id","bar"),Pe($0,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Pe($0,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function f$(n,e,t){let r=1,i=1,s=0,o=0;if(e<$n){const a=n,l=a+e,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),d=Math.sin(l),f=(E,R,O)=>bm(E,a,l,!0)?1:Math.max(R,R*t,O,O*t),g=(E,R,O)=>bm(E,a,l,!0)?-1:Math.min(R,R*t,O,O*t),w=f(0,c,h),x=f(br,u,d),_=g(ln,c,h),b=g(ln+br,u,d);r=(w-_)/2,i=(x-b)/2,s=-(w+_)/2,o=-(x+b)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}class ip extends ju{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=l=>+r[l];if(qt(r[e])){const{key:l="value"}=this._parsing;s=c=>+eh(r[c],l)}let o,a;for(o=e,a=e+t;o<a;++o)i._parsed[o]=s(o)}}_getRotation(){return Ma(this.options.rotation-90)}_getCircumference(){return Ma(this.options.circumference)}_getRotationExtents(){let e=$n,t=-$n;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),o=i._getCircumference();e=Math.min(e,s),t=Math.max(t,s+o)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:r}=t,i=this._cachedMeta,s=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),l=Math.min(yH(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:d,ratioY:f,offsetX:g,offsetY:w}=f$(h,u,l),x=(r.width-o)/d,_=(r.height-o)/f,b=Math.max(Math.min(x,_)/2,0),E=a6(this.options.radius,b),R=Math.max(E*l,0),O=(E-R)/this._getVisibleDatasetWeightTotal();this.offsetX=g*E,this.offsetY=w*E,i.total=this.calculateTotal(),this.outerRadius=E-O*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-O*c,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return t&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/$n)}updateElements(e,t,r,i){const s=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,h=(a.top+a.bottom)/2,d=s&&c.animateScale,f=d?0:this.innerRadius,g=d?0:this.outerRadius,{sharedOptions:w,includeOptions:x}=this._getSharedOptions(t,i);let _=this._getRotation(),b;for(b=0;b<t;++b)_+=this._circumference(b,s);for(b=t;b<t+r;++b){const E=this._circumference(b,s),R=e[b],O={x:u+this.offsetX,y:h+this.offsetY,startAngle:_,endAngle:_+E,circumference:E,outerRadius:g,innerRadius:f};x&&(O.options=w||this.resolveDataElementOptions(b,R.active?"active":i)),_+=E,this.updateElement(R,b,O,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let r=0,i;for(i=0;i<t.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!t[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?$n*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=Ex(t._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let t=0;const r=this.chart;let i,s,o,a,l;if(!e){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){o=r.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(t=Math.max(t,l.borderWidth||0,l.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let r=0,i=e.length;r<i;++r){const s=this.resolveDataElementOptions(r);t=Math.max(t,s.offset||0,s.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(t+=this._getRingWeight(r));return t}_getRingWeight(e){return Math.max(It(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Pe(ip,"id","doughnut"),Pe(ip,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Pe(ip,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Pe(ip,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return t.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}}});class Y0 extends ju{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=t,o=this.chart._animationsDisabled;let{start:a,count:l}=jH(t,i,o);this._drawStart=a,this._drawCount=l,VH(t)&&(a=0,l=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:c},e),this.updateElements(i,a,l,e)}updateElements(e,t,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(t,i),d=o.axis,f=a.axis,{spanGaps:g,segment:w}=this.options,x=wm(g)?g:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||s||i==="none",b=t+r,E=e.length;let R=t>0&&this.getParsed(t-1);for(let O=0;O<E;++O){const V=e[O],C=_?V:{};if(O<t||O>=b){C.skip=!0;continue}const y=this.getParsed(O),S=en(y[f]),I=C[d]=o.getPixelForValue(y[d],O),k=C[f]=s||S?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,y,l):y[f],O);C.skip=isNaN(I)||isNaN(k)||S,C.stop=O>0&&Math.abs(y[d]-R[d])>x,w&&(C.parsed=y,C.raw=c.data[O]),h&&(C.options=u||this.resolveDataElementOptions(O,V.active?"active":i)),_||this.updateElement(V,O,C,i),R=y}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,r=t.options&&t.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Pe(Y0,"id","line"),Pe(Y0,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Pe(Y0,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Xw extends ip{}Pe(Xw,"id","pie"),Pe(Xw,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function hu(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Rx{constructor(e){Pe(this,"options");this.options=e||{}}static override(e){Object.assign(Rx.prototype,e)}init(){}formats(){return hu()}parse(){return hu()}format(){return hu()}add(){return hu()}diff(){return hu()}startOf(){return hu()}endOf(){return hu()}}var p$={_date:Rx};function m$(n,e,t,r){const{controller:i,data:s,_sorted:o}=n,a=i._cachedMeta.iScale,l=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const c=a._reversePixels?RH:ku;if(r){if(i._sharedOptions){const u=s[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){const d=c(s,e,t-h),f=c(s,e,t+h);return{lo:d.lo,hi:f.hi}}}}else{const u=c(s,e,t);if(l){const{vScale:h}=i._cachedMeta,{_parsed:d}=n,f=d.slice(0,u.lo+1).reverse().findIndex(w=>!en(w[h.axis]));u.lo-=Math.max(0,f);const g=d.slice(u.hi).findIndex(w=>!en(w[h.axis]));u.hi+=Math.max(0,g)}return u}}return{lo:0,hi:s.length-1}}function gy(n,e,t,r,i){const s=n.getSortedVisibleDatasetMetas(),o=t[e];for(let a=0,l=s.length;a<l;++a){const{index:c,data:u}=s[a],{lo:h,hi:d}=m$(s[a],e,o,i);for(let f=h;f<=d;++f){const g=u[f];g.skip||r(g,c,f)}}}function g$(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,o=t?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function K2(n,e,t,r,i){const s=[];return!i&&!n.isPointInArea(e)||gy(n,t,e,function(a,l,c){!i&&!xm(a,n.chartArea,0)||a.inRange(e.x,e.y,r)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function v$(n,e,t,r){let i=[];function s(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],r),{angle:h}=u6(o,{x:e.x,y:e.y});bm(h,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return gy(n,t,e,s),i}function y$(n,e,t,r,i,s){let o=[];const a=g$(t);let l=Number.POSITIVE_INFINITY;function c(u,h,d){const f=u.inRange(e.x,e.y,i);if(r&&!f)return;const g=u.getCenterPoint(i);if(!(!!s||n.isPointInArea(g))&&!f)return;const x=a(e,g);x<l?(o=[{element:u,datasetIndex:h,index:d}],l=x):x===l&&o.push({element:u,datasetIndex:h,index:d})}return gy(n,t,e,c),o}function Q2(n,e,t,r,i,s){return!s&&!n.isPointInArea(e)?[]:t==="r"&&!r?v$(n,e,t,i):y$(n,e,t,r,i,s)}function ck(n,e,t,r,i){const s=[],o=t==="x"?"inXRange":"inYRange";let a=!1;return gy(n,t,e,(l,c,u)=>{l[o]&&l[o](e[t],i)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,i))}),r&&!a?[]:s}var _$={modes:{index(n,e,t,r){const i=gu(e,n),s=t.axis||"x",o=t.includeInvisible||!1,a=t.intersect?K2(n,i,s,r,o):Q2(n,i,s,!1,r,o),l=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(n,e,t,r){const i=gu(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;let a=t.intersect?K2(n,i,s,r,o):Q2(n,i,s,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,c=n.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(n,e,t,r){const i=gu(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;return K2(n,i,s,r,o)},nearest(n,e,t,r){const i=gu(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;return Q2(n,i,s,t.intersect,r,o)},x(n,e,t,r){const i=gu(e,n);return ck(n,i,"x",t.intersect,r)},y(n,e,t,r){const i=gu(e,n);return ck(n,i,"y",t.intersect,r)}}};const C6=["left","top","right","bottom"];function Bf(n,e){return n.filter(t=>t.pos===e)}function uk(n,e){return n.filter(t=>C6.indexOf(t.pos)===-1&&t.box.axis===e)}function Uf(n,e){return n.sort((t,r)=>{const i=e?r:t,s=e?t:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function w$(n){const e=[];let t,r,i,s,o,a;for(t=0,r=(n||[]).length;t<r;++t)i=n[t],{position:s,options:{stack:o,stackWeight:a=1}}=i,e.push({index:t,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}function b$(n){const e={};for(const t of n){const{stack:r,pos:i,stackWeight:s}=t;if(!r||!C6.includes(i))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function x$(n,e){const t=b$(n),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,o,a;for(s=0,o=n.length;s<o;++s){a=n[s];const{fullSize:l}=a.box,c=t[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*r:l&&e.availableWidth,a.height=i):(a.width=r,a.height=u?u*i:l&&e.availableHeight)}return t}function S$(n){const e=w$(n),t=Uf(e.filter(c=>c.box.fullSize),!0),r=Uf(Bf(e,"left"),!0),i=Uf(Bf(e,"right")),s=Uf(Bf(e,"top"),!0),o=Uf(Bf(e,"bottom")),a=uk(e,"x"),l=uk(e,"y");return{fullSize:t,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:Bf(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}function hk(n,e,t,r){return Math.max(n[t],e[t])+Math.max(n[r],e[r])}function N6(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function E$(n,e,t,r){const{pos:i,box:s}=t,o=n.maxPadding;if(!qt(i)){t.size&&(n[i]-=t.size);const h=r[t.stack]||{size:0,count:1};h.size=Math.max(h.size,t.horizontal?s.height:s.width),t.size=h.size/h.count,n[i]+=t.size}s.getPadding&&N6(o,s.getPadding());const a=Math.max(0,e.outerWidth-hk(o,n,"left","right")),l=Math.max(0,e.outerHeight-hk(o,n,"top","bottom")),c=a!==n.w,u=l!==n.h;return n.w=a,n.h=l,t.horizontal?{same:c,other:u}:{same:u,other:c}}function k$(n){const e=n.maxPadding;function t(r){const i=Math.max(e[r]-n[r],0);return n[r]+=i,i}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function A$(n,e){const t=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],t[o])}),s}return r(n?["left","right"]:["top","bottom"])}function sp(n,e,t,r){const i=[];let s,o,a,l,c,u;for(s=0,o=n.length,c=0;s<o;++s){a=n[s],l=a.box,l.update(a.width||e.w,a.height||e.h,A$(a.horizontal,e));const{same:h,other:d}=E$(e,t,a,r);c|=h&&i.length,u=u||d,l.fullSize||i.push(a)}return c&&sp(i,e,t,r)||u}function c0(n,e,t,r,i){n.top=t,n.left=e,n.right=e+r,n.bottom=t+i,n.width=r,n.height=i}function dk(n,e,t,r){const i=t.padding;let{x:s,y:o}=e;for(const a of n){const l=a.box,c=r[a.stack]||{placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=e.w*u,d=c.size||l.height;_m(c.start)&&(o=c.start),l.fullSize?c0(l,i.left,o,t.outerWidth-i.right-i.left,d):c0(l,e.left+c.placed,o,h,d),c.start=o,c.placed+=h,o=l.bottom}else{const h=e.h*u,d=c.size||l.width;_m(c.start)&&(s=c.start),l.fullSize?c0(l,s,i.top,d,t.outerHeight-i.bottom-i.top):c0(l,s,e.top+c.placed,d,h),c.start=s,c.placed+=h,s=l.right}}e.x=s,e.y=o}var As={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,r){if(!n)return;const i=Is(n.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(t-i.height,0),a=S$(n.boxes),l=a.vertical,c=a.horizontal;an(n.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const u=l.reduce((w,x)=>x.box.options&&x.box.options.display===!1?w:w+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},i);N6(d,Is(r));const f=Object.assign({maxPadding:d,w:s,h:o,x:i.left,y:i.top},i),g=x$(l.concat(c),h);sp(a.fullSize,f,h,g),sp(l,f,h,g),sp(c,f,h,g)&&sp(l,f,h,g),k$(f),dk(a.leftAndTop,f,h,g),f.x+=f.w,f.y+=f.h,dk(a.rightAndBottom,f,h,g),n.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},an(a.chartArea,w=>{const x=w.box;Object.assign(x,n.chartArea),x.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class I6{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,i){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):r)}}isAttached(e){return!0}updateConfig(e){}}class P$ extends I6{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const G0="$chartjs",T$={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},fk=n=>n===null||n==="";function C$(n,e){const t=n.style,r=n.getAttribute("height"),i=n.getAttribute("width");if(n[G0]={initial:{height:r,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",fk(i)){const s=Q3(n,"width");s!==void 0&&(n.width=s)}if(fk(r))if(n.style.height==="")n.height=n.width/(e||2);else{const s=Q3(n,"height");s!==void 0&&(n.height=s)}return n}const D6=Tq?{passive:!0}:!1;function N$(n,e,t){n&&n.addEventListener(e,t,D6)}function I$(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,D6)}function D$(n,e){const t=T$[n.type]||n.type,{x:r,y:i}=gu(n,e);return{type:t,chart:e,native:n,x:r!==void 0?r:null,y:i!==void 0?i:null}}function iv(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function R$(n,e,t){const r=n.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||iv(a.addedNodes,r),o=o&&!iv(a.removedNodes,r);o&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function L$(n,e,t){const r=n.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||iv(a.removedNodes,r),o=o&&!iv(a.addedNodes,r);o&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const Em=new Map;let pk=0;function R6(){const n=window.devicePixelRatio;n!==pk&&(pk=n,Em.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function M$(n,e){Em.size||window.addEventListener("resize",R6),Em.set(n,e)}function O$(n){Em.delete(n),Em.size||window.removeEventListener("resize",R6)}function F$(n,e,t){const r=n.canvas,i=r&&Dx(r);if(!i)return;const s=p6((a,l)=>{const c=i.clientWidth;t(a,l),c<i.clientWidth&&t()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return o.observe(i),M$(n,s),o}function X2(n,e,t){t&&t.disconnect(),e==="resize"&&O$(n)}function j$(n,e,t){const r=n.canvas,i=p6(s=>{n.ctx!==null&&t(D$(s,n))},n);return N$(r,e,i),i}class V$ extends I6{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(C$(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[G0])return!1;const r=t[G0].initial;["height","width"].forEach(s=>{const o=r[s];en(o)?t.removeAttribute(s):t.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{t.style[s]=i[s]}),t.width=t.width,delete t[G0],!0}addEventListener(e,t,r){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),o={attach:R$,detach:L$,resize:F$}[t]||j$;i[t]=o(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),i=r[t];if(!i)return;({attach:X2,detach:X2,resize:X2}[t]||I$)(e,t,i),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,i){return Pq(e,t,r,i)}isAttached(e){const t=e&&Dx(e);return!!(t&&t.isConnected)}}function B$(n){return!Ix()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?P$:V$}var x0;let nl=(x0=class{constructor(){Pe(this,"x");Pe(this,"y");Pe(this,"active",!1);Pe(this,"options");Pe(this,"$animations")}tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return wm(this.x)&&wm(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}},Pe(x0,"defaults",{}),Pe(x0,"defaultRoutes"),x0);function U$(n,e){const t=n.options.ticks,r=z$(n),i=Math.min(t.maxTicksLimit||r,r),s=t.major.enabled?H$(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>i)return q$(e,c,s,o/i),c;const u=W$(s,e,i);if(o>0){let h,d;const f=o>1?Math.round((l-a)/(o-1)):null;for(u0(e,c,u,en(f)?0:a-f,a),h=0,d=o-1;h<d;h++)u0(e,c,u,s[h],s[h+1]);return u0(e,c,u,l,en(f)?e.length:l+f),c}return u0(e,c,u),c}function z$(n){const e=n.options.offset,t=n._tickSize(),r=n._length/t+(e?0:1),i=n._maxLength/t;return Math.floor(Math.min(r,i))}function W$(n,e,t){const r=$$(n),i=e.length/t;if(!r)return Math.max(i,1);const s=AH(r);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>i)return l}return Math.max(i,1)}function H$(n){const e=[];let t,r;for(t=0,r=n.length;t<r;t++)n[t].major&&e.push(t);return e}function q$(n,e,t,r){let i=0,s=t[0],o;for(r=Math.ceil(r),o=0;o<n.length;o++)o===s&&(e.push(n[o]),i++,s=t[i*r])}function u0(n,e,t,r,i){const s=It(r,0),o=Math.min(It(i,n.length),n.length);let a=0,l,c,u;for(t=Math.ceil(t),i&&(l=i-r,t=l/Math.floor(l/t)),u=s;u<0;)a++,u=Math.round(s+a*t);for(c=Math.max(s,0);c<o;c++)c===u&&(e.push(n[c]),a++,u=Math.round(s+a*t))}function $$(n){const e=n.length;let t,r;if(e<2)return!1;for(r=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==r)return!1;return r}const Y$=n=>n==="left"?"right":n==="right"?"left":n,mk=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,gk=(n,e)=>Math.min(e||n,n);function vk(n,e){const t=[],r=n.length/e,i=n.length;let s=0;for(;s<i;s+=r)t.push(n[Math.floor(s)]);return t}function G$(n,e,t){const r=n.ticks.length,i=Math.min(e,r-1),s=n._startPixel,o=n._endPixel,a=1e-6;let l=n.getPixelForTick(i),c;if(!(t&&(r===1?c=Math.max(l-s,o-l):e===0?c=(n.getPixelForTick(1)-l)/2:c=(l-n.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<s-a||l>o+a)))return l}function K$(n,e){an(n,t=>{const r=t.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete t.data[r[s]];r.splice(0,i)}})}function zf(n){return n.drawTicks?n.tickLength:0}function yk(n,e){if(!n.display)return 0;const t=li(n.font,e),r=Is(n.padding);return(_r(n.text)?n.text.length:1)*t.lineHeight+r.height}function Q$(n,e){return hh(n,{scale:e,type:"scale"})}function X$(n,e,t){return hh(n,{tick:t,index:e,type:"tick"})}function J$(n,e,t){let r=xx(n);return(t&&e!=="right"||!t&&e==="right")&&(r=Y$(r)),r}function Z$(n,e,t,r){const{top:i,left:s,bottom:o,right:a,chart:l}=n,{chartArea:c,scales:u}=l;let h=0,d,f,g;const w=o-i,x=a-s;if(n.isHorizontal()){if(f=ni(r,s,a),qt(t)){const _=Object.keys(t)[0],b=t[_];g=u[_].getPixelForValue(b)+w-e}else t==="center"?g=(c.bottom+c.top)/2+w-e:g=mk(n,t,e);d=a-s}else{if(qt(t)){const _=Object.keys(t)[0],b=t[_];f=u[_].getPixelForValue(b)-x+e}else t==="center"?f=(c.left+c.right)/2-x+e:f=mk(n,t,e);g=ni(r,o,i),h=t==="left"?-br:br}return{titleX:f,titleY:g,maxWidth:d,rotation:h}}class lf extends nl{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:i}=this;return e=ko(e,Number.POSITIVE_INFINITY),t=ko(t,Number.NEGATIVE_INFINITY),r=ko(r,Number.POSITIVE_INFINITY),i=ko(i,Number.NEGATIVE_INFINITY),{min:ko(e,r),max:ko(t,i),minDefined:Ns(e),maxDefined:Ns(t)}}getMinMax(e){let{min:t,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:t,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),i||(t=Math.min(t,o.min)),s||(r=Math.max(r,o.max));return t=s&&t>r?r:t,r=i&&t>r?t:r,{min:ko(t,ko(r,t)),max:ko(r,ko(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Tn(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=sq(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?vk(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=U$(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Tn(this.options.afterUpdate,[this])}beforeSetDimensions(){Tn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Tn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Tn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Tn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=Tn(t.callback,[s.value,r,e],this)}afterTickToLabelConversion(){Tn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Tn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=gk(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,s=t.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!t.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),h=u.widest.width,d=u.highest.height,f=ai(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/r:f/(r-1),h+6>a&&(a=f/(r-(e.offset?.5:1)),l=this.maxHeight-zf(e.grid)-t.padding-yk(e.title,this.chart.options.font),c=Math.sqrt(h*h+d*d),o=NH(Math.min(Math.asin(ai((u.highest.height+6)/a,-1,1)),Math.asin(ai(l/c,-1,1))-Math.asin(ai(d/c,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Tn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Tn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=yk(i,t.options.font);if(a?(e.width=this.maxWidth,e.height=zf(s)+l):(e.height=this.maxHeight,e.width=zf(s)+l),r.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:d}=this._getLabelSizes(),f=r.padding*2,g=Ma(this.labelRotation),w=Math.cos(g),x=Math.sin(g);if(a){const _=r.mirror?0:x*h.width+w*d.height;e.height=Math.min(this.maxHeight,e.height+_+f)}else{const _=r.mirror?0:w*h.width+x*d.height;e.width=Math.min(this.maxWidth,e.width+_+f)}this._calculatePadding(c,u,x,w)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,f=0;l?c?(d=i*e.width,f=r*t.height):(d=r*e.height,f=i*t.width):s==="start"?f=t.width:s==="end"?d=e.width:s!=="inner"&&(d=e.width/2,f=t.width/2),this.paddingLeft=Math.max((d-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-h+o)*this.width/(this.width-h),0)}else{let u=t.height/2,h=e.height/2;s==="start"?(u=0,h=e.height):s==="end"&&(u=t.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Tn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,r;for(t=0,r=e.length;t<r;t++)en(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=vk(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(t/gk(t,r));let c=0,u=0,h,d,f,g,w,x,_,b,E,R,O;for(h=0;h<t;h+=l){if(g=e[h].label,w=this._resolveTickFontOptions(h),i.font=x=w.string,_=s[x]=s[x]||{data:{},gc:[]},b=w.lineHeight,E=R=0,!en(g)&&!_r(g))E=q3(i,_.data,_.gc,E,g),R=b;else if(_r(g))for(d=0,f=g.length;d<f;++d)O=g[d],!en(O)&&!_r(O)&&(E=q3(i,_.data,_.gc,E,O),R+=b);o.push(E),a.push(R),c=Math.max(E,c),u=Math.max(R,u)}K$(s,t);const V=o.indexOf(c),C=a.indexOf(u),y=S=>({width:o[S]||0,height:a[S]||0});return{first:y(0),last:y(t-1),widest:y(V),highest:y(C),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return DH(this._alignToPixels?uu(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=X$(this.getContext(),e,r))}return this.$context||(this.$context=Q$(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Ma(this.labelRotation),r=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,l=s.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),d=zf(s),f=[],g=a.setContext(this.getContext()),w=g.display?g.width:0,x=w/2,_=function(K){return uu(r,K,w)};let b,E,R,O,V,C,y,S,I,k,P,L;if(o==="top")b=_(this.bottom),C=this.bottom-d,S=b-x,k=_(e.top)+x,L=e.bottom;else if(o==="bottom")b=_(this.top),k=e.top,L=_(e.bottom)-x,C=b+x,S=this.top+d;else if(o==="left")b=_(this.right),V=this.right-d,y=b-x,I=_(e.left)+x,P=e.right;else if(o==="right")b=_(this.left),I=e.left,P=_(e.right)-x,V=b+x,y=this.left+d;else if(t==="x"){if(o==="center")b=_((e.top+e.bottom)/2+.5);else if(qt(o)){const K=Object.keys(o)[0],q=o[K];b=_(this.chart.scales[K].getPixelForValue(q))}k=e.top,L=e.bottom,C=b+x,S=C+d}else if(t==="y"){if(o==="center")b=_((e.left+e.right)/2);else if(qt(o)){const K=Object.keys(o)[0],q=o[K];b=_(this.chart.scales[K].getPixelForValue(q))}V=b-x,y=V-d,I=e.left,P=e.right}const $=It(i.ticks.maxTicksLimit,h),te=Math.max(1,Math.ceil(h/$));for(E=0;E<h;E+=te){const K=this.getContext(E),q=s.setContext(K),W=a.setContext(K),H=q.lineWidth,oe=q.color,le=W.dash||[],j=W.dashOffset,z=q.tickWidth,Z=q.tickColor,ne=q.tickBorderDash||[],se=q.tickBorderDashOffset;R=G$(this,E,l),R!==void 0&&(O=uu(r,R,H),c?V=y=I=P=O:C=S=k=L=O,f.push({tx1:V,ty1:C,tx2:y,ty2:S,x1:I,y1:k,x2:P,y2:L,width:H,color:oe,borderDash:le,borderDashOffset:j,tickWidth:z,tickColor:Z,tickBorderDash:ne,tickBorderDashOffset:se}))}return this._ticksLength=h,this._borderValue=b,f}_computeLabelItems(e){const t=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=s,d=zf(r.grid),f=d+u,g=h?-u:f,w=-Ma(this.labelRotation),x=[];let _,b,E,R,O,V,C,y,S,I,k,P,L="middle";if(i==="top")V=this.bottom-g,C=this._getXAxisLabelAlignment();else if(i==="bottom")V=this.top+g,C=this._getXAxisLabelAlignment();else if(i==="left"){const te=this._getYAxisLabelAlignment(d);C=te.textAlign,O=te.x}else if(i==="right"){const te=this._getYAxisLabelAlignment(d);C=te.textAlign,O=te.x}else if(t==="x"){if(i==="center")V=(e.top+e.bottom)/2+f;else if(qt(i)){const te=Object.keys(i)[0],K=i[te];V=this.chart.scales[te].getPixelForValue(K)+f}C=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")O=(e.left+e.right)/2-f;else if(qt(i)){const te=Object.keys(i)[0],K=i[te];O=this.chart.scales[te].getPixelForValue(K)}C=this._getYAxisLabelAlignment(d).textAlign}t==="y"&&(l==="start"?L="top":l==="end"&&(L="bottom"));const $=this._getLabelSizes();for(_=0,b=a.length;_<b;++_){E=a[_],R=E.label;const te=s.setContext(this.getContext(_));y=this.getPixelForTick(_)+s.labelOffset,S=this._resolveTickFontOptions(_),I=S.lineHeight,k=_r(R)?R.length:1;const K=k/2,q=te.color,W=te.textStrokeColor,H=te.textStrokeWidth;let oe=C;o?(O=y,C==="inner"&&(_===b-1?oe=this.options.reverse?"left":"right":_===0?oe=this.options.reverse?"right":"left":oe="center"),i==="top"?c==="near"||w!==0?P=-k*I+I/2:c==="center"?P=-$.highest.height/2-K*I+I:P=-$.highest.height+I/2:c==="near"||w!==0?P=I/2:c==="center"?P=$.highest.height/2-K*I:P=$.highest.height-k*I,h&&(P*=-1),w!==0&&!te.showLabelBackdrop&&(O+=I/2*Math.sin(w))):(V=y,P=(1-k)*I/2);let le;if(te.showLabelBackdrop){const j=Is(te.backdropPadding),z=$.heights[_],Z=$.widths[_];let ne=P-j.top,se=0-j.left;switch(L){case"middle":ne-=z/2;break;case"bottom":ne-=z;break}switch(C){case"center":se-=Z/2;break;case"right":se-=Z;break;case"inner":_===b-1?se-=Z:_>0&&(se-=Z/2);break}le={left:se,top:ne,width:Z+j.width,height:z+j.height,color:te.backdropColor}}x.push({label:R,font:S,textOffset:P,options:{rotation:w,color:q,strokeColor:W,strokeWidth:H,textAlign:oe,textBaseline:L,translation:[O,V],backdrop:le}})}return x}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Ma(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let c,u;return t==="left"?i?(u=this.right+s,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u=this.left)):t==="right"?i?(u=this.left+s,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:i,width:s,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,i,s,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,c,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(t.display)for(s=0,o=i.length;s<o;++s){const l=i[s];t.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),t.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,d;this.isHorizontal()?(c=uu(e,this.left,o)-o/2,u=uu(e,this.right,a)+a/2,h=d=l):(h=uu(e,this.top,o)-o/2,d=uu(e,this.bottom,a)+a/2,c=u=l),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(c,h),t.lineTo(u,d),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&kx(r,i);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,c=o.label,u=o.textOffset;Sm(r,c,0,u,l,a)}i&&Ax(r)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:i}}=this;if(!r.display)return;const s=li(r.font),o=Is(r.padding),a=r.align;let l=s.lineHeight/2;t==="bottom"||t==="center"||qt(t)?(l+=o.bottom,_r(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:d}=Z$(this,l,t,a);Sm(e,r.text,0,0,s,{color:r.color,maxWidth:h,rotation:d,textAlign:J$(a,t,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=It(e.grid&&e.grid.z,-1),i=It(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==lf.prototype.draw?[{z:t,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=t.length;s<o;++s){const a=t[s];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return li(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class h0{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;nY(t)&&(r=this.register(t));const i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,eY(e,o,r),this.override&&rr.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,i=this.scope;r in t&&delete t[r],i&&r in rr[i]&&(delete rr[i][r],this.override&&delete th[r])}}function eY(n,e,t){const r=ym(Object.create(null),[t?rr.get(t):{},rr.get(e),n.defaults]);rr.set(e,r),n.defaultRoutes&&tY(e,n.defaultRoutes),n.descriptors&&rr.describe(e,n.descriptors)}function tY(n,e){Object.keys(e).forEach(t=>{const r=t.split("."),i=r.pop(),s=[n].concat(r).join("."),o=e[t].split("."),a=o.pop(),l=o.join(".");rr.route(s,i,l,a)})}function nY(n){return"id"in n&&"defaults"in n}class rY{constructor(){this.controllers=new h0(ju,"datasets",!0),this.elements=new h0(nl,"elements"),this.plugins=new h0(Object,"plugins"),this.scales=new h0(lf,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):an(i,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,t,r){const i=wx(e);Tn(r["before"+i],[],r),t[e](r),Tn(r["after"+i],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var Co=new rY;class iY{constructor(){this._init=[]}notify(e,t,r,i){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,t,r);return t==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,r,i){i=i||{};for(const s of e){const o=s.plugin,a=o[r],l=[t,i,s.options];if(Tn(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){en(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,i=It(r.options&&r.options.plugins,{}),s=sY(r);return i===!1&&!t?[]:aY(e,s,i,t)}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(t,r),e,"stop"),this._notify(i(r,t),e,"start")}}function sY(n){const e={},t=[],r=Object.keys(Co.plugins.items);for(let s=0;s<r.length;s++)t.push(Co.getPlugin(r[s]));const i=n.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function oY(n,e){return!e&&n===!1?null:n===!0?{}:n}function aY(n,{plugins:e,localIds:t},r,i){const s=[],o=n.getContext();for(const a of e){const l=a.id,c=oY(r[l],i);c!==null&&s.push({plugin:a,options:lY(n.config,{plugin:a,local:t[l]},c,o)})}return s}function lY(n,{plugin:e,local:t},r,i){const s=n.pluginScopeKeys(e),o=n.getOptionScopes(r,s);return t&&e.defaults&&o.push(e.defaults),n.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Jw(n,e){const t=rr.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function cY(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function uY(n,e){return n===e?"_index_":"_value_"}function _k(n){if(n==="x"||n==="y"||n==="r")return n}function hY(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Zw(n,...e){if(_k(n))return n;for(const t of e){const r=t.axis||hY(t.position)||n.length>1&&_k(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function wk(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function dY(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(t.length)return wk(n,"x",t[0])||wk(n,"y",t[0])}return{}}function fY(n,e){const t=th[n.type]||{scales:{}},r=e.scales||{},i=Jw(n.type,e),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!qt(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Zw(o,a,dY(o,n),rr.scales[a.type]),c=uY(l,i),u=t.scales||{};s[o]=Dp(Object.create(null),[{axis:l},a,u[l],u[c]])}),n.data.datasets.forEach(o=>{const a=o.type||n.type,l=o.indexAxis||Jw(a,e),u=(th[a]||{}).scales||{};Object.keys(u).forEach(h=>{const d=cY(h,l),f=o[d+"AxisID"]||d;s[f]=s[f]||Object.create(null),Dp(s[f],[{axis:d},r[f],u[h]])})}),Object.keys(s).forEach(o=>{const a=s[o];Dp(a,[rr.scales[a.type],rr.scale])}),s}function L6(n){const e=n.options||(n.options={});e.plugins=It(e.plugins,{}),e.scales=fY(n,e)}function M6(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function pY(n){return n=n||{},n.data=M6(n.data),L6(n),n}const bk=new Map,O6=new Set;function d0(n,e){let t=bk.get(n);return t||(t=e(),bk.set(n,t),O6.add(t)),t}const Wf=(n,e,t)=>{const r=eh(e,t);r!==void 0&&n.add(r)};class mY{constructor(e){this._config=pY(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=M6(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),L6(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return d0(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return d0(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return d0(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,r=this.type;return d0(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const r=this._scopeCache;let i=r.get(e);return(!i||t)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,t,r){const{options:i,type:s}=this,o=this._cachedScopes(e,r),a=o.get(t);if(a)return a;const l=new Set;t.forEach(u=>{e&&(l.add(e),u.forEach(h=>Wf(l,e,h))),u.forEach(h=>Wf(l,i,h)),u.forEach(h=>Wf(l,th[s]||{},h)),u.forEach(h=>Wf(l,rr,h)),u.forEach(h=>Wf(l,Kw,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),O6.has(t)&&o.set(t,c),c}chartOptionScopes(){const{options:e,type:t}=this;return[e,th[t]||{},rr.datasets[t]||{},{type:t},rr,Kw]}resolveNamedOptions(e,t,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=xk(this._resolverCache,e,i);let l=o;if(vY(o,t)){s.$shared=!1,r=Ic(r)?r():r;const c=this.createResolver(e,r,a);l=Fd(o,r,c)}for(const c of t)s[c]=l[c];return s}createResolver(e,t,r=[""],i){const{resolver:s}=xk(this._resolverCache,e,r);return qt(t)?Fd(s,t,void 0,i):s}}function xk(n,e,t){let r=n.get(e);r||(r=new Map,n.set(e,r));const i=t.join();let s=r.get(i);return s||(s={resolver:Tx(e,t),subPrefixes:t.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const gY=n=>qt(n)&&Object.getOwnPropertyNames(n).some(e=>Ic(n[e]));function vY(n,e){const{isScriptable:t,isIndexable:r}=y6(n);for(const i of e){const s=t(i),o=r(i),a=(o||s)&&n[i];if(s&&(Ic(a)||gY(a))||o&&_r(a))return!0}return!1}var yY="4.5.0";const _Y=["top","bottom","left","right","chartArea"];function Sk(n,e){return n==="top"||n==="bottom"||_Y.indexOf(n)===-1&&e==="x"}function Ek(n,e){return function(t,r){return t[n]===r[n]?t[e]-r[e]:t[n]-r[n]}}function kk(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Tn(t&&t.onComplete,[n],e)}function wY(n){const e=n.chart,t=e.options.animation;Tn(t&&t.onProgress,[n],e)}function F6(n){return Ix()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const K0={},Ak=n=>{const e=F6(n);return Object.values(K0).filter(t=>t.canvas===e).pop()};function bY(n,e,t){const r=Object.keys(n);for(const i of r){const s=+i;if(s>=e){const o=n[i];delete n[i],(t>0||s>e)&&(n[s+t]=o)}}}function xY(n,e,t,r){return!t||n.type==="mouseout"?null:r?e:n}var jl;let vy=(jl=class{static register(...e){Co.add(...e),Pk()}static unregister(...e){Co.remove(...e),Pk()}constructor(e,t){const r=this.config=new mY(t),i=F6(e),s=Ak(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||B$(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=vH(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new iY,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=OH(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],K0[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}ka.listen(this,"complete",kk),ka.listen(this,"progress",wY),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:i,_aspectRatio:s}=this;return en(e)?t&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Co}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():K3(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return $3(this.canvas,this.ctx),this}stop(){return ka.stop(this),this}resize(e,t){ka.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,t,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,K3(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Tn(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};an(t,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];t&&(s=s.concat(Object.keys(t).map(o=>{const a=t[o],l=Zw(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),an(s,o=>{const a=o.options,l=a.id,c=Zw(l,a),u=It(a.type,o.dtype);(a.position===void 0||Sk(a.position,c)!==Sk(o.dposition))&&(a.position=o.dposition),i[l]=!0;let h=null;if(l in r&&r[l].type===u)h=r[l];else{const d=Co.getScale(u);h=new d({id:l,type:u,ctx:this.ctx,chart:this}),r[h.id]=h}h.init(a,e)}),an(i,(o,a)=>{o||delete r[a]}),an(r,o=>{As.configure(this,o,o.options),As.addBox(this,o)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>t){for(let i=t;i<r;++i)this._destroyDatasetMeta(i);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(Ek("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((r,i)=>{t.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=t.length;r<i;r++){const s=t[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||Jw(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=Co.getController(a),{datasetElementType:c,dataElementType:u}=rr.datasets[a];Object.assign(l,{dataElementType:Co.getElement(u),datasetElementType:c&&Co.getElement(c)}),o.controller=new l(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){an(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),d=!i&&s.indexOf(h)===-1;h.buildOrUpdateElements(d),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||an(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Ek("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){an(this.scales,e=>{As.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!O3(t,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of t){const o=r==="_removeElements"?-s:s;bY(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<t;s++)if(!O3(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;As.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],an(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,r=this.data.datasets.length;t<r;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,Ic(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ka.has(this)?this.attached&&!ka.running(this)&&ka.start(this):(this.draw(),kk({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let i,s;for(i=0,s=t.length;i<s;++i){const o=t[i];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=zq(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&kx(t,i),e.controller.draw(),i&&Ax(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return xm(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,i){const s=_$.modes[t];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=hh(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!t.hidden}setDatasetVisibility(e,t){const r=this.getDatasetMeta(e);r.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,i);_m(t)?(s.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),ka.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),$3(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete K0[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(s,o)=>{t.addEventListener(this,s,o),e[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};an(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(l,c)=>{t.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(t.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},t.isAttached(this.canvas)?a():o()}unbindEvents(){an(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},an(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const i=r?"set":"remove";let s,o,a,l;for(t==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!Z1(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,r){const i=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=s(t,e),a=r?e:s(e,t);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:i=[],options:s}=this,o=t,a=this._getActiveElements(e,i,r,o),l=SH(e),c=xY(e,this._lastEvent,r,l);r&&(this._lastEvent=null,Tn(s.onHover,[e,a,this],this),l&&Tn(s.onClick,[e,a,this],this));const u=!Z1(a,i);return(u||t)&&(this._active=a,this._updateHoverStyles(a,i,t)),this._lastEvent=c,u}_getActiveElements(e,t,r,i){if(e.type==="mouseout")return[];if(!r)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},Pe(jl,"defaults",rr),Pe(jl,"instances",K0),Pe(jl,"overrides",th),Pe(jl,"registry",Co),Pe(jl,"version",yY),Pe(jl,"getChart",Ak),jl);function Pk(){return an(vy.instances,n=>n._plugins.invalidate())}function SY(n,e,t){const{startAngle:r,x:i,y:s,outerRadius:o,innerRadius:a,options:l}=e,{borderWidth:c,borderJoinStyle:u}=l,h=Math.min(c/o,Qs(r-t));if(n.beginPath(),n.arc(i,s,o-c/2,r+h/2,t-h/2),a>0){const d=Math.min(c/a,Qs(r-t));n.arc(i,s,a+c/2,t-d/2,r+d/2,!0)}else{const d=Math.min(c/2,o*Qs(r-t));if(u==="round")n.arc(i,s,d,t-ln/2,r+ln/2,!0);else if(u==="bevel"){const f=2*d*d,g=-f*Math.cos(t+ln/2)+i,w=-f*Math.sin(t+ln/2)+s,x=f*Math.cos(r+ln/2)+i,_=f*Math.sin(r+ln/2)+s;n.lineTo(g,w),n.lineTo(x,_)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function EY(n,e,t){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:l}=e;let c=i/a;n.beginPath(),n.arc(s,o,a,r-c,t+c),l>i?(c=i/l,n.arc(s,o,l,t+c,r-c,!0)):n.arc(s,o,i,t+br,r-br),n.closePath(),n.clip()}function kY(n){return Px(n,["outerStart","outerEnd","innerStart","innerEnd"])}function AY(n,e,t,r){const i=kY(n.options.borderRadius),s=(t-e)/2,o=Math.min(s,r*e/2),a=l=>{const c=(t-Math.min(s,l))*r/2;return ai(l,0,Math.min(s,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:ai(i.innerStart,0,o),innerEnd:ai(i.innerEnd,0,o)}}function Uh(n,e,t,r){return{x:t+n*Math.cos(e),y:r+n*Math.sin(e)}}function sv(n,e,t,r,i,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,h=Math.max(e.outerRadius+r+t-c,0),d=u>0?u+r+t+c:0;let f=0;const g=i-l;if(r){const te=u>0?u-r:0,K=h>0?h-r:0,q=(te+K)/2,W=q!==0?g*q/(q+r):g;f=(g-W)/2}const w=Math.max(.001,g*h-t/ln)/h,x=(g-w)/2,_=l+x+f,b=i-x-f,{outerStart:E,outerEnd:R,innerStart:O,innerEnd:V}=AY(e,d,h,b-_),C=h-E,y=h-R,S=_+E/C,I=b-R/y,k=d+O,P=d+V,L=_+O/k,$=b-V/P;if(n.beginPath(),s){const te=(S+I)/2;if(n.arc(o,a,h,S,te),n.arc(o,a,h,te,I),R>0){const H=Uh(y,I,o,a);n.arc(H.x,H.y,R,I,b+br)}const K=Uh(P,b,o,a);if(n.lineTo(K.x,K.y),V>0){const H=Uh(P,$,o,a);n.arc(H.x,H.y,V,b+br,$+Math.PI)}const q=(b-V/d+(_+O/d))/2;if(n.arc(o,a,d,b-V/d,q,!0),n.arc(o,a,d,q,_+O/d,!0),O>0){const H=Uh(k,L,o,a);n.arc(H.x,H.y,O,L+Math.PI,_-br)}const W=Uh(C,_,o,a);if(n.lineTo(W.x,W.y),E>0){const H=Uh(C,S,o,a);n.arc(H.x,H.y,E,_-br,S)}}else{n.moveTo(o,a);const te=Math.cos(S)*h+o,K=Math.sin(S)*h+a;n.lineTo(te,K);const q=Math.cos(I)*h+o,W=Math.sin(I)*h+a;n.lineTo(q,W)}n.closePath()}function PY(n,e,t,r,i){const{fullCircles:s,startAngle:o,circumference:a}=e;let l=e.endAngle;if(s){sv(n,e,t,r,l,i);for(let c=0;c<s;++c)n.fill();isNaN(a)||(l=o+(a%$n||$n))}return sv(n,e,t,r,l,i),n.fill(),l}function TY(n,e,t,r,i){const{fullCircles:s,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:d,borderRadius:f}=l,g=l.borderAlign==="inner";if(!c)return;n.setLineDash(h||[]),n.lineDashOffset=d,g?(n.lineWidth=c*2,n.lineJoin=u||"round"):(n.lineWidth=c,n.lineJoin=u||"bevel");let w=e.endAngle;if(s){sv(n,e,t,r,w,i);for(let x=0;x<s;++x)n.stroke();isNaN(a)||(w=o+(a%$n||$n))}g&&EY(n,e,w),l.selfJoin&&w-o>=ln&&f===0&&u!=="miter"&&SY(n,e,w),s||(sv(n,e,t,r,w,i),n.stroke())}class op extends nl{constructor(t){super();Pe(this,"circumference");Pe(this,"endAngle");Pe(this,"fullCircles");Pe(this,"innerRadius");Pe(this,"outerRadius");Pe(this,"pixelMargin");Pe(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,r,i){const s=this.getProps(["x","y"],i),{angle:o,distance:a}=u6(s,{x:t,y:r}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:h,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),f=(this.options.spacing+this.options.borderWidth)/2,g=It(d,c-l),w=bm(o,l,c)&&l!==c,x=g>=$n||w,_=nc(a,u+f,h+f);return x&&_}getCenterPoint(t){const{x:r,y:i,startAngle:s,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:c,spacing:u}=this.options,h=(s+o)/2,d=(a+l+u+c)/2;return{x:r+Math.cos(h)*d,y:i+Math.sin(h)*d}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:r,circumference:i}=this,s=(r.offset||0)/4,o=(r.spacing||0)/2,a=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>$n?Math.floor(i/$n):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const l=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(l)*s,Math.sin(l)*s);const c=1-Math.sin(Math.min(ln,i||0)),u=s*c;t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,PY(t,this,u,o,a),TY(t,this,u,o,a),t.restore()}}Pe(op,"id","arc"),Pe(op,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),Pe(op,"defaultRoutes",{backgroundColor:"backgroundColor"}),Pe(op,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function j6(n,e,t=e){n.lineCap=It(t.borderCapStyle,e.borderCapStyle),n.setLineDash(It(t.borderDash,e.borderDash)),n.lineDashOffset=It(t.borderDashOffset,e.borderDashOffset),n.lineJoin=It(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=It(t.borderWidth,e.borderWidth),n.strokeStyle=It(t.borderColor,e.borderColor)}function CY(n,e,t){n.lineTo(t.x,t.y)}function NY(n){return n.stepped?QH:n.tension||n.cubicInterpolationMode==="monotone"?XH:CY}function V6(n,e,t={}){const r=n.length,{start:i=0,end:s=r-1}=t,{start:o,end:a}=e,l=Math.max(i,o),c=Math.min(s,a),u=i<o&&s<o||i>a&&s>a;return{count:r,start:l,loop:e.loop,ilen:c<l&&!u?r+c-l:c-l}}function IY(n,e,t,r){const{points:i,options:s}=e,{count:o,start:a,loop:l,ilen:c}=V6(i,t,r),u=NY(s);let{move:h=!0,reverse:d}=r||{},f,g,w;for(f=0;f<=c;++f)g=i[(a+(d?c-f:f))%o],!g.skip&&(h?(n.moveTo(g.x,g.y),h=!1):u(n,w,g,d,s.stepped),w=g);return l&&(g=i[(a+(d?c:0))%o],u(n,w,g,d,s.stepped)),!!l}function DY(n,e,t,r){const i=e.points,{count:s,start:o,ilen:a}=V6(i,t,r),{move:l=!0,reverse:c}=r||{};let u=0,h=0,d,f,g,w,x,_;const b=R=>(o+(c?a-R:R))%s,E=()=>{w!==x&&(n.lineTo(u,x),n.lineTo(u,w),n.lineTo(u,_))};for(l&&(f=i[b(0)],n.moveTo(f.x,f.y)),d=0;d<=a;++d){if(f=i[b(d)],f.skip)continue;const R=f.x,O=f.y,V=R|0;V===g?(O<w?w=O:O>x&&(x=O),u=(h*u+R)/++h):(E(),n.lineTo(R,O),g=V,h=0,w=x=O),_=O}E()}function e5(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?DY:IY}function RY(n){return n.stepped?Cq:n.tension||n.cubicInterpolationMode==="monotone"?Nq:vu}function LY(n,e,t,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,t,r)&&i.closePath()),j6(n,e.options),n.stroke(i)}function MY(n,e,t,r){const{segments:i,options:s}=e,o=e5(e);for(const a of i)j6(n,s,a.style),n.beginPath(),o(n,e,a,{start:t,end:t+r-1})&&n.closePath(),n.stroke()}const OY=typeof Path2D=="function";function FY(n,e,t,r){OY&&!e.options.segment?LY(n,e,t,r):MY(n,e,t,r)}class ap extends nl{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;bq(this._points,r,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=jq(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,r=e.length;return r&&t[e[r-1].end]}interpolate(e,t){const r=this.options,i=e[t],s=this.points,o=Mq(this,{property:t,start:i,end:i});if(!o.length)return;const a=[],l=RY(r);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:d}=o[c],f=s[h],g=s[d];if(f===g){a.push(f);continue}const w=Math.abs((i-f[t])/(g[t]-f[t])),x=l(f,g,w,r.stepped);x[t]=e[t],a.push(x)}return a.length===1?a[0]:a}pathSegment(e,t,r){return e5(this)(e,this,t,r)}path(e,t,r){const i=this.segments,s=e5(this);let o=this._loop;t=t||0,r=r||this.points.length-t;for(const a of i)o&=s(e,this,a,{start:t,end:t+r-1});return!!o}draw(e,t,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),FY(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Pe(ap,"id","line"),Pe(ap,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Pe(ap,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Pe(ap,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Tk(n,e,t,r){const i=n.options,{[t]:s}=n.getProps([t],r);return Math.abs(e-s)<i.radius+i.hitRadius}class Q0 extends nl{constructor(t){super();Pe(this,"parsed");Pe(this,"skip");Pe(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,r,i){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(t-o,2)+Math.pow(r-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,r){return Tk(this,t,"x",r)}inYRange(t,r){return Tk(this,t,"y",r)}getCenterPoint(t){const{x:r,y:i}=this.getProps(["x","y"],t);return{x:r,y:i}}size(t){t=t||this.options||{};let r=t.radius||0;r=Math.max(r,r&&t.hoverRadius||0);const i=r&&t.borderWidth||0;return(r+i)*2}draw(t,r){const i=this.options;this.skip||i.radius<.1||!xm(this,r,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,Qw(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}Pe(Q0,"id","point"),Pe(Q0,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Pe(Q0,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function B6(n,e){const{x:t,y:r,base:i,width:s,height:o}=n.getProps(["x","y","base","width","height"],e);let a,l,c,u,h;return n.horizontal?(h=o/2,a=Math.min(t,i),l=Math.max(t,i),c=r-h,u=r+h):(h=s/2,a=t-h,l=t+h,c=Math.min(r,i),u=Math.max(r,i)),{left:a,top:c,right:l,bottom:u}}function rc(n,e,t,r){return n?0:ai(e,t,r)}function jY(n,e,t){const r=n.options.borderWidth,i=n.borderSkipped,s=v6(r);return{t:rc(i.top,s.top,0,t),r:rc(i.right,s.right,0,e),b:rc(i.bottom,s.bottom,0,t),l:rc(i.left,s.left,0,e)}}function VY(n,e,t){const{enableBorderRadius:r}=n.getProps(["enableBorderRadius"]),i=n.options.borderRadius,s=_d(i),o=Math.min(e,t),a=n.borderSkipped,l=r||qt(i);return{topLeft:rc(!l||a.top||a.left,s.topLeft,0,o),topRight:rc(!l||a.top||a.right,s.topRight,0,o),bottomLeft:rc(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:rc(!l||a.bottom||a.right,s.bottomRight,0,o)}}function BY(n){const e=B6(n),t=e.right-e.left,r=e.bottom-e.top,i=jY(n,t/2,r/2),s=VY(n,t/2,r/2);return{outer:{x:e.left,y:e.top,w:t,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:t-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function J2(n,e,t,r){const i=e===null,s=t===null,a=n&&!(i&&s)&&B6(n,r);return a&&(i||nc(e,a.left,a.right))&&(s||nc(t,a.top,a.bottom))}function UY(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function zY(n,e){n.rect(e.x,e.y,e.w,e.h)}function Z2(n,e,t={}){const r=n.x!==t.x?-e:0,i=n.y!==t.y?-e:0,s=(n.x+n.w!==t.x+t.w?e:0)-r,o=(n.y+n.h!==t.y+t.h?e:0)-i;return{x:n.x+r,y:n.y+i,w:n.w+s,h:n.h+o,radius:n.radius}}class X0 extends nl{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:o}=BY(this),a=UY(o.radius)?nv:zY;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,Z2(o,t,s)),e.clip(),a(e,Z2(s,-t,o)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),a(e,Z2(s,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,r){return J2(this,e,t,r)}inXRange(e,t){return J2(this,e,null,t)}inYRange(e,t){return J2(this,null,e,t)}getCenterPoint(e){const{x:t,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+i)/2:t,y:s?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Pe(X0,"id","bar"),Pe(X0,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Pe(X0,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Ck=(n,e)=>{let{boxHeight:t=e,boxWidth:r=e}=n;return n.usePointStyle&&(t=Math.min(t,e),r=n.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}},WY=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class Nk extends nl{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Tn(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=li(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Ck(r,s);let c,u;t.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,s,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let h=e;s.textAlign="left",s.textBaseline="middle";let d=-1,f=-u;return this.legendItems.forEach((g,w)=>{const x=r+t/2+s.measureText(g.text).width;(w===0||c[c.length-1]+x+2*a>o)&&(h+=u,c[c.length-(w>0?0:1)]=0,f+=u,d++),l[w]={left:0,top:f,row:d,width:x,height:i},c[c.length-1]+=x+a}),h}_fitCols(e,t,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let h=a,d=0,f=0,g=0,w=0;return this.legendItems.forEach((x,_)=>{const{itemWidth:b,itemHeight:E}=HY(r,t,s,x,i);_>0&&f+E+2*a>u&&(h+=d+a,c.push({width:d,height:f}),g+=d+a,w++,d=f=0),l[_]={left:g,top:f,col:w,width:b,height:E},d=Math.max(d,b),f+=E+a}),h+=d,c.push({width:d,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:i},rtl:s}}=this,o=wd(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=ni(r,this.left+i,this.right-this.lineWidths[a]);for(const c of t)a!==c.row&&(a=c.row,l=ni(r,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=ni(r,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of t)c.col!==a&&(a=c.col,l=ni(r,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;kx(e,this),this._draw(),Ax(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:i}=this,{align:s,labels:o}=e,a=rr.color,l=wd(e.rtl,this.left,this.width),c=li(o.font),{padding:u}=o,h=c.size,d=h/2;let f;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:g,boxHeight:w,itemHeight:x}=Ck(o,h),_=function(V,C,y){if(isNaN(g)||g<=0||isNaN(w)||w<0)return;i.save();const S=It(y.lineWidth,1);if(i.fillStyle=It(y.fillStyle,a),i.lineCap=It(y.lineCap,"butt"),i.lineDashOffset=It(y.lineDashOffset,0),i.lineJoin=It(y.lineJoin,"miter"),i.lineWidth=S,i.strokeStyle=It(y.strokeStyle,a),i.setLineDash(It(y.lineDash,[])),o.usePointStyle){const I={radius:w*Math.SQRT2/2,pointStyle:y.pointStyle,rotation:y.rotation,borderWidth:S},k=l.xPlus(V,g/2),P=C+d;g6(i,I,k,P,o.pointStyleWidth&&g)}else{const I=C+Math.max((h-w)/2,0),k=l.leftForLtr(V,g),P=_d(y.borderRadius);i.beginPath(),Object.values(P).some(L=>L!==0)?nv(i,{x:k,y:I,w:g,h:w,radius:P}):i.rect(k,I,g,w),i.fill(),S!==0&&i.stroke()}i.restore()},b=function(V,C,y){Sm(i,y.text,V,C+x/2,c,{strikethrough:y.hidden,textAlign:l.textAlign(y.textAlign)})},E=this.isHorizontal(),R=this._computeTitleHeight();E?f={x:ni(s,this.left+u,this.right-r[0]),y:this.top+u+R,line:0}:f={x:this.left+u,y:ni(s,this.top+R+u,this.bottom-t[0].height),line:0},S6(this.ctx,e.textDirection);const O=x+u;this.legendItems.forEach((V,C)=>{i.strokeStyle=V.fontColor,i.fillStyle=V.fontColor;const y=i.measureText(V.text).width,S=l.textAlign(V.textAlign||(V.textAlign=o.textAlign)),I=g+d+y;let k=f.x,P=f.y;l.setWidth(this.width),E?C>0&&k+I+u>this.right&&(P=f.y+=O,f.line++,k=f.x=ni(s,this.left+u,this.right-r[f.line])):C>0&&P+O>this.bottom&&(k=f.x=k+t[f.line].width+u,f.line++,P=f.y=ni(s,this.top+R+u,this.bottom-t[f.line].height));const L=l.x(k);if(_(L,P,V),k=FH(S,k+g+d,E?k+I:this.right,e.rtl),b(l.x(k),P,V),E)f.x+=I+u;else if(typeof V.text!="string"){const $=c.lineHeight;f.y+=U6(V,$)+u}else f.y+=O}),E6(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=li(t.font),i=Is(t.padding);if(!t.display)return;const s=wd(e.rtl,this.left,this.width),o=this.ctx,a=t.position,l=r.size/2,c=i.top+l;let u,h=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),u=this.top+c,h=ni(e.align,h,this.right-d);else{const g=this.columnSizes.reduce((w,x)=>Math.max(w,x.height),0);u=c+ni(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const f=ni(a,h,h+d);o.textAlign=s.textAlign(xx(a)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=r.string,Sm(o,t.text,f,u,r)}_computeTitleHeight(){const e=this.options.title,t=li(e.font),r=Is(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,i,s;if(nc(e,this.left,this.right)&&nc(t,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],nc(e,i.left,i.left+i.width)&&nc(t,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const t=this.options;if(!YY(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=WY(i,r);i&&!s&&Tn(t.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&Tn(t.onHover,[e,r,this],this)}else r&&Tn(t.onClick,[e,r,this],this)}}function HY(n,e,t,r,i){const s=qY(r,n,e,t),o=$Y(i,r,e.lineHeight);return{itemWidth:s,itemHeight:o}}function qY(n,e,t,r){let i=n.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),e+t.size/2+r.measureText(i).width}function $Y(n,e,t){let r=n;return typeof e.text!="string"&&(r=U6(e,t)),r}function U6(n,e){const t=n.text?n.text.length:0;return e*t}function YY(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var GY={id:"legend",_element:Nk,start(n,e,t){const r=n.legend=new Nk({ctx:n.ctx,options:t,chart:n});As.configure(n,r,t),As.addBox(n,r)},stop(n){As.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const r=n.legend;As.configure(n,r,t),r.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const r=e.datasetIndex,i=t.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=n.legend.options;return n._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(t?0:void 0),u=Is(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class z6 extends nl{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const i=_r(r.text)?r.text.length:1;this._padding=Is(r.padding);const s=i*li(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:r,bottom:i,right:s,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=ni(a,r,s),h=t+e,c=s-r):(o.position==="left"?(u=r+e,h=ni(a,i,t),l=ln*-.5):(u=s-e,h=ni(a,t,i),l=ln*.5),c=i-t),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const r=li(t.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);Sm(e,t.text,0,0,r,{color:t.color,maxWidth:l,rotation:c,textAlign:xx(t.align),textBaseline:"middle",translation:[o,a]})}}function KY(n,e){const t=new z6({ctx:n.ctx,options:e,chart:n});As.configure(n,t,e),As.addBox(n,t),n.titleBlock=t}var QY={id:"title",_element:z6,start(n,e,t){KY(n,t)},stop(n){const e=n.titleBlock;As.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const r=n.titleBlock;As.configure(n,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const lp={average(n){if(!n.length)return!1;let e,t,r=new Set,i=0,s=0;for(e=0,t=n.length;e<t;++e){const a=n[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),i+=l.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:i/s}},nearest(n,e){if(!n.length)return!1;let t=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=n.length;s<o;++s){const l=n[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=Gw(e,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();t=l.x,r=l.y}return{x:t,y:r}}};function Po(n,e){return e&&(_r(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Aa(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function XY(n,e){const{element:t,datasetIndex:r,index:i}=e,s=n.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:n,label:o,parsed:s.getParsed(i),raw:n.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:t}}function Ik(n,e){const t=n.chart.ctx,{body:r,footer:i,title:s}=n,{boxWidth:o,boxHeight:a}=e,l=li(e.bodyFont),c=li(e.titleFont),u=li(e.footerFont),h=s.length,d=i.length,f=r.length,g=Is(e.padding);let w=g.height,x=0,_=r.reduce((R,O)=>R+O.before.length+O.lines.length+O.after.length,0);if(_+=n.beforeBody.length+n.afterBody.length,h&&(w+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),_){const R=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;w+=f*R+(_-f)*l.lineHeight+(_-1)*e.bodySpacing}d&&(w+=e.footerMarginTop+d*u.lineHeight+(d-1)*e.footerSpacing);let b=0;const E=function(R){x=Math.max(x,t.measureText(R).width+b)};return t.save(),t.font=c.string,an(n.title,E),t.font=l.string,an(n.beforeBody.concat(n.afterBody),E),b=e.displayColors?o+2+e.boxPadding:0,an(r,R=>{an(R.before,E),an(R.lines,E),an(R.after,E)}),b=0,t.font=u.string,an(n.footer,E),t.restore(),x+=g.width,{width:x,height:w}}function JY(n,e){const{y:t,height:r}=e;return t<r/2?"top":t>n.height-r/2?"bottom":"center"}function ZY(n,e,t,r){const{x:i,width:s}=r,o=t.caretSize+t.caretPadding;if(n==="left"&&i+s+o>e.width||n==="right"&&i-s-o<0)return!0}function eG(n,e,t,r){const{x:i,width:s}=t,{width:o,chartArea:{left:a,right:l}}=n;let c="center";return r==="center"?c=i<=(a+l)/2?"left":"right":i<=s/2?c="left":i>=o-s/2&&(c="right"),ZY(c,n,e,t)&&(c="center"),c}function Dk(n,e,t){const r=t.yAlign||e.yAlign||JY(n,t);return{xAlign:t.xAlign||e.xAlign||eG(n,e,t,r),yAlign:r}}function tG(n,e){let{x:t,width:r}=n;return e==="right"?t-=r:e==="center"&&(t-=r/2),t}function nG(n,e,t){let{y:r,height:i}=n;return e==="top"?r+=t:e==="bottom"?r-=i+t:r-=i/2,r}function Rk(n,e,t,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=n,{xAlign:a,yAlign:l}=t,c=i+s,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=_d(o);let g=tG(e,a);const w=nG(e,l,c);return l==="center"?a==="left"?g+=c:a==="right"&&(g-=c):a==="left"?g-=Math.max(u,d)+i:a==="right"&&(g+=Math.max(h,f)+i),{x:ai(g,0,r.width-e.width),y:ai(w,0,r.height-e.height)}}function f0(n,e,t){const r=Is(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-r.right:n.x+r.left}function Lk(n){return Po([],Aa(n))}function rG(n,e,t){return hh(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Mk(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const W6={beforeTitle:Ea,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:Ea,beforeBody:Ea,beforeLabel:Ea,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return en(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Ea,afterBody:Ea,beforeFooter:Ea,footer:Ea,afterFooter:Ea};function Li(n,e,t,r){const i=n[e].call(t,r);return typeof i>"u"?W6[e].call(t,r):i}class t5 extends nl{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&t.options.animation&&r.animations,s=new A6(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=rG(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:r}=t,i=Li(r,"beforeTitle",this,e),s=Li(r,"title",this,e),o=Li(r,"afterTitle",this,e);let a=[];return a=Po(a,Aa(i)),a=Po(a,Aa(s)),a=Po(a,Aa(o)),a}getBeforeBody(e,t){return Lk(Li(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:r}=t,i=[];return an(e,s=>{const o={before:[],lines:[],after:[]},a=Mk(r,s);Po(o.before,Aa(Li(a,"beforeLabel",this,s))),Po(o.lines,Li(a,"label",this,s)),Po(o.after,Aa(Li(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(e,t){return Lk(Li(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:r}=t,i=Li(r,"beforeFooter",this,e),s=Li(r,"footer",this,e),o=Li(r,"afterFooter",this,e);let a=[];return a=Po(a,Aa(i)),a=Po(a,Aa(s)),a=Po(a,Aa(o)),a}_createItems(e){const t=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],l,c;for(l=0,c=t.length;l<c;++l)a.push(XY(this.chart,t[l]));return e.filter&&(a=a.filter((u,h,d)=>e.filter(u,h,d,r))),e.itemSort&&(a=a.sort((u,h)=>e.itemSort(u,h,r))),an(a,u=>{const h=Mk(e.callbacks,u);i.push(Li(h,"labelColor",this,u)),s.push(Li(h,"labelPointStyle",this,u)),o.push(Li(h,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,t){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=lp[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=Ik(this,r),c=Object.assign({},a,l),u=Dk(this.chart,r,c),h=Rk(r,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,i){const s=this.getCaretPosition(e,r,i);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=_d(a),{x:d,y:f}=e,{width:g,height:w}=t;let x,_,b,E,R,O;return s==="center"?(R=f+w/2,i==="left"?(x=d,_=x-o,E=R+o,O=R-o):(x=d+g,_=x+o,E=R-o,O=R+o),b=x):(i==="left"?_=d+Math.max(l,u)+o:i==="right"?_=d+g-Math.max(c,h)-o:_=this.caretX,s==="top"?(E=f,R=E-o,x=_-o,b=_+o):(E=f+w,R=E+o,x=_+o,b=_-o),O=E),{x1:x,x2:_,x3:b,y1:E,y2:R,y3:O}}drawTitle(e,t,r){const i=this.title,s=i.length;let o,a,l;if(s){const c=wd(r.rtl,this.x,this.width);for(e.x=f0(this,r.titleAlign,r),t.textAlign=c.textAlign(r.titleAlign),t.textBaseline="middle",o=li(r.titleFont),a=r.titleSpacing,t.fillStyle=r.titleColor,t.font=o.string,l=0;l<s;++l)t.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,t,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=s,u=li(s.bodyFont),h=f0(this,"left",s),d=i.x(h),f=l<u.lineHeight?(u.lineHeight-l)/2:0,g=t.y+f;if(s.usePointStyle){const w={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},x=i.leftForLtr(d,c)+c/2,_=g+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,Qw(e,w,x,_),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Qw(e,w,x,_)}else{e.lineWidth=qt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const w=i.leftForLtr(d,c),x=i.leftForLtr(i.xPlus(d,1),c-2),_=_d(o.borderRadius);Object.values(_).some(b=>b!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,nv(e,{x:w,y:g,w:c,h:l,radius:_}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),nv(e,{x,y:g+1,w:c-2,h:l-2,radius:_}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(w,g,c,l),e.strokeRect(w,g,c,l),e.fillStyle=o.backgroundColor,e.fillRect(x,g+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=r,h=li(r.bodyFont);let d=h.lineHeight,f=0;const g=wd(r.rtl,this.x,this.width),w=function(y){t.fillText(y,g.x(e.x+f),e.y+d/2),e.y+=d+s},x=g.textAlign(o);let _,b,E,R,O,V,C;for(t.textAlign=o,t.textBaseline="middle",t.font=h.string,e.x=f0(this,x,r),t.fillStyle=r.bodyColor,an(this.beforeBody,w),f=a&&x!=="right"?o==="center"?c/2+u:c+2+u:0,R=0,V=i.length;R<V;++R){for(_=i[R],b=this.labelTextColors[R],t.fillStyle=b,an(_.before,w),E=_.lines,a&&E.length&&(this._drawColorBox(t,e,R,g,r),d=Math.max(h.lineHeight,l)),O=0,C=E.length;O<C;++O)w(E[O]),d=h.lineHeight;an(_.after,w)}f=0,d=h.lineHeight,an(this.afterBody,w),e.y-=s}drawFooter(e,t,r){const i=this.footer,s=i.length;let o,a;if(s){const l=wd(r.rtl,this.x,this.width);for(e.x=f0(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=l.textAlign(r.footerAlign),t.textBaseline="middle",o=li(r.footerFont),t.fillStyle=r.footerColor,t.font=o.string,a=0;a<s;++a)t.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,t,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=r,{topLeft:h,topRight:d,bottomLeft:f,bottomRight:g}=_d(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(a+h,l),o==="top"&&this.drawCaret(e,t,r,i),t.lineTo(a+c-d,l),t.quadraticCurveTo(a+c,l,a+c,l+d),o==="center"&&s==="right"&&this.drawCaret(e,t,r,i),t.lineTo(a+c,l+u-g),t.quadraticCurveTo(a+c,l+u,a+c-g,l+u),o==="bottom"&&this.drawCaret(e,t,r,i),t.lineTo(a+f,l+u),t.quadraticCurveTo(a,l+u,a,l+u-f),o==="center"&&s==="left"&&this.drawCaret(e,t,r,i),t.lineTo(a,l+h),t.quadraticCurveTo(a,l,a+h,l),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=lp[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Ik(this,e),l=Object.assign({},o,this._size),c=Dk(t,e,l),u=Rk(e,l,c,t);(i._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=Is(t.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,t),S6(e,t.textDirection),s.y+=o.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),E6(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const r=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!Z1(r,i),o=this._positionChanged(i,t);(s||o)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,r=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(e,s,t,r),a=this._positionChanged(o,e),l=t||!Z1(o,s)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),l}_getActiveElements(e,t,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return t.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:r,caretY:i,options:s}=this,o=lp[s.position].call(this,e,t);return o!==!1&&(r!==o.x||i!==o.y)}}Pe(t5,"positioners",lp);var iG={id:"tooltip",_element:t5,positioners:lp,afterInit(n,e,t){t&&(n.tooltip=new t5({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:W6},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const sG=(n,e,t,r)=>(typeof e=="string"?(t=n.push(e)-1,r.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function oG(n,e,t,r){const i=n.indexOf(e);if(i===-1)return sG(n,e,t,r);const s=n.lastIndexOf(e);return i!==s?t:i}const aG=(n,e)=>n===null?null:ai(Math.round(n),0,e);function Ok(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class n5 extends lf{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const r=this.getLabels();for(const{index:i,label:s}of t)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(en(e))return null;const r=this.getLabels();return t=isFinite(t)&&r[t]===e?t:oG(r,e,It(t,e),this._addedLabels),aG(t,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),t||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,t=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=t;o++)i.push({value:o});return i}getLabelForValue(e){return Ok.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Pe(n5,"id","category"),Pe(n5,"defaults",{ticks:{callback:Ok}});function lG(n,e){const t=[],{bounds:i,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:d}=n,f=s||1,g=u-1,{min:w,max:x}=e,_=!en(o),b=!en(a),E=!en(c),R=(x-w)/(h+1);let O=j3((x-w)/g/f)*f,V,C,y,S;if(O<1e-14&&!_&&!b)return[{value:w},{value:x}];S=Math.ceil(x/O)-Math.floor(w/O),S>g&&(O=j3(S*O/g/f)*f),en(l)||(V=Math.pow(10,l),O=Math.ceil(O*V)/V),i==="ticks"?(C=Math.floor(w/O)*O,y=Math.ceil(x/O)*O):(C=w,y=x),_&&b&&s&&TH((a-o)/s,O/1e3)?(S=Math.round(Math.min((a-o)/O,u)),O=(a-o)/S,C=o,y=a):E?(C=_?o:C,y=b?a:y,S=c-1,O=(y-C)/S):(S=(y-C)/O,Rp(S,Math.round(S),O/1e3)?S=Math.round(S):S=Math.ceil(S));const I=Math.max(V3(O),V3(C));V=Math.pow(10,en(l)?I:l),C=Math.round(C*V)/V,y=Math.round(y*V)/V;let k=0;for(_&&(d&&C!==o?(t.push({value:o}),C<o&&k++,Rp(Math.round((C+k*O)*V)/V,o,Fk(o,R,n))&&k++):C<o&&k++);k<S;++k){const P=Math.round((C+k*O)*V)/V;if(b&&P>a)break;t.push({value:P})}return b&&d&&y!==a?t.length&&Rp(t[t.length-1].value,a,Fk(a,R,n))?t[t.length-1].value=a:t.push({value:a}):(!b||y===a)&&t.push({value:y}),t}function Fk(n,e,{horizontal:t,minRotation:r}){const i=Ma(r),s=(t?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+n).length;return Math.min(e/s,o)}class cG extends lf{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return en(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=l=>i=t?i:l,a=l=>s=r?s:l;if(e){const l=$o(i),c=$o(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},s=this._range||this,o=lG(i,s);return e.bounds==="ticks"&&CH(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-t)/Math.max(e.length-1,1)/2;t-=i,r+=i}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return Ex(e,this.chart.options.locale,this.options.ticks.format)}}class r5 extends cG{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Ns(e)?e:0,this.max=Ns(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,r=Ma(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Pe(r5,"id","linear"),Pe(r5,"defaults",{ticks:{callback:m6.formatters.numeric}});const yy={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Fi=Object.keys(yy);function jk(n,e){return n-e}function Vk(n,e){if(en(e))return null;const t=n._adapter,{parser:r,round:i,isoWeekday:s}=n._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),Ns(o)||(o=typeof r=="string"?t.parse(o,r):t.parse(o)),o===null?null:(i&&(o=i==="week"&&(wm(s)||s===!0)?t.startOf(o,"isoWeek",s):t.startOf(o,i)),+o)}function Bk(n,e,t,r){const i=Fi.length;for(let s=Fi.indexOf(n);s<i-1;++s){const o=yy[Fi[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(a*o.size))<=r)return Fi[s]}return Fi[i-1]}function uG(n,e,t,r,i){for(let s=Fi.length-1;s>=Fi.indexOf(t);s--){const o=Fi[s];if(yy[o].common&&n._adapter.diff(i,r,o)>=e-1)return o}return Fi[t?Fi.indexOf(t):0]}function hG(n){for(let e=Fi.indexOf(n)+1,t=Fi.length;e<t;++e)if(yy[Fi[e]].common)return Fi[e]}function Uk(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:r,hi:i}=bx(t,e),s=t[r]>=e?t[r]:t[i];n[s]=!0}}function dG(n,e,t,r){const i=n._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,r))l=t[a],l>=0&&(e[l].major=!0);return e}function zk(n,e,t){const r=[],i={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,r.push({value:a,major:!1});return s===0||!t?r:dG(n,r,i,t)}class ov extends lf{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const r=e.time||(e.time={}),i=this._adapter=new p$._date(e.adapters.date);i.init(t),Dp(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:Vk(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Ns(i)&&!isNaN(i)?i:+t.startOf(Date.now(),r),s=Ns(s)&&!isNaN(s)?s:+t.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){const e=this.options,t=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=LH(i,s,o);return this._unit=t.unit||(r.autoSkip?Bk(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):uG(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:hG(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),zk(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;t=ai(t,0,o),r=ai(r,0,o),this._offsets={start:t,end:r,factor:1/(t+1+r)}}_generate(){const e=this._adapter,t=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||Bk(s.minUnit,t,r,this._getLabelCapacity(t)),a=It(i.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=wm(l)||l===!0,u={};let h=t,d,f;if(c&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,c?"day":o),e.diff(r,t,o)>1e5*a)throw new Error(t+" and "+r+" are too far apart with stepSize of "+a+" "+o);const g=i.ticks.source==="data"&&this.getDataTimestamps();for(d=h,f=0;d<r;d=+e.add(d,a,o),f++)Uk(u,d,g);return(d===r||i.bounds==="ticks"||f===1)&&Uk(u,d,g),Object.keys(u).sort(jk).map(w=>+w)}getLabelForValue(e){const t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){const i=this.options.time.displayFormats,s=this._unit,o=t||i[s];return this._adapter.format(e,o)}_tickFormatFunction(e,t,r,i){const s=this.options,o=s.ticks.callback;if(o)return Tn(o,[e,t,r],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],d=r[t],f=c&&h&&d&&d.major;return this._adapter.format(e,i||(f?h:u))}generateTickLabels(e){let t,r,i;for(t=0,r=e.length;t<r;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,r=this.ctx.measureText(e).width,i=Ma(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(e){const t=this.options.time,r=t.displayFormats,i=r[t.unit]||r.millisecond,s=this._tickFormatFunction(e,0,zk(this,[e],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],t,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,r=i.length;t<r;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,r;if(e.length)return e;const i=this.getLabels();for(t=0,r=i.length;t<r;++t)e.push(Vk(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return d6(e.sort(jk))}}Pe(ov,"id","time"),Pe(ov,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function p0(n,e,t){let r=0,i=n.length-1,s,o,a,l;t?(e>=n[r].pos&&e<=n[i].pos&&({lo:r,hi:i}=ku(n,"pos",e)),{pos:s,time:a}=n[r],{pos:o,time:l}=n[i]):(e>=n[r].time&&e<=n[i].time&&({lo:r,hi:i}=ku(n,"time",e)),{time:s,pos:a}=n[r],{time:o,pos:l}=n[i]);const c=o-s;return c?a+(l-a)*(e-s)/c:a}class Wk extends ov{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=p0(t,this.min),this._tableRange=p0(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,i=[],s=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=t&&c<=r&&i.push(c);if(i.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const e=this.min,t=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(t)||r.length===1)&&r.push(t),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?e=this.normalize(t.concat(r)):e=t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(p0(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return p0(this._table,r*this._tableRange+this._minPos,!0)}}Pe(Wk,"id","timeseries"),Pe(Wk,"defaults",ov.defaults);const H6="label";function Hk(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function fG(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function q6(n,e){n.labels=e}function $6(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:H6;const r=[];n.datasets=e.map(i=>{const s=n.datasets.find(o=>o[t]===i[t]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function pG(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:H6;const t={labels:[],datasets:[]};return q6(t,n.labels),$6(t,n.datasets,e),t}function mG(n,e){const{height:t=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:h,...d}=n,f=ee.useRef(null),g=ee.useRef(null),w=()=>{f.current&&(g.current=new vy(f.current,{type:o,data:pG(a,s),options:l&&{...l},plugins:c}),Hk(e,g.current))},x=()=>{Hk(e,null),g.current&&(g.current.destroy(),g.current=null)};return ee.useEffect(()=>{!i&&g.current&&l&&fG(g.current,l)},[i,l]),ee.useEffect(()=>{!i&&g.current&&q6(g.current.config.data,a.labels)},[i,a.labels]),ee.useEffect(()=>{!i&&g.current&&a.datasets&&$6(g.current.config.data,a.datasets,s)},[i,a.datasets]),ee.useEffect(()=>{g.current&&(i?(x(),setTimeout(w)):g.current.update(h))},[i,l,a.labels,a.datasets,h]),ee.useEffect(()=>{g.current&&(x(),setTimeout(w))},[o]),ee.useEffect(()=>(w(),()=>x()),[]),Ae.createElement("canvas",{ref:f,role:"img",height:t,width:r,...d},u)}const gG=ee.forwardRef(mG);function Lx(n,e){return vy.register(e),ee.forwardRef((t,r)=>Ae.createElement(gG,{...t,ref:r,type:n}))}const vG=Lx("line",Y0),yG=Lx("bar",$0),_G=Lx("pie",Xw);function Y6(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=Y6(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Vr(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=Y6(n))&&(r&&(r+=" "),r+=e);return r}const G6=6048e5,wG=864e5,_y=6e4,wy=36e5,bG=1e3,qk=Symbol.for("constructDateFrom");function hn(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&qk in n?n[qk](e):n instanceof Date?new n.constructor(e):new Date(e)}function lt(n,e){return hn(e||n,n)}function to(n,e,t){const r=lt(n,t==null?void 0:t.in);return isNaN(e)?hn((t==null?void 0:t.in)||n,NaN):(e&&r.setDate(r.getDate()+e),r)}function oo(n,e,t){const r=lt(n,t==null?void 0:t.in);if(isNaN(e))return hn(n,NaN);if(!e)return r;const i=r.getDate(),s=hn(n,r.getTime());s.setMonth(r.getMonth()+e+1,0);const o=s.getDate();return i>=o?s:(r.setFullYear(s.getFullYear(),s.getMonth(),i),r)}function K6(n,e,t){return hn(n,+lt(n)+e)}function xG(n,e,t){return K6(n,e*wy)}let SG={};function dh(){return SG}function Ja(n,e){var a,l,c,u;const t=dh(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??t.weekStartsOn??((u=(c=t.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=lt(n,e==null?void 0:e.in),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Vd(n,e){return Ja(n,{...e,weekStartsOn:1})}function Q6(n,e){const t=lt(n,e==null?void 0:e.in),r=t.getFullYear(),i=hn(t,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=Vd(i),o=hn(t,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=Vd(o);return t.getTime()>=s.getTime()?r+1:t.getTime()>=a.getTime()?r:r-1}function av(n){const e=lt(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function rl(n,...e){const t=hn.bind(null,e.find(r=>typeof r=="object"));return e.map(t)}function Yo(n,e){const t=lt(n,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function Bd(n,e,t){const[r,i]=rl(t==null?void 0:t.in,n,e),s=Yo(r),o=Yo(i),a=+s-av(s),l=+o-av(o);return Math.round((a-l)/wG)}function EG(n,e){const t=Q6(n,e),r=hn(n,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Vd(r)}function i5(n,e,t){const r=lt(n,t==null?void 0:t.in);return r.setTime(r.getTime()+e*_y),r}function Mx(n,e,t){return oo(n,e*3,t)}function kG(n,e,t){return K6(n,e*1e3)}function lv(n,e,t){return to(n,e*7,t)}function ja(n,e,t){return oo(n,e*12,t)}function $k(n,e){let t,r=e==null?void 0:e.in;return n.forEach(i=>{!r&&typeof i=="object"&&(r=hn.bind(null,i));const s=lt(i,r);(!t||t<s||isNaN(+s))&&(t=s)}),hn(r,t||NaN)}function Yk(n,e){let t,r=e==null?void 0:e.in;return n.forEach(i=>{!r&&typeof i=="object"&&(r=hn.bind(null,i));const s=lt(i,r);(!t||t>s||isNaN(+s))&&(t=s)}),hn(r,t||NaN)}function AG(n,e,t){const[r,i]=rl(t==null?void 0:t.in,n,e);return+Yo(r)==+Yo(i)}function Va(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function cv(n){return!(!Va(n)&&typeof n!="number"||isNaN(+lt(n)))}function uv(n,e,t){const[r,i]=rl(t==null?void 0:t.in,n,e),s=r.getFullYear()-i.getFullYear(),o=r.getMonth()-i.getMonth();return s*12+o}function Vu(n,e){const t=lt(n,e==null?void 0:e.in);return Math.trunc(t.getMonth()/3)+1}function hv(n,e,t){const[r,i]=rl(t==null?void 0:t.in,n,e),s=r.getFullYear()-i.getFullYear(),o=Vu(r)-Vu(i);return s*4+o}function dv(n,e,t){const[r,i]=rl(t==null?void 0:t.in,n,e);return r.getFullYear()-i.getFullYear()}function PG(n,e,t){const[r,i]=rl(t==null?void 0:t.in,n,e),s=Gk(r,i),o=Math.abs(Bd(r,i));r.setDate(r.getDate()-s*o);const a=+(Gk(r,i)===-s),l=s*(o-a);return l===0?0:l}function Gk(n,e){const t=n.getFullYear()-e.getFullYear()||n.getMonth()-e.getMonth()||n.getDate()-e.getDate()||n.getHours()-e.getHours()||n.getMinutes()-e.getMinutes()||n.getSeconds()-e.getSeconds()||n.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function Op(n,e){const t=lt(n,e==null?void 0:e.in);return t.setHours(23,59,59,999),t}function fv(n,e){const t=lt(n,e==null?void 0:e.in),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function s5(n,e){const t=lt(n,e==null?void 0:e.in),r=t.getMonth(),i=r-r%3;return t.setMonth(i,1),t.setHours(0,0,0,0),t}function pv(n,e){const t=lt(n,e==null?void 0:e.in);return t.setDate(1),t.setHours(0,0,0,0),t}function X6(n,e){const t=lt(n,e==null?void 0:e.in),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function by(n,e){const t=lt(n,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function TG(n,e){var a,l;const t=dh(),r=t.weekStartsOn??((l=(a=t.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??0,i=lt(n,e==null?void 0:e.in),s=i.getDay(),o=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}const CG={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},NG=(n,e,t)=>{let r;const i=CG[n];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function e_(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const IG={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},DG={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},RG={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},LG={date:e_({formats:IG,defaultWidth:"full"}),time:e_({formats:DG,defaultWidth:"full"}),dateTime:e_({formats:RG,defaultWidth:"full"})},MG={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},OG=(n,e,t,r)=>MG[n];function Hf(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let i;if(r==="formatting"&&n.formattingValues){const o=n.defaultFormattingWidth||n.defaultWidth,a=t!=null&&t.width?String(t.width):o;i=n.formattingValues[a]||n.formattingValues[o]}else{const o=n.defaultWidth,a=t!=null&&t.width?String(t.width):n.defaultWidth;i=n.values[a]||n.values[o]}const s=n.argumentCallback?n.argumentCallback(e):e;return i[s]}}const FG={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},jG={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},VG={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},BG={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},UG={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},zG={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},WG=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},HG={ordinalNumber:WG,era:Hf({values:FG,defaultWidth:"wide"}),quarter:Hf({values:jG,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Hf({values:VG,defaultWidth:"wide"}),day:Hf({values:BG,defaultWidth:"wide"}),dayPeriod:Hf({values:UG,defaultWidth:"wide",formattingValues:zG,defaultFormattingWidth:"wide"})};function qf(n){return(e,t={})=>{const r=t.width,i=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],l=Array.isArray(a)?$G(a,h=>h.test(o)):qG(a,h=>h.test(o));let c;c=n.valueCallback?n.valueCallback(l):l,c=t.valueCallback?t.valueCallback(c):c;const u=e.slice(o.length);return{value:c,rest:u}}}function qG(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function $G(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function YG(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const i=r[0],s=e.match(n.parsePattern);if(!s)return null;let o=n.valueCallback?n.valueCallback(s[0]):s[0];o=t.valueCallback?t.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const GG=/^(\d+)(th|st|nd|rd)?/i,KG=/\d+/i,QG={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},XG={any:[/^b/i,/^(a|c)/i]},JG={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ZG={any:[/1/i,/2/i,/3/i,/4/i]},eK={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},tK={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},nK={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},rK={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},iK={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},sK={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},oK={ordinalNumber:YG({matchPattern:GG,parsePattern:KG,valueCallback:n=>parseInt(n,10)}),era:qf({matchPatterns:QG,defaultMatchWidth:"wide",parsePatterns:XG,defaultParseWidth:"any"}),quarter:qf({matchPatterns:JG,defaultMatchWidth:"wide",parsePatterns:ZG,defaultParseWidth:"any",valueCallback:n=>n+1}),month:qf({matchPatterns:eK,defaultMatchWidth:"wide",parsePatterns:tK,defaultParseWidth:"any"}),day:qf({matchPatterns:nK,defaultMatchWidth:"wide",parsePatterns:rK,defaultParseWidth:"any"}),dayPeriod:qf({matchPatterns:iK,defaultMatchWidth:"any",parsePatterns:sK,defaultParseWidth:"any"})},J6={code:"en-US",formatDistance:NG,formatLong:LG,formatRelative:OG,localize:HG,match:oK,options:{weekStartsOn:0,firstWeekContainsDate:1}};function aK(n,e){const t=lt(n,e==null?void 0:e.in);return Bd(t,by(t))+1}function Ox(n,e){const t=lt(n,e==null?void 0:e.in),r=+Vd(t)-+EG(t);return Math.round(r/G6)+1}function Fx(n,e){var u,h,d,f;const t=lt(n,e==null?void 0:e.in),r=t.getFullYear(),i=dh(),s=(e==null?void 0:e.firstWeekContainsDate)??((h=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((f=(d=i.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=hn((e==null?void 0:e.in)||n,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=Ja(o,e),l=hn((e==null?void 0:e.in)||n,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=Ja(l,e);return+t>=+a?r+1:+t>=+c?r:r-1}function lK(n,e){var a,l,c,u;const t=dh(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??t.firstWeekContainsDate??((u=(c=t.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,i=Fx(n,e),s=hn((e==null?void 0:e.in)||n,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Ja(s,e)}function Z6(n,e){const t=lt(n,e==null?void 0:e.in),r=+Ja(t,e)-+lK(t,e);return Math.round(r/G6)+1}function on(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const Fl={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return on(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):on(t+1,2)},d(n,e){return on(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return on(n.getHours()%12||12,e.length)},H(n,e){return on(n.getHours(),e.length)},m(n,e){return on(n.getMinutes(),e.length)},s(n,e){return on(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),i=Math.trunc(r*Math.pow(10,t-3));return on(i,e.length)}},zh={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Kk={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return Fl.y(n,e)},Y:function(n,e,t,r){const i=Fx(n,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return on(o,2)}return e==="Yo"?t.ordinalNumber(s,{unit:"year"}):on(s,e.length)},R:function(n,e){const t=Q6(n);return on(t,e.length)},u:function(n,e){const t=n.getFullYear();return on(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return on(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return on(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return Fl.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return on(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const i=Z6(n,r);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):on(i,e.length)},I:function(n,e,t){const r=Ox(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):on(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):Fl.d(n,e)},D:function(n,e,t){const r=aK(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):on(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const i=n.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return on(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const i=n.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return on(s,e.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return on(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const i=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let i;switch(r===12?i=zh.noon:r===0?i=zh.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let i;switch(r>=17?i=zh.evening:r>=12?i=zh.afternoon:r>=4?i=zh.morning:i=zh.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return Fl.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):Fl.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):on(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):on(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):Fl.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):Fl.s(n,e)},S:function(n,e){return Fl.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Xk(r);case"XXXX":case"XX":return yu(r);case"XXXXX":case"XXX":default:return yu(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return Xk(r);case"xxxx":case"xx":return yu(r);case"xxxxx":case"xxx":default:return yu(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Qk(r,":");case"OOOO":default:return"GMT"+yu(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Qk(r,":");case"zzzz":default:return"GMT"+yu(r,":")}},t:function(n,e,t){const r=Math.trunc(+n/1e3);return on(r,e.length)},T:function(n,e,t){return on(+n,e.length)}};function Qk(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Math.trunc(r/60),s=r%60;return s===0?t+String(i):t+String(i)+e+on(s,2)}function Xk(n,e){return n%60===0?(n>0?"-":"+")+on(Math.abs(n)/60,2):yu(n,e)}function yu(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=on(Math.trunc(r/60),2),s=on(r%60,2);return t+i+e+s}const Jk=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},eD=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},cK=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],i=t[2];if(!i)return Jk(n,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",Jk(r,e)).replace("{{time}}",eD(i,e))},o5={p:eD,P:cK},uK=/^D+$/,hK=/^Y+$/,dK=["D","DD","YY","YYYY"];function fK(n){return uK.test(n)}function pK(n){return hK.test(n)}function mK(n,e,t){const r=gK(n,e,t);if(console.warn(r),dK.includes(n))throw new RangeError(r)}function gK(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const vK=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,yK=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,_K=/^'([^]*?)'?$/,wK=/''/g,bK=/[a-zA-Z]/;function Bu(n,e,t){var u,h,d,f,g,w,x,_;const r=dh(),i=(t==null?void 0:t.locale)??r.locale??J6,s=(t==null?void 0:t.firstWeekContainsDate)??((h=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(d=r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=(t==null?void 0:t.weekStartsOn)??((w=(g=t==null?void 0:t.locale)==null?void 0:g.options)==null?void 0:w.weekStartsOn)??r.weekStartsOn??((_=(x=r.locale)==null?void 0:x.options)==null?void 0:_.weekStartsOn)??0,a=lt(n,t==null?void 0:t.in);if(!cv(a))throw new RangeError("Invalid time value");let l=e.match(yK).map(b=>{const E=b[0];if(E==="p"||E==="P"){const R=o5[E];return R(b,i.formatLong)}return b}).join("").match(vK).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const E=b[0];if(E==="'")return{isToken:!1,value:xK(b)};if(Kk[E])return{isToken:!0,value:b};if(E.match(bK))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");return{isToken:!1,value:b}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(b=>{if(!b.isToken)return b.value;const E=b.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&pK(E)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&fK(E))&&mK(E,e,String(n));const R=Kk[E[0]];return R(a,E,i.localize,c)}).join("")}function xK(n){const e=n.match(_K);return e?e[1].replace(wK,"'"):n}function Zk(n,e){return lt(n,e==null?void 0:e.in).getDate()}function SK(n,e){return lt(n,e==null?void 0:e.in).getDay()}function EK(n,e){const t=lt(n,e==null?void 0:e.in),r=t.getFullYear(),i=t.getMonth(),s=hn(t,0);return s.setFullYear(r,i+1,0),s.setHours(0,0,0,0),s.getDate()}function kK(){return Object.assign({},dh())}function Ba(n,e){return lt(n,e==null?void 0:e.in).getHours()}function AK(n,e){const t=lt(n,e==null?void 0:e.in).getDay();return t===0?7:t}function Ua(n,e){return lt(n,e==null?void 0:e.in).getMinutes()}function oi(n,e){return lt(n,e==null?void 0:e.in).getMonth()}function wc(n){return lt(n).getSeconds()}function a5(n){return+lt(n)}function Nt(n,e){return lt(n,e==null?void 0:e.in).getFullYear()}function Za(n,e){return+lt(n)>+lt(e)}function Dc(n,e){return+lt(n)<+lt(e)}function PK(n,e){return+lt(n)==+lt(e)}function TK(n,e){const t=CK(e)?new e(0):hn(e,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),t}function CK(n){var e;return typeof n=="function"&&((e=n.prototype)==null?void 0:e.constructor)===n}const NK=10;class tD{constructor(){Pe(this,"subPriority",0)}validate(e,t){return!0}}class IK extends tD{constructor(e,t,r,i,s){super(),this.value=e,this.validateValue=t,this.setValue=r,this.priority=i,s&&(this.subPriority=s)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,r){return this.setValue(e,t,this.value,r)}}class DK extends tD{constructor(t,r){super();Pe(this,"priority",NK);Pe(this,"subPriority",-1);this.context=t||(i=>hn(r,i))}set(t,r){return r.timestampIsSet?t:hn(t,TK(t,this.context))}}class Qt{run(e,t,r,i){const s=this.parse(e,t,r,i);return s?{setter:new IK(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,t,r){return!0}}class RK extends Qt{constructor(){super(...arguments);Pe(this,"priority",140);Pe(this,"incompatibleTokens",["R","u","t","T"])}parse(t,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"});case"GGGGG":return i.era(t,{width:"narrow"});case"GGGG":default:return i.era(t,{width:"wide"})||i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"})}}set(t,r,i){return r.era=i,t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}const ir={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ro={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function sr(n,e){return n&&{value:e(n.value),rest:n.rest}}function Ln(n,e){const t=e.match(n);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function Lo(n,e){const t=e.match(n);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const r=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,s=t[3]?parseInt(t[3],10):0,o=t[5]?parseInt(t[5],10):0;return{value:r*(i*wy+s*_y+o*bG),rest:e.slice(t[0].length)}}function nD(n){return Ln(ir.anyDigitsSigned,n)}function Yn(n,e){switch(n){case 1:return Ln(ir.singleDigit,e);case 2:return Ln(ir.twoDigits,e);case 3:return Ln(ir.threeDigits,e);case 4:return Ln(ir.fourDigits,e);default:return Ln(new RegExp("^\\d{1,"+n+"}"),e)}}function mv(n,e){switch(n){case 1:return Ln(ir.singleDigitSigned,e);case 2:return Ln(ir.twoDigitsSigned,e);case 3:return Ln(ir.threeDigitsSigned,e);case 4:return Ln(ir.fourDigitsSigned,e);default:return Ln(new RegExp("^-?\\d{1,"+n+"}"),e)}}function jx(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function rD(n,e){const t=e>0,r=t?e:1-e;let i;if(r<=50)i=n||100;else{const s=r+50,o=Math.trunc(s/100)*100,a=n>=s%100;i=n+o-(a?100:0)}return t?i:1-i}function iD(n){return n%400===0||n%4===0&&n%100!==0}class LK extends Qt{constructor(){super(...arguments);Pe(this,"priority",130);Pe(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,r,i){const s=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return sr(Yn(4,t),s);case"yo":return sr(i.ordinalNumber(t,{unit:"year"}),s);default:return sr(Yn(r.length,t),s)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,i){const s=t.getFullYear();if(i.isTwoDigitYear){const a=rD(i.year,s);return t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}const o=!("era"in r)||r.era===1?i.year:1-i.year;return t.setFullYear(o,0,1),t.setHours(0,0,0,0),t}}class MK extends Qt{constructor(){super(...arguments);Pe(this,"priority",130);Pe(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,r,i){const s=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return sr(Yn(4,t),s);case"Yo":return sr(i.ordinalNumber(t,{unit:"year"}),s);default:return sr(Yn(r.length,t),s)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,i,s){const o=Fx(t,s);if(i.isTwoDigitYear){const l=rD(i.year,o);return t.setFullYear(l,0,s.firstWeekContainsDate),t.setHours(0,0,0,0),Ja(t,s)}const a=!("era"in r)||r.era===1?i.year:1-i.year;return t.setFullYear(a,0,s.firstWeekContainsDate),t.setHours(0,0,0,0),Ja(t,s)}}class OK extends Qt{constructor(){super(...arguments);Pe(this,"priority",130);Pe(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,r){return mv(r==="R"?4:r.length,t)}set(t,r,i){const s=hn(t,0);return s.setFullYear(i,0,4),s.setHours(0,0,0,0),Vd(s)}}class FK extends Qt{constructor(){super(...arguments);Pe(this,"priority",130);Pe(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,r){return mv(r==="u"?4:r.length,t)}set(t,r,i){return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}class jK extends Qt{constructor(){super(...arguments);Pe(this,"priority",120);Pe(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"Q":case"QQ":return Yn(r.length,t);case"Qo":return i.ordinalNumber(t,{unit:"quarter"});case"QQQ":return i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(t,{width:"wide",context:"formatting"})||i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=1&&r<=4}set(t,r,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class VK extends Qt{constructor(){super(...arguments);Pe(this,"priority",120);Pe(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"q":case"qq":return Yn(r.length,t);case"qo":return i.ordinalNumber(t,{unit:"quarter"});case"qqq":return i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(t,{width:"wide",context:"standalone"})||i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=1&&r<=4}set(t,r,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class BK extends Qt{constructor(){super(...arguments);Pe(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Pe(this,"priority",110)}parse(t,r,i){const s=o=>o-1;switch(r){case"M":return sr(Ln(ir.month,t),s);case"MM":return sr(Yn(2,t),s);case"Mo":return sr(i.ordinalNumber(t,{unit:"month"}),s);case"MMM":return i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(t,{width:"wide",context:"formatting"})||i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}class UK extends Qt{constructor(){super(...arguments);Pe(this,"priority",110);Pe(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,r,i){const s=o=>o-1;switch(r){case"L":return sr(Ln(ir.month,t),s);case"LL":return sr(Yn(2,t),s);case"Lo":return sr(i.ordinalNumber(t,{unit:"month"}),s);case"LLL":return i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(t,{width:"wide",context:"standalone"})||i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}function zK(n,e,t){const r=lt(n,t==null?void 0:t.in),i=Z6(r,t)-e;return r.setDate(r.getDate()-i*7),lt(r,t==null?void 0:t.in)}class WK extends Qt{constructor(){super(...arguments);Pe(this,"priority",100);Pe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,r,i){switch(r){case"w":return Ln(ir.week,t);case"wo":return i.ordinalNumber(t,{unit:"week"});default:return Yn(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,i,s){return Ja(zK(t,i,s),s)}}function HK(n,e,t){const r=lt(n,t==null?void 0:t.in),i=Ox(r,t)-e;return r.setDate(r.getDate()-i*7),r}class qK extends Qt{constructor(){super(...arguments);Pe(this,"priority",100);Pe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,r,i){switch(r){case"I":return Ln(ir.week,t);case"Io":return i.ordinalNumber(t,{unit:"week"});default:return Yn(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,i){return Vd(HK(t,i))}}const $K=[31,28,31,30,31,30,31,31,30,31,30,31],YK=[31,29,31,30,31,30,31,31,30,31,30,31];class GK extends Qt{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"subPriority",1);Pe(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"d":return Ln(ir.date,t);case"do":return i.ordinalNumber(t,{unit:"date"});default:return Yn(r.length,t)}}validate(t,r){const i=t.getFullYear(),s=iD(i),o=t.getMonth();return s?r>=1&&r<=YK[o]:r>=1&&r<=$K[o]}set(t,r,i){return t.setDate(i),t.setHours(0,0,0,0),t}}class KK extends Qt{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"subpriority",1);Pe(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,r,i){switch(r){case"D":case"DD":return Ln(ir.dayOfYear,t);case"Do":return i.ordinalNumber(t,{unit:"date"});default:return Yn(r.length,t)}}validate(t,r){const i=t.getFullYear();return iD(i)?r>=1&&r<=366:r>=1&&r<=365}set(t,r,i){return t.setMonth(0,i),t.setHours(0,0,0,0),t}}function Vx(n,e,t){var h,d,f,g;const r=dh(),i=(t==null?void 0:t.weekStartsOn)??((d=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:d.weekStartsOn)??r.weekStartsOn??((g=(f=r.locale)==null?void 0:f.options)==null?void 0:g.weekStartsOn)??0,s=lt(n,t==null?void 0:t.in),o=s.getDay(),l=(e%7+7)%7,c=7-i,u=e<0||e>6?e-(o+c)%7:(l+c)%7-(o+c)%7;return to(s,u,t)}class QK extends Qt{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,s){return t=Vx(t,i,s),t.setHours(0,0,0,0),t}}class XK extends Qt{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,r,i,s){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return sr(Yn(r.length,t),o);case"eo":return sr(i.ordinalNumber(t,{unit:"day"}),o);case"eee":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeeee":return i.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,s){return t=Vx(t,i,s),t.setHours(0,0,0,0),t}}class JK extends Qt{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,r,i,s){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return sr(Yn(r.length,t),o);case"co":return sr(i.ordinalNumber(t,{unit:"day"}),o);case"ccc":return i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"ccccc":return i.day(t,{width:"narrow",context:"standalone"});case"cccccc":return i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(t,{width:"wide",context:"standalone"})||i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,s){return t=Vx(t,i,s),t.setHours(0,0,0,0),t}}function ZK(n,e,t){const r=lt(n,t==null?void 0:t.in),i=AK(r,t),s=e-i;return to(r,s,t)}class eQ extends Qt{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,r,i){const s=o=>o===0?7:o;switch(r){case"i":case"ii":return Yn(r.length,t);case"io":return i.ordinalNumber(t,{unit:"day"});case"iii":return sr(i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),s);case"iiiii":return sr(i.day(t,{width:"narrow",context:"formatting"}),s);case"iiiiii":return sr(i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),s);case"iiii":default:return sr(i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),s)}}validate(t,r){return r>=1&&r<=7}set(t,r,i){return t=ZK(t,i),t.setHours(0,0,0,0),t}}class tQ extends Qt{constructor(){super(...arguments);Pe(this,"priority",80);Pe(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(jx(i),0,0,0),t}}class nQ extends Qt{constructor(){super(...arguments);Pe(this,"priority",80);Pe(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(jx(i),0,0,0),t}}class rQ extends Qt{constructor(){super(...arguments);Pe(this,"priority",80);Pe(this,"incompatibleTokens",["a","b","t","T"])}parse(t,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(jx(i),0,0,0),t}}class iQ extends Qt{constructor(){super(...arguments);Pe(this,"priority",70);Pe(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,r,i){switch(r){case"h":return Ln(ir.hour12h,t);case"ho":return i.ordinalNumber(t,{unit:"hour"});default:return Yn(r.length,t)}}validate(t,r){return r>=1&&r<=12}set(t,r,i){const s=t.getHours()>=12;return s&&i<12?t.setHours(i+12,0,0,0):!s&&i===12?t.setHours(0,0,0,0):t.setHours(i,0,0,0),t}}class sQ extends Qt{constructor(){super(...arguments);Pe(this,"priority",70);Pe(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,r,i){switch(r){case"H":return Ln(ir.hour23h,t);case"Ho":return i.ordinalNumber(t,{unit:"hour"});default:return Yn(r.length,t)}}validate(t,r){return r>=0&&r<=23}set(t,r,i){return t.setHours(i,0,0,0),t}}class oQ extends Qt{constructor(){super(...arguments);Pe(this,"priority",70);Pe(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,r,i){switch(r){case"K":return Ln(ir.hour11h,t);case"Ko":return i.ordinalNumber(t,{unit:"hour"});default:return Yn(r.length,t)}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.getHours()>=12&&i<12?t.setHours(i+12,0,0,0):t.setHours(i,0,0,0),t}}class aQ extends Qt{constructor(){super(...arguments);Pe(this,"priority",70);Pe(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,r,i){switch(r){case"k":return Ln(ir.hour24h,t);case"ko":return i.ordinalNumber(t,{unit:"hour"});default:return Yn(r.length,t)}}validate(t,r){return r>=1&&r<=24}set(t,r,i){const s=i<=24?i%24:i;return t.setHours(s,0,0,0),t}}class lQ extends Qt{constructor(){super(...arguments);Pe(this,"priority",60);Pe(this,"incompatibleTokens",["t","T"])}parse(t,r,i){switch(r){case"m":return Ln(ir.minute,t);case"mo":return i.ordinalNumber(t,{unit:"minute"});default:return Yn(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,i){return t.setMinutes(i,0,0),t}}class cQ extends Qt{constructor(){super(...arguments);Pe(this,"priority",50);Pe(this,"incompatibleTokens",["t","T"])}parse(t,r,i){switch(r){case"s":return Ln(ir.second,t);case"so":return i.ordinalNumber(t,{unit:"second"});default:return Yn(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,i){return t.setSeconds(i,0),t}}class uQ extends Qt{constructor(){super(...arguments);Pe(this,"priority",30);Pe(this,"incompatibleTokens",["t","T"])}parse(t,r){const i=s=>Math.trunc(s*Math.pow(10,-r.length+3));return sr(Yn(r.length,t),i)}set(t,r,i){return t.setMilliseconds(i),t}}class hQ extends Qt{constructor(){super(...arguments);Pe(this,"priority",10);Pe(this,"incompatibleTokens",["t","T","x"])}parse(t,r){switch(r){case"X":return Lo(Ro.basicOptionalMinutes,t);case"XX":return Lo(Ro.basic,t);case"XXXX":return Lo(Ro.basicOptionalSeconds,t);case"XXXXX":return Lo(Ro.extendedOptionalSeconds,t);case"XXX":default:return Lo(Ro.extended,t)}}set(t,r,i){return r.timestampIsSet?t:hn(t,t.getTime()-av(t)-i)}}class dQ extends Qt{constructor(){super(...arguments);Pe(this,"priority",10);Pe(this,"incompatibleTokens",["t","T","X"])}parse(t,r){switch(r){case"x":return Lo(Ro.basicOptionalMinutes,t);case"xx":return Lo(Ro.basic,t);case"xxxx":return Lo(Ro.basicOptionalSeconds,t);case"xxxxx":return Lo(Ro.extendedOptionalSeconds,t);case"xxx":default:return Lo(Ro.extended,t)}}set(t,r,i){return r.timestampIsSet?t:hn(t,t.getTime()-av(t)-i)}}class fQ extends Qt{constructor(){super(...arguments);Pe(this,"priority",40);Pe(this,"incompatibleTokens","*")}parse(t){return nD(t)}set(t,r,i){return[hn(t,i*1e3),{timestampIsSet:!0}]}}class pQ extends Qt{constructor(){super(...arguments);Pe(this,"priority",20);Pe(this,"incompatibleTokens","*")}parse(t){return nD(t)}set(t,r,i){return[hn(t,i),{timestampIsSet:!0}]}}const mQ={G:new RK,y:new LK,Y:new MK,R:new OK,u:new FK,Q:new jK,q:new VK,M:new BK,L:new UK,w:new WK,I:new qK,d:new GK,D:new KK,E:new QK,e:new XK,c:new JK,i:new eQ,a:new tQ,b:new nQ,B:new rQ,h:new iQ,H:new sQ,K:new oQ,k:new aQ,m:new lQ,s:new cQ,S:new uQ,X:new hQ,x:new dQ,t:new fQ,T:new pQ},gQ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,vQ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,yQ=/^'([^]*?)'?$/,_Q=/''/g,wQ=/\S/,bQ=/[a-zA-Z]/;function xQ(n,e,t,r){var x,_,b,E,R,O,V,C;const i=()=>hn((r==null?void 0:r.in)||t,NaN),s=kK(),o=(r==null?void 0:r.locale)??s.locale??J6,a=(r==null?void 0:r.firstWeekContainsDate)??((_=(x=r==null?void 0:r.locale)==null?void 0:x.options)==null?void 0:_.firstWeekContainsDate)??s.firstWeekContainsDate??((E=(b=s.locale)==null?void 0:b.options)==null?void 0:E.firstWeekContainsDate)??1,l=(r==null?void 0:r.weekStartsOn)??((O=(R=r==null?void 0:r.locale)==null?void 0:R.options)==null?void 0:O.weekStartsOn)??s.weekStartsOn??((C=(V=s.locale)==null?void 0:V.options)==null?void 0:C.weekStartsOn)??0;if(!e)return n?i():lt(t,r==null?void 0:r.in);const c={firstWeekContainsDate:a,weekStartsOn:l,locale:o},u=[new DK(r==null?void 0:r.in,t)],h=e.match(vQ).map(y=>{const S=y[0];if(S in o5){const I=o5[S];return I(y,o.formatLong)}return y}).join("").match(gQ),d=[];for(let y of h){const S=y[0],I=mQ[S];if(I){const{incompatibleTokens:k}=I;if(Array.isArray(k)){const L=d.find($=>k.includes($.token)||$.token===S);if(L)throw new RangeError(`The format string mustn't contain \`${L.fullToken}\` and \`${y}\` at the same time`)}else if(I.incompatibleTokens==="*"&&d.length>0)throw new RangeError(`The format string mustn't contain \`${y}\` and any other token at the same time`);d.push({token:S,fullToken:y});const P=I.run(n,y,o.match,c);if(!P)return i();u.push(P.setter),n=P.rest}else{if(S.match(bQ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");if(y==="''"?y="'":S==="'"&&(y=SQ(y)),n.indexOf(y)===0)n=n.slice(y.length);else return i()}}if(n.length>0&&wQ.test(n))return i();const f=u.map(y=>y.priority).sort((y,S)=>S-y).filter((y,S,I)=>I.indexOf(y)===S).map(y=>u.filter(S=>S.priority===y).sort((S,I)=>I.subPriority-S.subPriority)).map(y=>y[0]);let g=lt(t,r==null?void 0:r.in);if(isNaN(+g))return i();const w={};for(const y of f){if(!y.validate(g,c))return i();const S=y.set(g,w,c);Array.isArray(S)?(g=S[0],Object.assign(w,S[1])):g=S}return g}function SQ(n){return n.match(yQ)[1].replace(_Q,"'")}function EQ(n,e,t){const[r,i]=rl(t==null?void 0:t.in,n,e);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function kQ(n,e,t){const[r,i]=rl(t==null?void 0:t.in,n,e);return+s5(r)==+s5(i)}function AQ(n,e,t){const[r,i]=rl(t==null?void 0:t.in,n,e);return r.getFullYear()===i.getFullYear()}function km(n,e,t){const r=+lt(n,t==null?void 0:t.in),[i,s]=[+lt(e.start,t==null?void 0:t.in),+lt(e.end,t==null?void 0:t.in)].sort((o,a)=>o-a);return r>=i&&r<=s}function Au(n,e,t){return to(n,-e,t)}function PQ(n,e){const t=()=>hn(e==null?void 0:e.in,NaN),i=IQ(n);let s;if(i.date){const c=DQ(i.date,2);s=RQ(c.restDateString,c.year)}if(!s||isNaN(+s))return t();const o=+s;let a=0,l;if(i.time&&(a=LQ(i.time),isNaN(a)))return t();if(i.timezone){if(l=MQ(i.timezone),isNaN(l))return t()}else{const c=new Date(o+a),u=lt(0,e==null?void 0:e.in);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return lt(o+a+l,e==null?void 0:e.in)}const m0={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},TQ=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,CQ=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,NQ=/^([+-])(\d{2})(?::?(\d{2}))?$/;function IQ(n){const e={},t=n.split(m0.dateTimeDelimiter);let r;if(t.length>2)return e;if(/:/.test(t[0])?r=t[0]:(e.date=t[0],r=t[1],m0.timeZoneDelimiter.test(e.date)&&(e.date=n.split(m0.timeZoneDelimiter)[0],r=n.substr(e.date.length,n.length))),r){const i=m0.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function DQ(n,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=n.match(t);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:n.slice((r[1]||r[2]).length)}}function RQ(n,e){if(e===null)return new Date(NaN);const t=n.match(TQ);if(!t)return new Date(NaN);const r=!!t[4],i=$f(t[1]),s=$f(t[2])-1,o=$f(t[3]),a=$f(t[4]),l=$f(t[5])-1;if(r)return BQ(e,a,l)?OQ(e,a,l):new Date(NaN);{const c=new Date(0);return!jQ(e,s,o)||!VQ(e,i)?new Date(NaN):(c.setUTCFullYear(e,s,Math.max(i,o)),c)}}function $f(n){return n?parseInt(n):1}function LQ(n){const e=n.match(CQ);if(!e)return NaN;const t=t_(e[1]),r=t_(e[2]),i=t_(e[3]);return UQ(t,r,i)?t*wy+r*_y+i*1e3:NaN}function t_(n){return n&&parseFloat(n.replace(",","."))||0}function MQ(n){if(n==="Z")return 0;const e=n.match(NQ);if(!e)return 0;const t=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return zQ(r,i)?t*(r*wy+i*_y):NaN}function OQ(n,e,t){const r=new Date(0);r.setUTCFullYear(n,0,4);const i=r.getUTCDay()||7,s=(e-1)*7+t+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const FQ=[31,null,31,30,31,30,31,31,30,31,30,31];function sD(n){return n%400===0||n%4===0&&n%100!==0}function jQ(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(FQ[e]||(sD(n)?29:28))}function VQ(n,e){return e>=1&&e<=(sD(n)?366:365)}function BQ(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function UQ(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function zQ(n,e){return e>=0&&e<=59}function bs(n,e,t){const r=lt(n,t==null?void 0:t.in),i=r.getFullYear(),s=r.getDate(),o=hn(n,0);o.setFullYear(i,e,15),o.setHours(0,0,0,0);const a=EK(o);return r.setMonth(e,Math.min(s,a)),r}function J0(n,e,t){const r=lt(n,t==null?void 0:t.in);return r.setHours(e),r}function Z0(n,e,t){const r=lt(n,t==null?void 0:t.in);return r.setMinutes(e),r}function Gh(n,e,t){const r=lt(n,t==null?void 0:t.in),i=Math.trunc(r.getMonth()/3)+1,s=e-i;return bs(r,r.getMonth()+s*3)}function e1(n,e,t){const r=lt(n,t==null?void 0:t.in);return r.setSeconds(e),r}function No(n,e,t){const r=lt(n,t==null?void 0:t.in);return isNaN(+r)?hn(n,NaN):(r.setFullYear(e),r)}function bc(n,e,t){return oo(n,-e,t)}function oD(n,e,t){return Mx(n,-1,t)}function eA(n,e,t){return lv(n,-1,t)}function Ud(n,e,t){return ja(n,-e,t)}function xy(){return typeof window<"u"}function cf(n){return aD(n)?(n.nodeName||"").toLowerCase():"#document"}function ss(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function na(n){var e;return(e=(aD(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function aD(n){return xy()?n instanceof Node||n instanceof ss(n).Node:!1}function xi(n){return xy()?n instanceof Element||n instanceof ss(n).Element:!1}function Xo(n){return xy()?n instanceof HTMLElement||n instanceof ss(n).HTMLElement:!1}function tA(n){return!xy()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof ss(n).ShadowRoot}const WQ=new Set(["inline","contents"]);function Xm(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=Ds(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!WQ.has(i)}const HQ=new Set(["table","td","th"]);function qQ(n){return HQ.has(cf(n))}const $Q=[":popover-open",":modal"];function Sy(n){return $Q.some(e=>{try{return n.matches(e)}catch{return!1}})}const YQ=["transform","translate","scale","rotate","perspective"],GQ=["transform","translate","scale","rotate","perspective","filter"],KQ=["paint","layout","strict","content"];function Bx(n){const e=Ux(),t=xi(n)?Ds(n):n;return YQ.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||GQ.some(r=>(t.willChange||"").includes(r))||KQ.some(r=>(t.contain||"").includes(r))}function QQ(n){let e=Rc(n);for(;Xo(e)&&!zd(e);){if(Bx(e))return e;if(Sy(e))return null;e=Rc(e)}return null}function Ux(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const XQ=new Set(["html","body","#document"]);function zd(n){return XQ.has(cf(n))}function Ds(n){return ss(n).getComputedStyle(n)}function Ey(n){return xi(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Rc(n){if(cf(n)==="html")return n;const e=n.assignedSlot||n.parentNode||tA(n)&&n.host||na(n);return tA(e)?e.host:e}function lD(n){const e=Rc(n);return zd(e)?n.ownerDocument?n.ownerDocument.body:n.body:Xo(e)&&Xm(e)?e:lD(e)}function Am(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=lD(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),o=ss(i);if(s){const a=l5(o);return e.concat(o,o.visualViewport||[],Xm(i)?i:[],a&&t?Am(a):[])}return e.concat(i,Am(i,[],t))}function l5(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}const Wd=Math.min,Uu=Math.max,gv=Math.round,g0=Math.floor,Go=n=>({x:n,y:n}),JQ={left:"right",right:"left",bottom:"top",top:"bottom"},ZQ={start:"end",end:"start"};function eX(n,e,t){return Uu(n,Wd(e,t))}function ky(n,e){return typeof n=="function"?n(e):n}function Hd(n){return n.split("-")[0]}function Jm(n){return n.split("-")[1]}function tX(n){return n==="x"?"y":"x"}function zx(n){return n==="y"?"height":"width"}const nX=new Set(["top","bottom"]);function Pu(n){return nX.has(Hd(n))?"y":"x"}function Wx(n){return tX(Pu(n))}function rX(n,e,t){t===void 0&&(t=!1);const r=Jm(n),i=Wx(n),s=zx(i);let o=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=vv(o)),[o,vv(o)]}function iX(n){const e=vv(n);return[c5(n),e,c5(e)]}function c5(n){return n.replace(/start|end/g,e=>ZQ[e])}const nA=["left","right"],rA=["right","left"],sX=["top","bottom"],oX=["bottom","top"];function aX(n,e,t){switch(n){case"top":case"bottom":return t?e?rA:nA:e?nA:rA;case"left":case"right":return e?sX:oX;default:return[]}}function lX(n,e,t,r){const i=Jm(n);let s=aX(Hd(n),t==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(c5)))),s}function vv(n){return n.replace(/left|right|bottom|top/g,e=>JQ[e])}function cX(n){return{top:0,right:0,bottom:0,left:0,...n}}function cD(n){return typeof n!="number"?cX(n):{top:n,right:n,bottom:n,left:n}}function yv(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}var uX=typeof document<"u",hX=function(){},_v=uX?ee.useLayoutEffect:hX;const dX={...v5},fX=dX.useInsertionEffect,pX=fX||(n=>n());function mX(n){const e=ee.useRef(()=>{});return pX(()=>{e.current=n}),ee.useCallback(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function iA(n,e,t){let{reference:r,floating:i}=n;const s=Pu(e),o=Wx(e),a=zx(o),l=Hd(e),c=s==="y",u=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,d=r[a]/2-i[a]/2;let f;switch(l){case"top":f={x:u,y:r.y-i.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:h};break;case"left":f={x:r.x-i.width,y:h};break;default:f={x:r.x,y:r.y}}switch(Jm(e)){case"start":f[o]-=d*(t&&c?-1:1);break;case"end":f[o]+=d*(t&&c?-1:1);break}return f}const gX=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:n,floating:e,strategy:i}),{x:u,y:h}=iA(c,r,l),d=r,f={},g=0;for(let w=0;w<a.length;w++){const{name:x,fn:_}=a[w],{x:b,y:E,data:R,reset:O}=await _({x:u,y:h,initialPlacement:r,placement:d,strategy:i,middlewareData:f,rects:c,platform:o,elements:{reference:n,floating:e}});u=b??u,h=E??h,f={...f,[x]:{...f[x],...R}},O&&g<=50&&(g++,typeof O=="object"&&(O.placement&&(d=O.placement),O.rects&&(c=O.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:i}):O.rects),{x:u,y:h}=iA(c,d,l)),w=-1)}return{x:u,y:h,placement:d,strategy:i,middlewareData:f}};async function vX(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:d=!1,padding:f=0}=ky(e,n),g=cD(f),x=a[d?h==="floating"?"reference":"floating":h],_=yv(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(x)))==null||t?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),b=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),R=await(s.isElement==null?void 0:s.isElement(E))?await(s.getScale==null?void 0:s.getScale(E))||{x:1,y:1}:{x:1,y:1},O=yv(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:E,strategy:l}):b);return{top:(_.top-O.top+g.top)/R.y,bottom:(O.bottom-_.bottom+g.bottom)/R.y,left:(_.left-O.left+g.left)/R.x,right:(O.right-_.right+g.right)/R.x}}const yX=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=ky(n,e)||{};if(c==null)return{};const h=cD(u),d={x:t,y:r},f=Wx(i),g=zx(f),w=await o.getDimensions(c),x=f==="y",_=x?"top":"left",b=x?"bottom":"right",E=x?"clientHeight":"clientWidth",R=s.reference[g]+s.reference[f]-d[f]-s.floating[g],O=d[f]-s.reference[f],V=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let C=V?V[E]:0;(!C||!await(o.isElement==null?void 0:o.isElement(V)))&&(C=a.floating[E]||s.floating[g]);const y=R/2-O/2,S=C/2-w[g]/2-1,I=Wd(h[_],S),k=Wd(h[b],S),P=I,L=C-w[g]-k,$=C/2-w[g]/2+y,te=eX(P,$,L),K=!l.arrow&&Jm(i)!=null&&$!==te&&s.reference[g]/2-($<P?I:k)-w[g]/2<0,q=K?$<P?$-P:$-L:0;return{[f]:d[f]+q,data:{[f]:te,centerOffset:$-te-q,...K&&{alignmentOffset:q}},reset:K}}}),_X=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:d,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:w=!0,...x}=ky(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const _=Hd(i),b=Pu(a),E=Hd(a)===a,R=await(l.isRTL==null?void 0:l.isRTL(c.floating)),O=d||(E||!w?[vv(a)]:iX(a)),V=g!=="none";!d&&V&&O.push(...lX(a,w,g,R));const C=[a,...O],y=await vX(e,x),S=[];let I=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&S.push(y[_]),h){const $=rX(i,o,R);S.push(y[$[0]],y[$[1]])}if(I=[...I,{placement:i,overflows:S}],!S.every($=>$<=0)){var k,P;const $=(((k=s.flip)==null?void 0:k.index)||0)+1,te=C[$];if(te&&(!(h==="alignment"?b!==Pu(te):!1)||I.every(W=>W.overflows[0]>0&&Pu(W.placement)===b)))return{data:{index:$,overflows:I},reset:{placement:te}};let K=(P=I.filter(q=>q.overflows[0]<=0).sort((q,W)=>q.overflows[1]-W.overflows[1])[0])==null?void 0:P.placement;if(!K)switch(f){case"bestFit":{var L;const q=(L=I.filter(W=>{if(V){const H=Pu(W.placement);return H===b||H==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(H=>H>0).reduce((H,oe)=>H+oe,0)]).sort((W,H)=>W[1]-H[1])[0])==null?void 0:L[0];q&&(K=q);break}case"initialPlacement":K=a;break}if(i!==K)return{reset:{placement:K}}}return{}}}},wX=new Set(["left","top"]);async function bX(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Hd(t),a=Jm(t),l=Pu(t)==="y",c=wX.has(o)?-1:1,u=s&&l?-1:1,h=ky(e,n);let{mainAxis:d,crossAxis:f,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof g=="number"&&(f=a==="end"?g*-1:g),l?{x:f*u,y:d*c}:{x:d*c,y:f*u}}const xX=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await bX(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}};function uD(n){const e=Ds(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Xo(n),s=i?n.offsetWidth:t,o=i?n.offsetHeight:r,a=gv(t)!==s||gv(r)!==o;return a&&(t=s,r=o),{width:t,height:r,$:a}}function Hx(n){return xi(n)?n:n.contextElement}function bd(n){const e=Hx(n);if(!Xo(e))return Go(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=uD(e);let o=(s?gv(t.width):t.width)/r,a=(s?gv(t.height):t.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const SX=Go(0);function hD(n){const e=ss(n);return!Ux()||!e.visualViewport?SX:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function EX(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==ss(n)?!1:e}function nh(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=Hx(n);let o=Go(1);e&&(r?xi(r)&&(o=bd(r)):o=bd(n));const a=EX(s,t,r)?hD(s):Go(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,h=i.height/o.y;if(s){const d=ss(s),f=r&&xi(r)?ss(r):r;let g=d,w=l5(g);for(;w&&r&&f!==g;){const x=bd(w),_=w.getBoundingClientRect(),b=Ds(w),E=_.left+(w.clientLeft+parseFloat(b.paddingLeft))*x.x,R=_.top+(w.clientTop+parseFloat(b.paddingTop))*x.y;l*=x.x,c*=x.y,u*=x.x,h*=x.y,l+=E,c+=R,g=ss(w),w=l5(g)}}return yv({width:u,height:h,x:l,y:c})}function qx(n,e){const t=Ey(n).scrollLeft;return e?e.left+t:nh(na(n)).left+t}function dD(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=r.left+e.scrollLeft-(t?0:qx(n,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function kX(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",o=na(r),a=e?Sy(e.floating):!1;if(r===o||a&&s)return t;let l={scrollLeft:0,scrollTop:0},c=Go(1);const u=Go(0),h=Xo(r);if((h||!h&&!s)&&((cf(r)!=="body"||Xm(o))&&(l=Ey(r)),Xo(r))){const f=nh(r);c=bd(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}const d=o&&!h&&!s?dD(o,l,!0):Go(0);return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+u.x+d.x,y:t.y*c.y-l.scrollTop*c.y+u.y+d.y}}function AX(n){return Array.from(n.getClientRects())}function PX(n){const e=na(n),t=Ey(n),r=n.ownerDocument.body,i=Uu(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Uu(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+qx(n);const a=-t.scrollTop;return Ds(r).direction==="rtl"&&(o+=Uu(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function TX(n,e){const t=ss(n),r=na(n),i=t.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=Ux();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}const CX=new Set(["absolute","fixed"]);function NX(n,e){const t=nh(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=Xo(n)?bd(n):Go(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function sA(n,e,t){let r;if(e==="viewport")r=TX(n,t);else if(e==="document")r=PX(na(n));else if(xi(e))r=NX(e,t);else{const i=hD(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return yv(r)}function fD(n,e){const t=Rc(n);return t===e||!xi(t)||zd(t)?!1:Ds(t).position==="fixed"||fD(t,e)}function IX(n,e){const t=e.get(n);if(t)return t;let r=Am(n,[],!1).filter(a=>xi(a)&&cf(a)!=="body"),i=null;const s=Ds(n).position==="fixed";let o=s?Rc(n):n;for(;xi(o)&&!zd(o);){const a=Ds(o),l=Bx(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&CX.has(i.position)||Xm(o)&&!l&&fD(n,o))?r=r.filter(u=>u!==o):i=a,o=Rc(o)}return e.set(n,r),r}function DX(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const o=[...t==="clippingAncestors"?Sy(e)?[]:IX(e,this._c):[].concat(t),r],a=o[0],l=o.reduce((c,u)=>{const h=sA(e,u,i);return c.top=Uu(h.top,c.top),c.right=Wd(h.right,c.right),c.bottom=Wd(h.bottom,c.bottom),c.left=Uu(h.left,c.left),c},sA(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function RX(n){const{width:e,height:t}=uD(n);return{width:e,height:t}}function LX(n,e,t){const r=Xo(e),i=na(e),s=t==="fixed",o=nh(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Go(0);function c(){l.x=qx(i)}if(r||!r&&!s)if((cf(e)!=="body"||Xm(i))&&(a=Ey(e)),r){const f=nh(e,!0,s,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else i&&c();s&&!r&&i&&c();const u=i&&!r&&!s?dD(i,a):Go(0),h=o.left+a.scrollLeft-l.x-u.x,d=o.top+a.scrollTop-l.y-u.y;return{x:h,y:d,width:o.width,height:o.height}}function n_(n){return Ds(n).position==="static"}function oA(n,e){if(!Xo(n)||Ds(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return na(n)===t&&(t=t.ownerDocument.body),t}function pD(n,e){const t=ss(n);if(Sy(n))return t;if(!Xo(n)){let i=Rc(n);for(;i&&!zd(i);){if(xi(i)&&!n_(i))return i;i=Rc(i)}return t}let r=oA(n,e);for(;r&&qQ(r)&&n_(r);)r=oA(r,e);return r&&zd(r)&&n_(r)&&!Bx(r)?t:r||QQ(n)||t}const MX=async function(n){const e=this.getOffsetParent||pD,t=this.getDimensions,r=await t(n.floating);return{reference:LX(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function OX(n){return Ds(n).direction==="rtl"}const FX={convertOffsetParentRelativeRectToViewportRelativeRect:kX,getDocumentElement:na,getClippingRect:DX,getOffsetParent:pD,getElementRects:MX,getClientRects:AX,getDimensions:RX,getScale:bd,isElement:xi,isRTL:OX};function mD(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function jX(n,e){let t=null,r;const i=na(n);function s(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=n.getBoundingClientRect(),{left:u,top:h,width:d,height:f}=c;if(a||e(),!d||!f)return;const g=g0(h),w=g0(i.clientWidth-(u+d)),x=g0(i.clientHeight-(h+f)),_=g0(u),E={rootMargin:-g+"px "+-w+"px "+-x+"px "+-_+"px",threshold:Uu(0,Wd(1,l))||1};let R=!0;function O(V){const C=V[0].intersectionRatio;if(C!==l){if(!R)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!mD(c,n.getBoundingClientRect())&&o(),R=!1}try{t=new IntersectionObserver(O,{...E,root:i.ownerDocument})}catch{t=new IntersectionObserver(O,E)}t.observe(n)}return o(!0),s}function VX(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Hx(n),u=i||s?[...c?Am(c):[],...Am(e)]:[];u.forEach(_=>{i&&_.addEventListener("scroll",t,{passive:!0}),s&&_.addEventListener("resize",t)});const h=c&&a?jX(c,t):null;let d=-1,f=null;o&&(f=new ResizeObserver(_=>{let[b]=_;b&&b.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var E;(E=f)==null||E.observe(e)})),t()}),c&&!l&&f.observe(c),f.observe(e));let g,w=l?nh(n):null;l&&x();function x(){const _=nh(n);w&&!mD(w,_)&&t(),w=_,g=requestAnimationFrame(x)}return t(),()=>{var _;u.forEach(b=>{i&&b.removeEventListener("scroll",t),s&&b.removeEventListener("resize",t)}),h==null||h(),(_=f)==null||_.disconnect(),f=null,l&&cancelAnimationFrame(g)}}const BX=xX,UX=_X,aA=yX,zX=(n,e,t)=>{const r=new Map,i={platform:FX,...t},s={...i.platform,_c:r};return gX(n,e,{...i,platform:s})};var WX=typeof document<"u",HX=function(){},t1=WX?ee.useLayoutEffect:HX;function wv(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!wv(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!wv(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function gD(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function lA(n,e){const t=gD(n);return Math.round(e*t)/t}function r_(n){const e=ee.useRef(n);return t1(()=>{e.current=n}),e}function qX(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=n,[u,h]=ee.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[d,f]=ee.useState(r);wv(d,r)||f(r);const[g,w]=ee.useState(null),[x,_]=ee.useState(null),b=ee.useCallback(W=>{W!==V.current&&(V.current=W,w(W))},[]),E=ee.useCallback(W=>{W!==C.current&&(C.current=W,_(W))},[]),R=s||g,O=o||x,V=ee.useRef(null),C=ee.useRef(null),y=ee.useRef(u),S=l!=null,I=r_(l),k=r_(i),P=r_(c),L=ee.useCallback(()=>{if(!V.current||!C.current)return;const W={placement:e,strategy:t,middleware:d};k.current&&(W.platform=k.current),zX(V.current,C.current,W).then(H=>{const oe={...H,isPositioned:P.current!==!1};$.current&&!wv(y.current,oe)&&(y.current=oe,lb.flushSync(()=>{h(oe)}))})},[d,e,t,k,P]);t1(()=>{c===!1&&y.current.isPositioned&&(y.current.isPositioned=!1,h(W=>({...W,isPositioned:!1})))},[c]);const $=ee.useRef(!1);t1(()=>($.current=!0,()=>{$.current=!1}),[]),t1(()=>{if(R&&(V.current=R),O&&(C.current=O),R&&O){if(I.current)return I.current(R,O,L);L()}},[R,O,L,I,S]);const te=ee.useMemo(()=>({reference:V,floating:C,setReference:b,setFloating:E}),[b,E]),K=ee.useMemo(()=>({reference:R,floating:O}),[R,O]),q=ee.useMemo(()=>{const W={position:t,left:0,top:0};if(!K.floating)return W;const H=lA(K.floating,u.x),oe=lA(K.floating,u.y);return a?{...W,transform:"translate("+H+"px, "+oe+"px)",...gD(K.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:H,top:oe}},[t,a,K.floating,u.x,u.y]);return ee.useMemo(()=>({...u,update:L,refs:te,elements:K,floatingStyles:q}),[u,L,te,K,q])}const $X=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?aA({element:r.current,padding:i}).fn(t):{}:r?aA({element:r,padding:i}).fn(t):{}}}},YX=(n,e)=>({...BX(n),options:[n,e]}),GX=(n,e)=>({...UX(n),options:[n,e]}),KX=(n,e)=>({...$X(n),options:[n,e]}),QX={...v5};let cA=!1,XX=0;const uA=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+XX++;function JX(){const[n,e]=ee.useState(()=>cA?uA():void 0);return _v(()=>{n==null&&e(uA())},[]),ee.useEffect(()=>{cA=!0},[]),n}const ZX=QX.useId,vD=ZX||JX,eJ=ee.forwardRef(function(e,t){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:s,shift:o}},width:a=14,height:l=7,tipRadius:c=0,strokeWidth:u=0,staticOffset:h,stroke:d,d:f,style:{transform:g,...w}={},...x}=e,_=vD(),[b,E]=ee.useState(!1);if(_v(()=>{if(!i)return;Ds(i).direction==="rtl"&&E(!0)},[i]),!i)return null;const[R,O]=r.split("-"),V=R==="top"||R==="bottom";let C=h;(V&&o!=null&&o.x||!V&&o!=null&&o.y)&&(C=null);const y=u*2,S=y/2,I=a/2*(c/-8+1),k=l/2*c/4,P=!!f,L=C&&O==="end"?"bottom":"top";let $=C&&O==="end"?"right":"left";C&&b&&($=O==="end"?"left":"right");const te=(s==null?void 0:s.x)!=null?C||s.x:"",K=(s==null?void 0:s.y)!=null?C||s.y:"",q=f||"M0,0"+(" H"+a)+(" L"+(a-I)+","+(l-k))+(" Q"+a/2+","+l+" "+I+","+(l-k))+" Z",W={top:P?"rotate(180deg)":"",left:P?"rotate(90deg)":"rotate(-90deg)",bottom:P?"":"rotate(180deg)",right:P?"rotate(-90deg)":"rotate(90deg)"}[R];return T.jsxs("svg",{...x,"aria-hidden":!0,ref:t,width:P?a:a+y,height:a,viewBox:"0 0 "+a+" "+(l>a?l:a),style:{position:"absolute",pointerEvents:"none",[$]:te,[L]:K,[R]:V||P?"100%":"calc(100% - "+y/2+"px)",transform:[W,g].filter(H=>!!H).join(" "),...w},children:[y>0&&T.jsx("path",{clipPath:"url(#"+_+")",fill:"none",stroke:d,strokeWidth:y+(f?0:1),d:q}),T.jsx("path",{stroke:y&&!f?x.fill:"none",d:q}),T.jsx("clipPath",{id:_,children:T.jsx("rect",{x:-S,y:S*(P?-1:1),width:a+y,height:a})})]})});function tJ(){const n=new Map;return{emit(e,t){var r;(r=n.get(e))==null||r.forEach(i=>i(t))},on(e,t){n.has(e)||n.set(e,new Set),n.get(e).add(t)},off(e,t){var r;(r=n.get(e))==null||r.delete(t)}}}const nJ=ee.createContext(null),rJ=ee.createContext(null),iJ=()=>{var n;return((n=ee.useContext(nJ))==null?void 0:n.id)||null},sJ=()=>ee.useContext(rJ);function oJ(n){const{open:e=!1,onOpenChange:t,elements:r}=n,i=vD(),s=ee.useRef({}),[o]=ee.useState(()=>tJ()),a=iJ()!=null,[l,c]=ee.useState(r.reference),u=mX((f,g,w)=>{s.current.openEvent=f?g:void 0,o.emit("openchange",{open:f,event:g,reason:w,nested:a}),t==null||t(f,g,w)}),h=ee.useMemo(()=>({setPositionReference:c}),[]),d=ee.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return ee.useMemo(()=>({dataRef:s,open:e,onOpenChange:u,elements:d,events:o,floatingId:i,refs:h}),[e,u,d,o,i,h])}function aJ(n){n===void 0&&(n={});const{nodeId:e}=n,t=oJ({...n,elements:{reference:null,floating:null,...n.elements}}),r=n.rootContext||t,i=r.elements,[s,o]=ee.useState(null),[a,l]=ee.useState(null),u=(i==null?void 0:i.domReference)||s,h=ee.useRef(null),d=sJ();_v(()=>{u&&(h.current=u)},[u]);const f=qX({...n,elements:{...i,...a&&{reference:a}}}),g=ee.useCallback(E=>{const R=xi(E)?{getBoundingClientRect:()=>E.getBoundingClientRect(),getClientRects:()=>E.getClientRects(),contextElement:E}:E;l(R),f.refs.setReference(R)},[f.refs]),w=ee.useCallback(E=>{(xi(E)||E===null)&&(h.current=E,o(E)),(xi(f.refs.reference.current)||f.refs.reference.current===null||E!==null&&!xi(E))&&f.refs.setReference(E)},[f.refs]),x=ee.useMemo(()=>({...f.refs,setReference:w,setPositionReference:g,domReference:h}),[f.refs,w,g]),_=ee.useMemo(()=>({...f.elements,domReference:u}),[f.elements,u]),b=ee.useMemo(()=>({...f,...r,refs:x,elements:_,nodeId:e}),[f,x,_,e,r]);return _v(()=>{r.dataRef.current.floatingContext=b;const E=d==null?void 0:d.nodesRef.current.find(R=>R.id===e);E&&(E.context=b)}),ee.useMemo(()=>({...f,context:b,refs:x,elements:_}),[f,x,_,b])}/*!
  react-datepicker v8.4.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var u5=function(e,t){return u5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},u5(e,t)};function Cr(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u5(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Wt=function(){return Wt=Object.assign||function(t){for(var r,i=1,s=arguments.length;i<s;i++){r=arguments[i];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Wt.apply(this,arguments)};function Fo(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}var lJ=function(n){var e=n.showTimeSelectOnly,t=e===void 0?!1:e,r=n.showTime,i=r===void 0?!1:r,s=n.className,o=n.children,a=t?"Choose Time":"Choose Date".concat(i?" and Time":"");return Ae.createElement("div",{className:s,role:"dialog","aria-label":a,"aria-modal":"true"},o)},cJ=function(n,e){var t=ee.useRef(null),r=ee.useRef(n);r.current=n;var i=ee.useCallback(function(s){var o,a=s.composed&&s.composedPath&&s.composedPath().find(function(l){return l instanceof Node})||s.target;t.current&&!t.current.contains(a)&&(e&&a instanceof HTMLElement&&a.classList.contains(e)||(o=r.current)===null||o===void 0||o.call(r,s))},[e]);return ee.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),t},Ay=function(n){var e=n.children,t=n.onClickOutside,r=n.className,i=n.containerRef,s=n.style,o=n.ignoreClass,a=cJ(t,o);return Ae.createElement("div",{className:r,style:s,ref:function(l){a.current=l,i&&(i.current=l)}},e)},Ze;(function(n){n.ArrowUp="ArrowUp",n.ArrowDown="ArrowDown",n.ArrowLeft="ArrowLeft",n.ArrowRight="ArrowRight",n.PageUp="PageUp",n.PageDown="PageDown",n.Home="Home",n.End="End",n.Enter="Enter",n.Space=" ",n.Tab="Tab",n.Escape="Escape",n.Backspace="Backspace",n.X="x"})(Ze||(Ze={}));function yD(){var n=typeof window<"u"?window:globalThis;return n}var Zm=12;function tn(n){if(n==null)return new Date;var e=typeof n=="string"?PQ(n):lt(n);return Py(e)?e:new Date}function i_(n,e,t,r,i){i===void 0&&(i=tn());for(var s=qd(t)||qd($x()),o=Array.isArray(e)?e:[e],a=0,l=o;a<l.length;a++){var c=l[a],u=xQ(n,c,i,{locale:s});if(Py(u)&&(!r||n===Dn(u,c,t)))return u}return null}function Py(n,e){return cv(n)&&!Dc(n,new Date("1/1/1800"))}function Dn(n,e,t){if(t==="en")return Bu(n,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=t?qd(t):void 0;return t&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),r=r||qd($x()),Bu(n,e,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function ws(n,e){var t=e.dateFormat,r=e.locale,i=Array.isArray(t)&&t.length>0?t[0]:t;return n&&Dn(n,i,r)||""}var _D=" - ";function uJ(n,e,t){if(!n)return"";var r=ws(n,t),i=e?ws(e,t):"";return"".concat(r).concat(_D).concat(i)}function hJ(n,e){if(!(n!=null&&n.length))return"";var t=n[0]?ws(n[0],e):"";if(n.length===1)return t;if(n.length===2&&n[1]){var r=ws(n[1],e);return"".concat(t,", ").concat(r)}var i=n.length-1;return"".concat(t," (+").concat(i,")")}function s_(n,e){var t=e.hour,r=t===void 0?0:t,i=e.minute,s=i===void 0?0:i,o=e.second,a=o===void 0?0:o;return J0(Z0(e1(n,a),s),r)}function dJ(n){return Ox(n)}function fJ(n,e){return Dn(n,"ddd",e)}function n1(n){return Yo(n)}function xc(n,e,t){var r=qd(e||$x());return Ja(n,{locale:r,weekStartsOn:t})}function za(n){return pv(n)}function cp(n){return by(n)}function hA(n){return s5(n)}function dA(){return Yo(tn())}function fA(n){return Op(n)}function pJ(n){return TG(n)}function mJ(n){return fv(n)}function Io(n,e){return n&&e?AQ(n,e):!n&&!e}function _i(n,e){return n&&e?EQ(n,e):!n&&!e}function bv(n,e){return n&&e?kQ(n,e):!n&&!e}function zt(n,e){return n&&e?AG(n,e):!n&&!e}function Tu(n,e){return n&&e?PK(n,e):!n&&!e}function up(n,e,t){var r,i=Yo(e),s=Op(t);try{r=km(n,{start:i,end:s})}catch{r=!1}return r}function $x(){var n=yD();return n.__localeId__}function qd(n){if(typeof n=="string"){var e=yD();return e.__localeData__?e.__localeData__[n]:void 0}else return n}function gJ(n,e,t){return e(Dn(n,"EEEE",t))}function vJ(n,e){return Dn(n,"EEEEEE",e)}function yJ(n,e){return Dn(n,"EEE",e)}function Yx(n,e){return Dn(bs(tn(),n),"LLLL",e)}function wD(n,e){return Dn(bs(tn(),n),"LLL",e)}function _J(n,e){return Dn(Gh(tn(),n),"QQQ",e)}function Es(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.maxDate,s=t.excludeDates,o=t.excludeDateIntervals,a=t.includeDates,l=t.includeDateIntervals,c=t.filterDate;return eg(n,{minDate:r,maxDate:i})||s&&s.some(function(u){return u instanceof Date?zt(n,u):zt(n,u.date)})||o&&o.some(function(u){var h=u.start,d=u.end;return km(n,{start:h,end:d})})||a&&!a.some(function(u){return zt(n,u)})||l&&!l.some(function(u){var h=u.start,d=u.end;return km(n,{start:h,end:d})})||c&&!c(tn(n))||!1}function Gx(n,e){var t=e===void 0?{}:e,r=t.excludeDates,i=t.excludeDateIntervals;return i&&i.length>0?i.some(function(s){var o=s.start,a=s.end;return km(n,{start:o,end:a})}):r&&r.some(function(s){var o;return s instanceof Date?zt(n,s):zt(n,(o=s.date)!==null&&o!==void 0?o:new Date)})||!1}function bD(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.maxDate,s=t.excludeDates,o=t.includeDates,a=t.filterDate;return eg(n,{minDate:r?pv(r):void 0,maxDate:i?fv(i):void 0})||(s==null?void 0:s.some(function(l){return _i(n,l instanceof Date?l:l.date)}))||o&&!o.some(function(l){return _i(n,l)})||a&&!a(tn(n))||!1}function v0(n,e,t,r){var i=Nt(n),s=oi(n),o=Nt(e),a=oi(e),l=Nt(r);return i===o&&i===l?s<=t&&t<=a:i<o?l===i&&s<=t||l===o&&a>=t||l<o&&l>i:!1}function wJ(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.maxDate,s=t.excludeDates,o=t.includeDates;return eg(n,{minDate:r,maxDate:i})||s&&s.some(function(a){return _i(a instanceof Date?a:a.date,n)})||o&&!o.some(function(a){return _i(a,n)})||!1}function y0(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.maxDate,s=t.excludeDates,o=t.includeDates,a=t.filterDate;return eg(n,{minDate:r,maxDate:i})||(s==null?void 0:s.some(function(l){return bv(n,l instanceof Date?l:l.date)}))||o&&!o.some(function(l){return bv(n,l)})||a&&!a(tn(n))||!1}function _0(n,e,t){if(!e||!t||!cv(e)||!cv(t))return!1;var r=Nt(e),i=Nt(t);return r<=n&&i>=n}function r1(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.maxDate,s=t.excludeDates,o=t.includeDates,a=t.filterDate,l=new Date(n,0,1);return eg(l,{minDate:r?by(r):void 0,maxDate:i?X6(i):void 0})||(s==null?void 0:s.some(function(c){return Io(l,c instanceof Date?c:c.date)}))||o&&!o.some(function(c){return Io(l,c)})||a&&!a(tn(l))||!1}function w0(n,e,t,r){var i=Nt(n),s=Vu(n),o=Nt(e),a=Vu(e),l=Nt(r);return i===o&&i===l?s<=t&&t<=a:i<o?l===i&&s<=t||l===o&&a>=t||l<o&&l>i:!1}function eg(n,e){var t,r=e===void 0?{}:e,i=r.minDate,s=r.maxDate;return(t=i&&Bd(n,i)<0||s&&Bd(n,s)>0)!==null&&t!==void 0?t:!1}function pA(n,e){return e.some(function(t){return Ba(t)===Ba(n)&&Ua(t)===Ua(n)&&wc(t)===wc(n)})}function mA(n,e){var t=e===void 0?{}:e,r=t.excludeTimes,i=t.includeTimes,s=t.filterTime;return r&&pA(n,r)||i&&!pA(n,i)||s&&!s(n)||!1}function gA(n,e){var t=e.minTime,r=e.maxTime;if(!t||!r)throw new Error("Both minTime and maxTime props required");var i=tn();i=J0(i,Ba(n)),i=Z0(i,Ua(n)),i=e1(i,wc(n));var s=tn();s=J0(s,Ba(t)),s=Z0(s,Ua(t)),s=e1(s,wc(t));var o=tn();o=J0(o,Ba(r)),o=Z0(o,Ua(r)),o=e1(o,wc(r));var a;try{a=!km(i,{start:s,end:o})}catch{a=!1}return a}function vA(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.includeDates,s=bc(n,1);return r&&uv(r,s)>0||i&&i.every(function(o){return uv(o,s)>0})||!1}function yA(n,e){var t=e===void 0?{}:e,r=t.maxDate,i=t.includeDates,s=oo(n,1);return r&&uv(s,r)>0||i&&i.every(function(o){return uv(s,o)>0})||!1}function bJ(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.includeDates,s=by(n),o=oD(s);return r&&hv(r,o)>0||i&&i.every(function(a){return hv(a,o)>0})||!1}function xJ(n,e){var t=e===void 0?{}:e,r=t.maxDate,i=t.includeDates,s=X6(n),o=Mx(s,1);return r&&hv(o,r)>0||i&&i.every(function(a){return hv(o,a)>0})||!1}function _A(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.includeDates,s=Ud(n,1);return r&&dv(r,s)>0||i&&i.every(function(o){return dv(o,s)>0})||!1}function SJ(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.yearItemNumber,s=i===void 0?Zm:i,o=cp(Ud(n,s)),a=ic(o,s).endPeriod,l=r&&Nt(r);return l&&l>a||!1}function wA(n,e){var t=e===void 0?{}:e,r=t.maxDate,i=t.includeDates,s=ja(n,1);return r&&dv(s,r)>0||i&&i.every(function(o){return dv(s,o)>0})||!1}function EJ(n,e){var t=e===void 0?{}:e,r=t.maxDate,i=t.yearItemNumber,s=i===void 0?Zm:i,o=ja(n,s),a=ic(o,s).startPeriod,l=r&&Nt(r);return l&&l<a||!1}function xD(n){var e=n.minDate,t=n.includeDates;if(t&&e){var r=t.filter(function(i){return Bd(i,e)>=0});return Yk(r)}else return t?Yk(t):e}function SD(n){var e=n.maxDate,t=n.includeDates;if(t&&e){var r=t.filter(function(i){return Bd(i,e)<=0});return $k(r)}else return t?$k(t):e}function bA(n,e){var t;n===void 0&&(n=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var r=new Map,i=0,s=n.length;i<s;i++){var o=n[i];if(Va(o)){var a=Dn(o,"MM.dd.yyyy"),l=r.get(a)||[];l.includes(e)||(l.push(e),r.set(a,l))}else if(typeof o=="object"){var c=Object.keys(o),u=(t=c[0])!==null&&t!==void 0?t:"",h=o[u];if(typeof u=="string"&&Array.isArray(h))for(var d=0,f=h.length;d<f;d++){var g=h[d];if(g){var a=Dn(g,"MM.dd.yyyy"),l=r.get(a)||[];l.includes(u)||(l.push(u),r.set(a,l))}}}}return r}function kJ(n,e){return n.length!==e.length?!1:n.every(function(t,r){return t===e[r]})}function AJ(n,e){n===void 0&&(n=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return n.forEach(function(r){var i=r.date,s=r.holidayName;if(Va(i)){var o=Dn(i,"MM.dd.yyyy"),a=t.get(o)||{className:"",holidayNames:[]};if(!("className"in a&&a.className===e&&kJ(a.holidayNames,[s]))){a.className=e;var l=a.holidayNames;a.holidayNames=l?Fo(Fo([],l,!0),[s],!1):[s],t.set(o,a)}}}),t}function PJ(n,e,t,r,i){for(var s=i.length,o=[],a=0;a<s;a++){var l=n,c=i[a];c&&(l=xG(l,Ba(c)),l=i5(l,Ua(c)),l=kG(l,wc(c)));var u=i5(n,(t+1)*r);Za(l,e)&&Dc(l,u)&&c!=null&&o.push(c)}return o}function xA(n){return n<10?"0".concat(n):"".concat(n)}function ic(n,e){e===void 0&&(e=Zm);var t=Math.ceil(Nt(n)/e)*e,r=t-(e-1);return{startPeriod:r,endPeriod:t}}function TJ(n){var e=new Date(n.getFullYear(),n.getMonth(),n.getDate()),t=new Date(n.getFullYear(),n.getMonth(),n.getDate(),24);return Math.round((+t-+e)/36e5)}function SA(n){var e=n.getSeconds(),t=n.getMilliseconds();return lt(n.getTime()-e*1e3-t)}function CJ(n,e){return SA(n).getTime()===SA(e).getTime()}function EA(n){if(!Va(n))throw new Error("Invalid date");var e=new Date(n);return e.setHours(0,0,0,0),e}function kA(n,e){if(!Va(n)||!Va(e))throw new Error("Invalid date received");var t=EA(n),r=EA(e);return Dc(t,r)}function ED(n){return n.key===Ze.Space}var NJ=function(n){Cr(e,n);function e(t){var r=n.call(this,t)||this;return r.inputRef=Ae.createRef(),r.onTimeChange=function(i){var s,o;r.setState({time:i});var a=r.props.date,l=a instanceof Date&&!isNaN(+a),c=l?a:new Date;if(i!=null&&i.includes(":")){var u=i.split(":"),h=u[0],d=u[1];c.setHours(Number(h)),c.setMinutes(Number(d))}(o=(s=r.props).onChange)===null||o===void 0||o.call(s,c)},r.renderTimeInput=function(){var i=r.state.time,s=r.props,o=s.date,a=s.timeString,l=s.customTimeInput;return l?ee.cloneElement(l,{date:o,value:i,onChange:r.onTimeChange}):Ae.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var c;(c=r.inputRef.current)===null||c===void 0||c.focus()},required:!0,value:i,onChange:function(c){r.onTimeChange(c.target.value||a)}})},r.state={time:r.props.timeString},r}return e.getDerivedStateFromProps=function(t,r){return t.timeString!==r.time?{time:t.timeString}:null},e.prototype.render=function(){return Ae.createElement("div",{className:"react-datepicker__input-time-container"},Ae.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),Ae.createElement("div",{className:"react-datepicker-time__input-container"},Ae.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(ee.Component),IJ=function(n){Cr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.dayEl=ee.createRef(),t.handleClick=function(r){!t.isDisabled()&&t.props.onClick&&t.props.onClick(r)},t.handleMouseEnter=function(r){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(r)},t.handleOnKeyDown=function(r){var i,s,o=r.key;o===Ze.Space&&(r.preventDefault(),r.key=Ze.Enter),(s=(i=t.props).handleOnKeyDown)===null||s===void 0||s.call(i,r)},t.isSameDay=function(r){return zt(t.props.day,r)},t.isKeyboardSelected=function(){var r;if(t.props.disabledKeyboardNavigation)return!1;var i=t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(o){return t.isSameDayOrWeek(o)}):t.isSameDayOrWeek(t.props.selected),s=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!i&&t.isSameDayOrWeek(t.props.preSelection)&&!s},t.isDisabled=function(r){return r===void 0&&(r=t.props.day),Es(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return Gx(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return zt(t.props.day,xc(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(r){return t.props.showWeekPicker&&zt(r,xc(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(r){return t.isSameDay(r)||t.isSameWeek(r)},t.getHighLightedClass=function(){var r=t.props,i=r.day,s=r.highlightDates;if(!s)return!1;var o=Dn(i,"MM.dd.yyyy");return s.get(o)},t.getHolidaysClass=function(){var r,i=t.props,s=i.day,o=i.holidays;if(!o)return[void 0];var a=Dn(s,"MM.dd.yyyy");return o.has(a)?[(r=o.get(a))===null||r===void 0?void 0:r.className]:[void 0]},t.isInRange=function(){var r=t.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:up(i,s,o)},t.isInSelectingRange=function(){var r,i=t.props,s=i.day,o=i.selectsStart,a=i.selectsEnd,l=i.selectsRange,c=i.selectsDisabledDaysInRange,u=i.startDate,h=i.endDate,d=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return!(o||a||l)||!d||!c&&t.isDisabled()?!1:o&&h&&(Dc(d,h)||Tu(d,h))?up(s,d,h):a&&u&&(Za(d,u)||Tu(d,u))||l&&u&&!h&&(Za(d,u)||Tu(d,u))?up(s,u,d):!1},t.isSelectingRangeStart=function(){var r;if(!t.isInSelectingRange())return!1;var i=t.props,s=i.day,o=i.startDate,a=i.selectsStart,l=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return a?zt(s,l):zt(s,o)},t.isSelectingRangeEnd=function(){var r;if(!t.isInSelectingRange())return!1;var i=t.props,s=i.day,o=i.endDate,a=i.selectsEnd,l=i.selectsRange,c=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return a||l?zt(s,c):zt(s,o)},t.isRangeStart=function(){var r=t.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:zt(s,i)},t.isRangeEnd=function(){var r=t.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:zt(o,i)},t.isWeekend=function(){var r=SK(t.props.day);return r===0||r===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===oi(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(oi(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(tn())},t.isSelected=function(){var r;return t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return t.isSameDayOrWeek(i)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(r){var i=t.props.dayClassName?t.props.dayClassName(r):void 0;return Vr("react-datepicker__day",i,"react-datepicker__day--"+fJ(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var r=t.props,i=r.day,s=r.ariaLabelPrefixWhenEnabled,o=s===void 0?"Choose":s,a=r.ariaLabelPrefixWhenDisabled,l=a===void 0?"Not available":a,c=t.isDisabled()||t.isExcluded()?l:o;return"".concat(c," ").concat(Dn(i,"PPPP",t.props.locale))},t.getTitle=function(){var r=t.props,i=r.day,s=r.holidays,o=s===void 0?new Map:s,a=r.excludeDates,l=Dn(i,"MM.dd.yyyy"),c=[];return o.has(l)&&c.push.apply(c,o.get(l).holidayNames),t.isExcluded()&&c.push(a==null?void 0:a.filter(function(u){return u instanceof Date?zt(u,i):zt(u==null?void 0:u.date,i)}).map(function(u){if(!(u instanceof Date))return u==null?void 0:u.message})),c.join(", ")},t.getTabIndex=function(){var r=t.props.selected,i=t.props.preSelection,s=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(r)&&zt(i,r))?0:-1;return s},t.handleFocusDay=function(){var r;t.shouldFocusDay()&&((r=t.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(Zk(t.props.day),t.props.day):Zk(t.props.day)},t.render=function(){return Ae.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&Ae.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,r,i;return((r=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(ee.Component),DJ=function(n){Cr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.weekNumberEl=ee.createRef(),t.handleClick=function(r){t.props.onClick&&t.props.onClick(r)},t.handleOnKeyDown=function(r){var i,s,o=r.key;o===Ze.Space&&(r.preventDefault(),r.key=Ze.Enter),(s=(i=t.props).handleOnKeyDown)===null||s===void 0||s.call(i,r)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!zt(t.props.date,t.props.selected)&&zt(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||zt(t.props.date,t.props.selected)&&zt(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(r){var i=!1;t.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&zt(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(i=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,r=t.weekNumber,i=t.isWeekDisabled,s=t.ariaLabelPrefix,o=s===void 0?e.defaultProps.ariaLabelPrefix:s,a=t.onClick,l={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!a&&!i,"react-datepicker__week-number--selected":!!a&&zt(this.props.date,this.props.selected)};return Ae.createElement("div",{ref:this.weekNumberEl,className:Vr(l),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},e}(ee.Component),RJ=function(n){Cr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.isDisabled=function(r){return Es(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(r,i){t.props.onDayClick&&t.props.onDayClick(r,i)},t.handleDayMouseEnter=function(r){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(r)},t.handleWeekClick=function(r,i,s){for(var o,a,l,c=new Date(r),u=0;u<7;u++){var h=new Date(r);h.setDate(h.getDate()+u);var d=!t.isDisabled(h);if(d){c=h;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(c,i,s),t.props.showWeekPicker&&t.handleDayClick(c,s),((o=t.props.shouldCloseOnSelect)!==null&&o!==void 0?o:e.defaultProps.shouldCloseOnSelect)&&((l=(a=t.props).setOpen)===null||l===void 0||l.call(a,!1))},t.formatWeekNumber=function(r){return t.props.formatWeekNumber?t.props.formatWeekNumber(r):dJ(r)},t.isWeekDisabled=function(){for(var r=t.startOfWeek(),i=to(r,6),s=new Date(r);s<=i;){if(!t.isDisabled(s))return!1;s=to(s,1)}return!0},t.renderDays=function(){var r=t.startOfWeek(),i=[],s=t.formatWeekNumber(r);if(t.props.showWeekNumber){var o=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,r,s):void 0;i.push(Ae.createElement(DJ,Wt({key:"W"},e.defaultProps,t.props,{weekNumber:s,isWeekDisabled:t.isWeekDisabled(),date:r,onClick:o})))}return i.concat([0,1,2,3,4,5,6].map(function(a){var l=to(r,a);return Ae.createElement(IJ,Wt({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:l.valueOf(),day:l,onClick:t.handleDayClick.bind(t,l),onMouseEnter:t.handleDayMouseEnter.bind(t,l)}))}))},t.startOfWeek=function(){return xc(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!zt(t.startOfWeek(),t.props.selected)&&zt(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":zt(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return Ae.createElement("div",{className:Vr(t)},this.renderDays())},e}(ee.Component),Yf,LJ=6,xd={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},o_=(Yf={},Yf[xd.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Yf[xd.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Yf[xd.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Yf),b0=1;function AA(n,e){return n?xd.FOUR_COLUMNS:e?xd.TWO_COLUMNS:xd.THREE_COLUMNS}var MJ=function(n){Cr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.MONTH_REFS=Fo([],Array(12),!0).map(function(){return ee.createRef()}),t.QUARTER_REFS=Fo([],Array(4),!0).map(function(){return ee.createRef()}),t.isDisabled=function(r){return Es(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(r){return Gx(r,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(r,i){var s,o;(o=(s=t.props).onDayClick)===null||o===void 0||o.call(s,r,i,t.props.orderInDisplay)},t.handleDayMouseEnter=function(r){var i,s;(s=(i=t.props).onDayMouseEnter)===null||s===void 0||s.call(i,r)},t.handleMouseLeave=function(){var r,i;(i=(r=t.props).onMouseLeave)===null||i===void 0||i.call(r)},t.isRangeStartMonth=function(r){var i=t.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:_i(bs(s,r),o)},t.isRangeStartQuarter=function(r){var i=t.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:bv(Gh(s,r),o)},t.isRangeEndMonth=function(r){var i=t.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:_i(bs(s,r),a)},t.isRangeEndQuarter=function(r){var i=t.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:bv(Gh(s,r),a)},t.isInSelectingRangeMonth=function(r){var i,s=t.props,o=s.day,a=s.selectsStart,l=s.selectsEnd,c=s.selectsRange,u=s.startDate,h=s.endDate,d=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(a||l||c)||!d?!1:a&&h?v0(d,h,r,o):l&&u||c&&u&&!h?v0(u,d,r,o):!1},t.isSelectingMonthRangeStart=function(r){var i;if(!t.isInSelectingRangeMonth(r))return!1;var s=t.props,o=s.day,a=s.startDate,l=s.selectsStart,c=bs(o,r),u=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return l?_i(c,u):_i(c,a)},t.isSelectingMonthRangeEnd=function(r){var i;if(!t.isInSelectingRangeMonth(r))return!1;var s=t.props,o=s.day,a=s.endDate,l=s.selectsEnd,c=s.selectsRange,u=bs(o,r),h=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return l||c?_i(u,h):_i(u,a)},t.isInSelectingRangeQuarter=function(r){var i,s=t.props,o=s.day,a=s.selectsStart,l=s.selectsEnd,c=s.selectsRange,u=s.startDate,h=s.endDate,d=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(a||l||c)||!d?!1:a&&h?w0(d,h,r,o):l&&u||c&&u&&!h?w0(u,d,r,o):!1},t.isWeekInMonth=function(r){var i=t.props.day,s=to(r,6);return _i(r,i)||_i(s,i)},t.isCurrentMonth=function(r,i){return Nt(r)===Nt(tn())&&i===oi(tn())},t.isCurrentQuarter=function(r,i){return Nt(r)===Nt(tn())&&i===Vu(tn())},t.isSelectedMonth=function(r,i,s){return oi(s)===i&&Nt(r)===Nt(s)},t.isSelectMonthInList=function(r,i,s){return s.some(function(o){return t.isSelectedMonth(r,i,o)})},t.isSelectedQuarter=function(r,i,s){return Vu(r)===i&&Nt(r)===Nt(s)},t.isMonthSelected=function(){var r=t.props,i=r.day,s=r.selected,o=r.selectedDates,a=r.selectsMultiple,l=oi(i);return a?o==null?void 0:o.some(function(c){return t.isSelectedMonth(i,l,c)}):!!s&&t.isSelectedMonth(i,l,s)},t.renderWeeks=function(){for(var r=[],i=t.props.fixedHeight,s=0,o=!1,a=xc(za(t.props.day),t.props.locale,t.props.calendarStartDay),l=function(g){return t.props.showWeekPicker?xc(g,t.props.locale,t.props.calendarStartDay):t.props.preSelection},c=function(g){return t.props.showWeekPicker?xc(g,t.props.locale,t.props.calendarStartDay):t.props.selected},u=t.props.selected?c(t.props.selected):void 0,h=t.props.preSelection?l(t.props.preSelection):void 0;r.push(Ae.createElement(RJ,Wt({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:s,day:a,month:oi(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:u,preSelection:h,showWeekNumber:t.props.showWeekNumbers}))),!o;){s++,a=lv(a,1);var d=i&&s>=LJ,f=!i&&!t.isWeekInMonth(a);if(d||f)if(t.props.peekNextMonth)o=!0;else break}return r},t.onMonthClick=function(r,i){var s=t.isMonthDisabledForLabelDate(i),o=s.isDisabled,a=s.labelDate;o||t.handleDayClick(za(a),r)},t.onMonthMouseEnter=function(r){var i=t.isMonthDisabledForLabelDate(r),s=i.isDisabled,o=i.labelDate;s||t.handleDayMouseEnter(za(o))},t.handleMonthNavigation=function(r,i){var s,o,a,l;(o=(s=t.props).setPreSelection)===null||o===void 0||o.call(s,i),(l=(a=t.MONTH_REFS[r])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus()},t.handleKeyboardNavigation=function(r,i,s){var o,a=t.props,l=a.selected,c=a.preSelection,u=a.setPreSelection,h=a.minDate,d=a.maxDate,f=a.showFourColumnMonthYearPicker,g=a.showTwoColumnMonthYearPicker;if(c){var w=AA(f,g),x=t.getVerticalOffset(w),_=(o=o_[w])===null||o===void 0?void 0:o.grid,b=function(C,y,S){var I,k,P=y,L=S;switch(C){case Ze.ArrowRight:P=oo(y,b0),L=S===11?0:S+b0;break;case Ze.ArrowLeft:P=bc(y,b0),L=S===0?11:S-b0;break;case Ze.ArrowUp:P=bc(y,x),L=!((I=_==null?void 0:_[0])===null||I===void 0)&&I.includes(S)?S+12-x:S-x;break;case Ze.ArrowDown:P=oo(y,x),L=!((k=_==null?void 0:_[_.length-1])===null||k===void 0)&&k.includes(S)?S-12+x:S+x;break}return{newCalculatedDate:P,newCalculatedMonth:L}},E=function(C,y,S){for(var I=40,k=C,P=!1,L=0,$=b(k,y,S),te=$.newCalculatedDate,K=$.newCalculatedMonth;!P;){if(L>=I){te=y,K=S;break}if(h&&te<h){k=Ze.ArrowRight;var q=b(k,te,K);te=q.newCalculatedDate,K=q.newCalculatedMonth}if(d&&te>d){k=Ze.ArrowLeft;var q=b(k,te,K);te=q.newCalculatedDate,K=q.newCalculatedMonth}if(wJ(te,t.props)){var q=b(k,te,K);te=q.newCalculatedDate,K=q.newCalculatedMonth}else P=!0;L++}return{newCalculatedDate:te,newCalculatedMonth:K}};if(i===Ze.Enter){t.isMonthDisabled(s)||(t.onMonthClick(r,s),u==null||u(l));return}var R=E(i,c,s),O=R.newCalculatedDate,V=R.newCalculatedMonth;switch(i){case Ze.ArrowRight:case Ze.ArrowLeft:case Ze.ArrowUp:case Ze.ArrowDown:t.handleMonthNavigation(V,O);break}}},t.getVerticalOffset=function(r){var i,s;return(s=(i=o_[r])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&s!==void 0?s:0},t.onMonthKeyDown=function(r,i){var s=t.props,o=s.disabledKeyboardNavigation,a=s.handleOnMonthKeyDown,l=r.key;l!==Ze.Tab&&r.preventDefault(),o||t.handleKeyboardNavigation(r,l,i),a&&a(r)},t.onQuarterClick=function(r,i){var s=Gh(t.props.day,i);y0(s,t.props)||t.handleDayClick(hA(s),r)},t.onQuarterMouseEnter=function(r){var i=Gh(t.props.day,r);y0(i,t.props)||t.handleDayMouseEnter(hA(i))},t.handleQuarterNavigation=function(r,i){var s,o,a,l;t.isDisabled(i)||t.isExcluded(i)||((o=(s=t.props).setPreSelection)===null||o===void 0||o.call(s,i),(l=(a=t.QUARTER_REFS[r-1])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus())},t.onQuarterKeyDown=function(r,i){var s,o,a=r.key;if(!t.props.disabledKeyboardNavigation)switch(a){case Ze.Enter:t.onQuarterClick(r,i),(o=(s=t.props).setPreSelection)===null||o===void 0||o.call(s,t.props.selected);break;case Ze.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===4?1:i+1,Mx(t.props.preSelection,1));break;case Ze.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===1?4:i-1,oD(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(r){var i,s=t.props,o=s.day,a=s.minDate,l=s.maxDate,c=s.excludeDates,u=s.includeDates,h=bs(o,r);return{isDisabled:(i=(a||l||c||u)&&bD(h,t.props))!==null&&i!==void 0?i:!1,labelDate:h}},t.isMonthDisabled=function(r){var i=t.isMonthDisabledForLabelDate(r).isDisabled;return i},t.getMonthClassNames=function(r){var i=t.props,s=i.day,o=i.startDate,a=i.endDate,l=i.preSelection,c=i.monthClassName,u=c?c(bs(s,r)):void 0,h=t.getSelection();return Vr("react-datepicker__month-text","react-datepicker__month-".concat(r),u,{"react-datepicker__month-text--disabled":t.isMonthDisabled(r),"react-datepicker__month-text--selected":h?t.isSelectMonthInList(s,r,h):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&l&&t.isSelectedMonth(s,r,l)&&!t.isMonthSelected()&&!t.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":o&&a?v0(o,a,r,s):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(r),"react-datepicker__month-text--range-end":t.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":t.isCurrentMonth(s,r)})},t.getTabIndex=function(r){if(t.props.preSelection==null)return"-1";var i=oi(t.props.preSelection),s=t.isMonthDisabledForLabelDate(i).isDisabled,o=r===i&&!(s||t.props.disabledKeyboardNavigation)?"0":"-1";return o},t.getQuarterTabIndex=function(r){if(t.props.preSelection==null)return"-1";var i=Vu(t.props.preSelection),s=y0(t.props.day,t.props),o=r===i&&!(s||t.props.disabledKeyboardNavigation)?"0":"-1";return o},t.getAriaLabel=function(r){var i=t.props,s=i.chooseDayAriaLabelPrefix,o=s===void 0?"Choose":s,a=i.disabledDayAriaLabelPrefix,l=a===void 0?"Not available":a,c=i.day,u=i.locale,h=bs(c,r),d=t.isDisabled(h)||t.isExcluded(h)?l:o;return"".concat(d," ").concat(Dn(h,"MMMM yyyy",u))},t.getQuarterClassNames=function(r){var i=t.props,s=i.day,o=i.startDate,a=i.endDate,l=i.selected,c=i.minDate,u=i.maxDate,h=i.excludeDates,d=i.includeDates,f=i.filterDate,g=i.preSelection,w=i.disabledKeyboardNavigation,x=(c||u||h||d||f)&&y0(Gh(s,r),t.props);return Vr("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":x,"react-datepicker__quarter-text--selected":l?t.isSelectedQuarter(s,r,l):void 0,"react-datepicker__quarter-text--keyboard-selected":!w&&g&&t.isSelectedQuarter(s,r,g)&&!x,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":o&&a?w0(o,a,r,s):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(r),"react-datepicker__quarter-text--today":t.isCurrentQuarter(s,r)})},t.getMonthContent=function(r){var i=t.props,s=i.showFullMonthYearPicker,o=i.renderMonthContent,a=i.locale,l=i.day,c=wD(r,a),u=Yx(r,a);return o?o(r,c,u,l):s?u:c},t.getQuarterContent=function(r){var i,s=t.props,o=s.renderQuarterContent,a=s.locale,l=_J(r,a);return(i=o==null?void 0:o(r,l))!==null&&i!==void 0?i:l},t.renderMonths=function(){var r,i=t.props,s=i.showTwoColumnMonthYearPicker,o=i.showFourColumnMonthYearPicker,a=i.day,l=i.selected,c=(r=o_[AA(o,s)])===null||r===void 0?void 0:r.grid;return c==null?void 0:c.map(function(u,h){return Ae.createElement("div",{className:"react-datepicker__month-wrapper",key:h},u.map(function(d,f){return Ae.createElement("div",{ref:t.MONTH_REFS[d],key:f,onClick:function(g){t.onMonthClick(g,d)},onKeyDown:function(g){ED(g)&&(g.preventDefault(),g.key=Ze.Enter),t.onMonthKeyDown(g,d)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(d)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(d)}:void 0,tabIndex:Number(t.getTabIndex(d)),className:t.getMonthClassNames(d),"aria-disabled":t.isMonthDisabled(d),role:"option","aria-label":t.getAriaLabel(d),"aria-current":t.isCurrentMonth(a,d)?"date":void 0,"aria-selected":l?t.isSelectedMonth(a,d,l):void 0},t.getMonthContent(d))}))})},t.renderQuarters=function(){var r=t.props,i=r.day,s=r.selected,o=[1,2,3,4];return Ae.createElement("div",{className:"react-datepicker__quarter-wrapper"},o.map(function(a,l){return Ae.createElement("div",{key:l,ref:t.QUARTER_REFS[l],role:"option",onClick:function(c){t.onQuarterClick(c,a)},onKeyDown:function(c){t.onQuarterKeyDown(c,a)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(a)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(a)}:void 0,className:t.getQuarterClassNames(a),"aria-selected":s?t.isSelectedQuarter(i,a,s):void 0,tabIndex:Number(t.getQuarterTabIndex(a)),"aria-current":t.isCurrentQuarter(i,a)?"date":void 0},t.getQuarterContent(a))}))},t.getClassNames=function(){var r=t.props,i=r.selectingDate,s=r.selectsStart,o=r.selectsEnd,a=r.showMonthYearPicker,l=r.showQuarterYearPicker,c=r.showWeekPicker;return Vr("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(s||o)},{"react-datepicker__monthPicker":a},{"react-datepicker__quarterPicker":l},{"react-datepicker__weekPicker":c})},t}return e.prototype.getSelection=function(){var t=this.props,r=t.selected,i=t.selectedDates,s=t.selectsMultiple;if(s)return i;if(r)return[r]},e.prototype.render=function(){var t=this.props,r=t.showMonthYearPicker,i=t.showQuarterYearPicker,s=t.day,o=t.ariaLabelPrefix,a=o===void 0?"Month ":o,l=a?a.trim()+" ":"";return Ae.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(l).concat(Dn(s,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},e}(ee.Component),OJ=function(n){Cr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.isSelectedMonth=function(r){return t.props.month===r},t.renderOptions=function(){return t.props.monthNames.map(function(r,i){return Ae.createElement("div",{className:t.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:t.onChange.bind(t,i),"aria-selected":t.isSelectedMonth(i)?"true":void 0},t.isSelectedMonth(i)?Ae.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",r)})},t.onChange=function(r){return t.props.onChange(r)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return Ae.createElement(Ay,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(ee.Component),FJ=function(n){Cr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(r){return r.map(function(i,s){return Ae.createElement("option",{key:i,value:s},i)})},t.renderSelectMode=function(r){return Ae.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(i){return t.onChange(parseInt(i.target.value))}},t.renderSelectOptions(r))},t.renderReadView=function(r,i){return Ae.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},Ae.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),Ae.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[t.props.month]))},t.renderDropdown=function(r){return Ae.createElement(OJ,Wt({key:"dropdown"},t.props,{monthNames:r,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(r){var i=t.state.dropdownVisible,s=[t.renderReadView(!i,r)];return i&&s.unshift(t.renderDropdown(r)),s},t.onChange=function(r){t.toggleDropdown(),r!==t.props.month&&t.props.onChange(r)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return wD(s,t.props.locale)}:function(s){return Yx(s,t.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(r);break;case"select":i=this.renderSelectMode(r);break}return Ae.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},e}(ee.Component);function jJ(n,e){for(var t=[],r=za(n),i=za(e);!Za(r,i);)t.push(tn(r)),r=oo(r,1);return t}var VJ=function(n){Cr(e,n);function e(t){var r=n.call(this,t)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(i){var s=a5(i),o=Io(r.props.date,i)&&_i(r.props.date,i);return Ae.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:r.onChange.bind(r,s),"aria-selected":o?"true":void 0},o?Ae.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",Dn(i,r.props.dateFormat,r.props.locale))})},r.onChange=function(i){return r.props.onChange(i)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:jJ(r.props.minDate,r.props.maxDate)},r}return e.prototype.render=function(){var t=Vr({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return Ae.createElement(Ay,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(ee.Component),BJ=function(n){Cr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=za(t.props.minDate),i=za(t.props.maxDate),s=[];!Za(r,i);){var o=a5(r);s.push(Ae.createElement("option",{key:o,value:o},Dn(r,t.props.dateFormat,t.props.locale))),r=oo(r,1)}return s},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return Ae.createElement("select",{value:a5(za(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){var i=Dn(t.props.date,t.props.dateFormat,t.props.locale);return Ae.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},Ae.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),Ae.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},t.renderDropdown=function(){return Ae.createElement(VJ,Wt({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,i=[t.renderReadView(!r)];return r&&i.unshift(t.renderDropdown()),i},t.onChange=function(r){t.toggleDropdown();var i=tn(r);Io(t.props.date,i)&&_i(t.props.date,i)||t.props.onChange(i)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return Ae.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(ee.Component),UJ=function(n){Cr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,i,s;t.list&&(t.list.scrollTop=(s=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((i=(r=t.header)===null||r===void 0?void 0:r.clientHeight)!==null&&i!==void 0?i:0):t.list.clientHeight,t.centerLi))!==null&&s!==void 0?s:0)})},t.handleClick=function(r){var i,s;(t.props.minTime||t.props.maxTime)&&gA(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&mA(r,t.props)||(s=(i=t.props).onChange)===null||s===void 0||s.call(i,r)},t.isSelectedTime=function(r){return t.props.selected&&CJ(t.props.selected,r)},t.isDisabledTime=function(r){return(t.props.minTime||t.props.maxTime)&&gA(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&mA(r,t.props)},t.liClasses=function(r){var i,s=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(r):void 0];return t.isSelectedTime(r)&&s.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(r)&&s.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(Ba(r)*3600+Ua(r)*60+wc(r))%(((i=t.props.intervals)!==null&&i!==void 0?i:e.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},t.handleOnKeyDown=function(r,i){var s,o;r.key===Ze.Space&&(r.preventDefault(),r.key=Ze.Enter),(r.key===Ze.ArrowUp||r.key===Ze.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===Ze.ArrowDown||r.key===Ze.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===Ze.Enter&&t.handleClick(i),(o=(s=t.props).handleOnKeyDown)===null||o===void 0||o.call(s,r)},t.renderTimes=function(){for(var r,i=[],s=typeof t.props.format=="string"?t.props.format:"p",o=(r=t.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals,a=t.props.selected||t.props.openToDate||tn(),l=n1(a),c=t.props.injectTimes&&t.props.injectTimes.sort(function(x,_){return x.getTime()-_.getTime()}),u=60*TJ(a),h=u/o,d=0;d<h;d++){var f=i5(l,d*o);if(i.push(f),c){var g=PJ(l,f,d,o,c);i=i.concat(g)}}var w=i.reduce(function(x,_){return _.getTime()<=a.getTime()?_:x},i[0]);return i.map(function(x){return Ae.createElement("li",{key:x.valueOf(),onClick:t.handleClick.bind(t,x),className:t.liClasses(x),ref:function(_){x===w&&(t.centerLi=_)},onKeyDown:function(_){t.handleOnKeyDown(_,x)},tabIndex:x===w?0:-1,role:"option","aria-selected":t.isSelectedTime(x)?"true":void 0,"aria-disabled":t.isDisabledTime(x)?"true":void 0},Dn(x,s,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?Ae.createElement(Ae.Fragment,null):Ae.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){t.header=r}},Ae.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},e.prototype.componentWillUnmount=function(){var t;(t=this.resizeObserver)===null||t===void 0||t.disconnect()},e.prototype.observeDatePickerHeightChanges=function(){var t=this,r=this.props.monthRef;this.updateContainerHeight(),r&&(this.resizeObserver=new ResizeObserver(function(){t.updateContainerHeight()}),this.resizeObserver.observe(r))},e.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,r,i=this.state.height;return Ae.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),Ae.createElement("div",{className:"react-datepicker__time"},Ae.createElement("div",{className:"react-datepicker__time-box"},Ae.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){t.list=s},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,r){return r.offsetTop-(t/2-r.clientHeight/2)},e}(ee.Component),PA=3,zJ=function(n){Cr(e,n);function e(t){var r=n.call(this,t)||this;return r.YEAR_REFS=Fo([],Array(r.props.yearItemNumber),!0).map(function(){return ee.createRef()}),r.isDisabled=function(i){return Es(i,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(i){return Gx(i,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection},r.updateFocusOnPaginate=function(i){var s=function(){var o,a;(a=(o=r.YEAR_REFS[i])===null||o===void 0?void 0:o.current)===null||a===void 0||a.focus()};window.requestAnimationFrame(s)},r.handleYearClick=function(i,s){r.props.onDayClick&&r.props.onDayClick(i,s)},r.handleYearNavigation=function(i,s){var o,a,l,c,u=r.props,h=u.date,d=u.yearItemNumber;if(!(h===void 0||d===void 0)){var f=ic(h,d).startPeriod;r.isDisabled(s)||r.isExcluded(s)||((a=(o=r.props).setPreSelection)===null||a===void 0||a.call(o,s),i-f<0?r.updateFocusOnPaginate(d-(f-i)):i-f>=d?r.updateFocusOnPaginate(Math.abs(d-(i-f))):(c=(l=r.YEAR_REFS[i-f])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus())}},r.isSameDay=function(i,s){return zt(i,s)},r.isCurrentYear=function(i){return i===Nt(tn())},r.isRangeStart=function(i){return r.props.startDate&&r.props.endDate&&Io(No(tn(),i),r.props.startDate)},r.isRangeEnd=function(i){return r.props.startDate&&r.props.endDate&&Io(No(tn(),i),r.props.endDate)},r.isInRange=function(i){return _0(i,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(i){var s=r.props,o=s.selectsStart,a=s.selectsEnd,l=s.selectsRange,c=s.startDate,u=s.endDate;return!(o||a||l)||!r.selectingDate()?!1:o&&u?_0(i,r.selectingDate(),u):a&&c||l&&c&&!u?_0(i,c,r.selectingDate()):!1},r.isSelectingRangeStart=function(i){var s;if(!r.isInSelectingRange(i))return!1;var o=r.props,a=o.startDate,l=o.selectsStart,c=No(tn(),i);return l?Io(c,(s=r.selectingDate())!==null&&s!==void 0?s:null):Io(c,a??null)},r.isSelectingRangeEnd=function(i){var s;if(!r.isInSelectingRange(i))return!1;var o=r.props,a=o.endDate,l=o.selectsEnd,c=o.selectsRange,u=No(tn(),i);return l||c?Io(u,(s=r.selectingDate())!==null&&s!==void 0?s:null):Io(u,a??null)},r.isKeyboardSelected=function(i){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var s=r.props,o=s.minDate,a=s.maxDate,l=s.excludeDates,c=s.includeDates,u=s.filterDate,h=cp(No(r.props.date,i)),d=(o||a||l||c||u)&&r1(i,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!zt(h,cp(r.props.selected))&&zt(h,cp(r.props.preSelection))&&!d}},r.isSelectedYear=function(i){var s=r.props,o=s.selectsMultiple,a=s.selected,l=s.selectedDates;return o?l==null?void 0:l.some(function(c){return i===Nt(c)}):!!a&&i===Nt(a)},r.onYearClick=function(i,s){var o=r.props.date;o!==void 0&&r.handleYearClick(cp(No(o,s)),i)},r.onYearKeyDown=function(i,s){var o,a,l=i.key,c=r.props,u=c.date,h=c.yearItemNumber,d=c.handleOnKeyDown;if(l!==Ze.Tab&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(l){case Ze.Enter:if(r.props.selected==null)break;r.onYearClick(i,s),(a=(o=r.props).setPreSelection)===null||a===void 0||a.call(o,r.props.selected);break;case Ze.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(s+1,ja(r.props.preSelection,1));break;case Ze.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(s-1,Ud(r.props.preSelection,1));break;case Ze.ArrowUp:{if(u===void 0||h===void 0||r.props.preSelection==null)break;var f=ic(u,h).startPeriod,g=PA,w=s-g;if(w<f){var x=h%g;s>=f&&s<f+x?g=x:g+=x,w=s-g}r.handleYearNavigation(w,Ud(r.props.preSelection,g));break}case Ze.ArrowDown:{if(u===void 0||h===void 0||r.props.preSelection==null)break;var _=ic(u,h).endPeriod,g=PA,w=s+g;if(w>_){var x=h%g;s<=_&&s>_-x?g=x:g+=x,w=s+g}r.handleYearNavigation(w,ja(r.props.preSelection,g));break}}d&&d(i)},r.getYearClassNames=function(i){var s=r.props,o=s.date,a=s.minDate,l=s.maxDate,c=s.excludeDates,u=s.includeDates,h=s.filterDate,d=s.yearClassName;return Vr("react-datepicker__year-text","react-datepicker__year-".concat(i),o?d==null?void 0:d(No(o,i)):void 0,{"react-datepicker__year-text--selected":r.isSelectedYear(i),"react-datepicker__year-text--disabled":(a||l||c||u||h)&&r1(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})},r.getYearTabIndex=function(i){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var s=Nt(r.props.preSelection),o=r1(i,r.props);return i===s&&!o?"0":"-1"},r.getYearContent=function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i},r}return e.prototype.render=function(){var t=this,r=[],i=this.props,s=i.date,o=i.yearItemNumber,a=i.onYearMouseEnter,l=i.onYearMouseLeave;if(s===void 0)return null;for(var c=ic(s,o),u=c.startPeriod,h=c.endPeriod,d=function(w){r.push(Ae.createElement("div",{ref:f.YEAR_REFS[w-u],onClick:function(x){t.onYearClick(x,w)},onKeyDown:function(x){ED(x)&&(x.preventDefault(),x.key=Ze.Enter),t.onYearKeyDown(x,w)},tabIndex:Number(f.getYearTabIndex(w)),className:f.getYearClassNames(w),onMouseEnter:f.props.usePointerEvent?void 0:function(x){return a(x,w)},onPointerEnter:f.props.usePointerEvent?function(x){return a(x,w)}:void 0,onMouseLeave:f.props.usePointerEvent?void 0:function(x){return l(x,w)},onPointerLeave:f.props.usePointerEvent?function(x){return l(x,w)}:void 0,key:w,"aria-current":f.isCurrentYear(w)?"date":void 0},f.getYearContent(w)))},f=this,g=u;g<=h;g++)d(g);return Ae.createElement("div",{className:"react-datepicker__year"},Ae.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},e}(ee.Component);function WJ(n,e,t,r){for(var i=[],s=0;s<2*e+1;s++){var o=n+e-s,a=!0;t&&(a=Nt(t)<=o),r&&a&&(a=Nt(r)>=o),a&&i.push(o)}return i}var HJ=function(n){Cr(e,n);function e(t){var r=n.call(this,t)||this;r.renderOptions=function(){var a=r.props.year,l=r.state.yearsList.map(function(h){return Ae.createElement("div",{className:a===h?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:h,onClick:r.onChange.bind(r,h),"aria-selected":a===h?"true":void 0},a===h?Ae.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",h)}),c=r.props.minDate?Nt(r.props.minDate):null,u=r.props.maxDate?Nt(r.props.maxDate):null;return(!u||!r.state.yearsList.find(function(h){return h===u}))&&l.unshift(Ae.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},Ae.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!c||!r.state.yearsList.find(function(h){return h===c}))&&l.push(Ae.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},Ae.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),l},r.onChange=function(a){r.props.onChange(a)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(a){var l=r.state.yearsList.map(function(c){return c+a});r.setState({yearsList:l})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=t.yearDropdownItemNumber,s=t.scrollableYearDropdown,o=i||(s?10:5);return r.state={yearsList:WJ(r.props.year,o,r.props.minDate,r.props.maxDate)},r.dropdownRef=ee.createRef(),r}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var r=t.children?Array.from(t.children):null,i=r?r.find(function(s){return s.ariaSelected}):null;t.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=Vr({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return Ae.createElement(Ay,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(ee.Component),qJ=function(n){Cr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=t.props.minDate?Nt(t.props.minDate):1900,i=t.props.maxDate?Nt(t.props.maxDate):2100,s=[],o=r;o<=i;o++)s.push(Ae.createElement("option",{key:o,value:o},o));return s},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return Ae.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){return Ae.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return t.toggleDropdown(i)}},Ae.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),Ae.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return Ae.createElement(HJ,Wt({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,i=[t.renderReadView(!r)];return r&&i.unshift(t.renderDropdown()),i},t.onChange=function(r){t.toggleDropdown(),r!==t.props.year&&t.props.onChange(r)},t.toggleDropdown=function(r){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,r)})},t.handleYearChange=function(r,i){var s;(s=t.onSelect)===null||s===void 0||s.call(t,r,i),t.setOpen()},t.onSelect=function(r,i){var s,o;(o=(s=t.props).onSelect)===null||o===void 0||o.call(s,r,i)},t.setOpen=function(){var r,i;(i=(r=t.props).setOpen)===null||i===void 0||i.call(r,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return Ae.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(ee.Component),$J=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],YJ=function(n){var e=(n.className||"").split(/\s+/);return $J.some(function(t){return e.indexOf(t)>=0})},GJ=function(n){Cr(e,n);function e(t){var r=n.call(this,t)||this;return r.monthContainer=void 0,r.handleClickOutside=function(i){r.props.onClickOutside(i)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(i){var s,o;YJ(i.target)&&((o=(s=r.props).onDropdownFocus)===null||o===void 0||o.call(s,i))},r.getDateInView=function(){var i=r.props,s=i.preSelection,o=i.selected,a=i.openToDate,l=xD(r.props),c=SD(r.props),u=tn(),h=a||o||s;return h||(l&&Dc(u,l)?l:c&&Za(u,c)?c:u)},r.increaseMonth=function(){r.setState(function(i){var s=i.date;return{date:oo(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(i){var s=i.date;return{date:bc(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(i,s,o){r.props.onSelect(i,s,o),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleDayMouseEnter=function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(i,s){r.setState({selectingDate:No(tn(),s)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,s)},r.handleYearMouseLeave=function(i,s){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,s)},r.handleYearChange=function(i){var s,o,a,l;(o=(s=r.props).onYearChange)===null||o===void 0||o.call(s,i),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(i),(l=(a=r.props).setOpen)===null||l===void 0||l.call(a,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.getEnabledPreSelectionDateForMonth=function(i){if(!Es(i,r.props))return i;for(var s=za(i),o=mJ(i),a=PG(o,s),l=null,c=0;c<=a;c++){var u=to(s,c);if(!Es(u,r.props)){l=u;break}}return l},r.handleMonthChange=function(i){var s,o,a,l=(s=r.getEnabledPreSelectionDateForMonth(i))!==null&&s!==void 0?s:i;r.handleCustomMonthChange(l),r.props.adjustDateOnChange&&(r.props.onSelect(l),(a=(o=r.props).setOpen)===null||a===void 0||a.call(o,!0)),r.props.setPreSelection&&r.props.setPreSelection(l)},r.handleCustomMonthChange=function(i){var s,o;(o=(s=r.props).onMonthChange)===null||o===void 0||o.call(s,i),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(i){r.handleYearChange(i),r.handleMonthChange(i)},r.changeYear=function(i){r.setState(function(s){var o=s.date;return{date:No(o,Number(i))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(i){r.setState(function(s){var o=s.date;return{date:bs(o,Number(i))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(i){r.setState(function(s){var o=s.date;return{date:No(bs(o,oi(i)),Nt(i))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(i){i===void 0&&(i=r.state.date);var s=xc(i,r.props.locale,r.props.calendarStartDay),o=[];return r.props.showWeekNumbers&&o.push(Ae.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),o.concat([0,1,2,3,4,5,6].map(function(a){var l=to(s,a),c=r.formatWeekday(l,r.props.locale),u=r.props.weekDayClassName?r.props.weekDayClassName(l):void 0;return Ae.createElement("div",{key:a,"aria-label":Dn(l,"EEEE",r.props.locale),className:Vr("react-datepicker__day-name",u)},c)}))},r.formatWeekday=function(i,s){return r.props.formatWeekDay?gJ(i,r.props.formatWeekDay,s):r.props.useWeekdaysShort?yJ(i,s):vJ(i,s)},r.decreaseYear=function(){r.setState(function(i){var s,o=i.date;return{date:Ud(o,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var i,s,o;if(!r.props.renderCustomHeader){var a=(i=r.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,l=r.props.showPreviousMonths?a-1:0,c=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:l,u=bc(r.state.date,c),h;switch(!0){case r.props.showMonthYearPicker:h=_A(r.state.date,r.props);break;case r.props.showYearPicker:h=SJ(r.state.date,r.props);break;case r.props.showQuarterYearPicker:h=bJ(r.state.date,r.props);break;default:h=vA(u,r.props);break}if(!(!((o=r.props.forceShowMonthNavigation)!==null&&o!==void 0?o:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&h||r.props.showTimeSelectOnly)){var d=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],f=["react-datepicker__navigation","react-datepicker__navigation--previous"],g=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(g=r.decreaseYear),h&&r.props.showDisabledMonthNavigation&&(f.push("react-datepicker__navigation--previous--disabled"),g=void 0);var w=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,x=r.props,_=x.previousMonthButtonLabel,b=_===void 0?e.defaultProps.previousMonthButtonLabel:_,E=x.previousYearButtonLabel,R=E===void 0?e.defaultProps.previousYearButtonLabel:E,O=r.props,V=O.previousMonthAriaLabel,C=V===void 0?typeof b=="string"?b:"Previous Month":V,y=O.previousYearAriaLabel,S=y===void 0?typeof R=="string"?R:"Previous Year":y;return Ae.createElement("button",{type:"button",className:f.join(" "),onClick:g,onKeyDown:r.props.handleOnKeyDown,"aria-label":w?S:C},Ae.createElement("span",{className:d.join(" ")},w?R:b))}}},r.increaseYear=function(){r.setState(function(i){var s,o=i.date;return{date:ja(o,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var i;if(!r.props.renderCustomHeader){var s;switch(!0){case r.props.showMonthYearPicker:s=wA(r.state.date,r.props);break;case r.props.showYearPicker:s=EJ(r.state.date,r.props);break;case r.props.showQuarterYearPicker:s=xJ(r.state.date,r.props);break;default:s=yA(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&s||r.props.showTimeSelectOnly)){var o=["react-datepicker__navigation","react-datepicker__navigation--next"],a=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var l=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(l=r.increaseYear),s&&r.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),l=void 0);var c=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,u=r.props,h=u.nextMonthButtonLabel,d=h===void 0?e.defaultProps.nextMonthButtonLabel:h,f=u.nextYearButtonLabel,g=f===void 0?e.defaultProps.nextYearButtonLabel:f,w=r.props,x=w.nextMonthAriaLabel,_=x===void 0?typeof d=="string"?d:"Next Month":x,b=w.nextYearAriaLabel,E=b===void 0?typeof g=="string"?g:"Next Year":b;return Ae.createElement("button",{type:"button",className:o.join(" "),onClick:l,onKeyDown:r.props.handleOnKeyDown,"aria-label":c?E:_},Ae.createElement("span",{className:a.join(" ")},c?g:d))}}},r.renderCurrentMonth=function(i){i===void 0&&(i=r.state.date);var s=["react-datepicker__current-month"];return r.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),Ae.createElement("h2",{className:s.join(" ")},Dn(i,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showYearDropdown||i))return Ae.createElement(qJ,Wt({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:Nt(r.state.date)}))},r.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthDropdown||i))return Ae.createElement(FJ,Wt({},e.defaultProps,r.props,{month:oi(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthYearDropdown||i))return Ae.createElement(BJ,Wt({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(i){r.props.onSelect(dA(),i),r.props.setPreSelection&&r.props.setPreSelection(dA())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return Ae.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(i){var s=i.monthDate,o=i.i;return Ae.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(s),Ae.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(o!==0),r.renderMonthYearDropdown(o!==0),r.renderYearDropdown(o!==0)),Ae.createElement("div",{className:"react-datepicker__day-names"},r.header(s)))},r.renderCustomHeader=function(i){var s,o,a=i.monthDate,l=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var c=vA(r.state.date,r.props),u=yA(r.state.date,r.props),h=_A(r.state.date,r.props),d=wA(r.state.date,r.props),f=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return Ae.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(o=(s=r.props).renderCustomHeader)===null||o===void 0?void 0:o.call(s,Wt(Wt({},r.state),{customHeaderCount:l,monthDate:a,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:c,nextMonthButtonDisabled:u,prevYearButtonDisabled:h,nextYearButtonDisabled:d})),f&&Ae.createElement("div",{className:"react-datepicker__day-names"},r.header(a)))},r.renderYearHeader=function(i){var s=i.monthDate,o=r.props,a=o.showYearPicker,l=o.yearItemNumber,c=l===void 0?e.defaultProps.yearItemNumber:l,u=ic(s,c),h=u.startPeriod,d=u.endPeriod;return Ae.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},a?"".concat(h," - ").concat(d):Nt(s))},r.renderHeader=function(i){var s=i.monthDate,o=i.i,a=o===void 0?0:o,l={monthDate:s,i:a};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(l);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(l);default:return r.renderDefaultHeader(l)}},r.renderMonths=function(){var i,s;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var o=[],a=(i=r.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,l=r.props.showPreviousMonths?a-1:0,c=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?ja(r.state.date,l):bc(r.state.date,l),u=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:l,h=0;h<a;++h){var d=h-u+l,f=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?ja(c,d):oo(c,d),g="month-".concat(h),w=h<a-1,x=h>0;o.push(Ae.createElement("div",{key:g,ref:function(_){r.monthContainer=_??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:f,i:h}),Ae.createElement(MJ,Wt({},e.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:f,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:h,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:w,monthShowsDuplicateDaysStart:x}))))}return o}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return Ae.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),Ae.createElement(zJ,Wt({},e.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return Ae.createElement(UJ,Wt({},e.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var i=r.props.selected?new Date(r.props.selected):void 0,s=i&&Py(i)&&!!r.props.selected,o=s?"".concat(xA(i.getHours()),":").concat(xA(i.getMinutes())):"";if(r.props.showTimeInput)return Ae.createElement(NJ,Wt({},e.defaultProps,r.props,{date:i,timeString:o,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var i,s=ic(r.state.date,(i=r.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber),o=s.startPeriod,a=s.endPeriod,l;return r.props.showYearPicker?l="".concat(o," - ").concat(a):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?l=Nt(r.state.date):l="".concat(Yx(oi(r.state.date),r.props.locale)," ").concat(Nt(r.state.date)),Ae.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&l)},r.renderChildren=function(){if(r.props.children)return Ae.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=ee.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Zm}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},e.prototype.componentDidUpdate=function(t){var r=this;if(this.props.preSelection&&(!zt(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var i=!_i(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!zt(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||lJ;return Ae.createElement(Ay,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},Ae.createElement("div",{style:{display:"contents"},ref:this.containerRef},Ae.createElement(t,{className:Vr("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e}(ee.Component),KJ=function(n){var e=n.icon,t=n.className,r=t===void 0?"":t,i=n.onClick,s="react-datepicker__calendar-icon";if(typeof e=="string")return Ae.createElement("i",{className:"".concat(s," ").concat(e," ").concat(r),"aria-hidden":"true",onClick:i});if(Ae.isValidElement(e)){var o=e;return Ae.cloneElement(o,{className:"".concat(o.props.className||""," ").concat(s," ").concat(r),onClick:function(a){typeof o.props.onClick=="function"&&o.props.onClick(a),typeof i=="function"&&i(a)}})}return Ae.createElement("svg",{className:"".concat(s," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},Ae.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},kD=function(n){Cr(e,n);function e(t){var r=n.call(this,t)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return UM.createPortal(this.props.children,this.el)},e}(ee.Component),QJ="[tabindex], a, button, input, select, textarea",XJ=function(n){return(n instanceof HTMLAnchorElement||!n.disabled)&&n.tabIndex!==-1},AD=function(n){Cr(e,n);function e(t){var r=n.call(this,t)||this;return r.getTabChildren=function(){var i;return Array.prototype.slice.call((i=r.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(QJ),1,-1).filter(XJ)},r.handleFocusStart=function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},r.handleFocusEnd=function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()},r.tabLoopRef=ee.createRef(),r}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?Ae.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},Ae.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,Ae.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(ee.Component);function JJ(n){var e=function(t){var r,i=typeof t.hidePopper=="boolean"?t.hidePopper:!0,s=ee.useRef(null),o=aJ(Wt({open:!i,whileElementsMounted:VX,placement:t.popperPlacement,middleware:Fo([GX({padding:15}),YX(10),KX({element:s})],(r=t.popperModifiers)!==null&&r!==void 0?r:[],!0)},t.popperProps)),a=Wt(Wt({},t),{hidePopper:i,popperProps:Wt(Wt({},o),{arrowRef:s})});return Ae.createElement(n,Wt({},a))};return e}var ZJ=function(n){Cr(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this.props,r=t.className,i=t.wrapperClassName,s=t.hidePopper,o=s===void 0?e.defaultProps.hidePopper:s,a=t.popperComponent,l=t.targetComponent,c=t.enableTabLoop,u=t.popperOnKeyDown,h=t.portalId,d=t.portalHost,f=t.popperProps,g=t.showArrow,w=void 0;if(!o){var x=Vr("react-datepicker-popper",r);w=Ae.createElement(AD,{enableTabLoop:c},Ae.createElement("div",{ref:f.refs.setFloating,style:f.floatingStyles,className:x,"data-placement":f.placement,onKeyDown:u},a,g&&Ae.createElement(eJ,{ref:f.arrowRef,context:f.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(w=ee.createElement(this.props.popperContainer,{},w)),h&&!o&&(w=Ae.createElement(kD,{portalId:h,portalHost:d},w));var _=Vr("react-datepicker-wrapper",i);return Ae.createElement(Ae.Fragment,null,Ae.createElement("div",{ref:f.refs.setReference,className:_},l),w)},e}(ee.Component),eZ=JJ(ZJ),TA="react-datepicker-ignore-onclickoutside";function tZ(n,e){return n&&e?oi(n)!==oi(e)||Nt(n)!==Nt(e):n!==e}var a_="Date input not valid.",h5=function(n){Cr(e,n);function e(t){var r=n.call(this,t)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:tn()},r.modifyHolidays=function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(s,o){var a=new Date(o.date);return Py(a)?Fo(Fo([],s,!0),[Wt(Wt({},o),{date:a})],!1):s},[])},r.calcInitialState=function(){var i,s=r.getPreSelection(),o=xD(r.props),a=SD(r.props),l=o&&Dc(s,n1(o))?o:a&&Za(s,fA(a))?a:s;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:l,highlightDates:bA(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(Wt(Wt({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(Wt(Wt({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var i,s;(s=(i=r.input)===null||i===void 0?void 0:i.focus)===null||s===void 0||s.call(i,{preventScroll:!0})},r.setBlur=function(){var i,s;(s=(i=r.input)===null||i===void 0?void 0:i.blur)===null||s===void 0||s.call(i),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(i,s){s===void 0&&(s=!1),r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:l_},function(){i||r.setState(function(o){return{focused:s?o.focused:!1}},function(){!s&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return Va(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(i){var s,o,a=r.state.wasHidden,l=a?r.state.open:!0;a&&r.resetHiddenStatus(),r.state.preventFocus||((o=(s=r.props).onFocus)===null||o===void 0||o.call(s,i),l&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(i){var s,o;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((o=(s=r.props).onBlur)===null||o===void 0||o.call(s,i)),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(i){var s,o;r.props.inline||r.setOpen(!1),(o=(s=r.props).onClickOutside)===null||o===void 0||o.call(s,i),r.props.withPortal&&i.preventDefault()},r.handleChange=function(){for(var i,s,o,a,l,c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];var h=c[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,c),!h||typeof h.isDefaultPrevented!="function"||h.isDefaultPrevented()))){r.setState({inputValue:(h==null?void 0:h.target)instanceof HTMLInputElement?h.target.value:null,lastPreSelectChange:nZ});var d=r.props,f=d.selectsRange,g=d.startDate,w=d.endDate,x=(i=r.props.dateFormat)!==null&&i!==void 0?i:e.defaultProps.dateFormat,_=(s=r.props.strictParsing)!==null&&s!==void 0?s:e.defaultProps.strictParsing,b=(h==null?void 0:h.target)instanceof HTMLInputElement?h.target.value:"";if(f){var E=b.split(x.includes("-")?_D:"-",2).map(function(k){return k.trim()}),R=E[0],O=E[1],V=i_(R??"",x,r.props.locale,_),C=i_(O??"",x,r.props.locale,_),y=(g==null?void 0:g.getTime())!==(V==null?void 0:V.getTime()),S=(w==null?void 0:w.getTime())!==(C==null?void 0:C.getTime());if(!y&&!S||V&&Es(V,r.props)||C&&Es(C,r.props))return;(a=(o=r.props).onChange)===null||a===void 0||a.call(o,[V,C],h)}else{var I=i_(b,x,r.props.locale,_,(l=r.props.selected)!==null&&l!==void 0?l:void 0);(I||!b)&&r.setSelected(I,h,!0)}}},r.handleSelect=function(i,s,o){if(!r.props.readOnly){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(s),r.setSelected(i,s,!1,o),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(i);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var a=r.props,l=a.startDate,c=a.endDate;l&&!c&&(r.props.swapRange||!kA(i,l))&&r.setOpen(!1)}}},r.setSelected=function(i,s,o,a){var l,c,u=i;if(r.props.showYearPicker){if(u!==null&&r1(Nt(u),r.props))return}else if(r.props.showMonthYearPicker){if(u!==null&&bD(u,r.props))return}else if(u!==null&&Es(u,r.props))return;var h=r.props,d=h.onChange,f=h.selectsRange,g=h.startDate,w=h.endDate,x=h.selectsMultiple,_=h.selectedDates,b=h.minTime,E=h.swapRange;if(!Tu(r.props.selected,u)||r.props.allowSameDay||f||x)if(u!==null&&(r.props.selected&&(!o||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(u=s_(u,{hour:Ba(r.props.selected),minute:Ua(r.props.selected),second:wc(r.props.selected)})),!o&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&b&&(u=s_(u,{hour:b.getHours(),minute:b.getMinutes(),second:b.getSeconds()})),r.props.inline||r.setState({preSelection:u}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:a})),f){var R=!g&&!w,O=g&&!w,V=g&&w;R?d==null||d([u,null],s):O&&(u===null?d==null||d([null,null],s):kA(u,g)?E?d==null||d([u,g],s):d==null||d([u,null],s):d==null||d([g,u],s)),V&&(d==null||d([u,null],s))}else if(x){if(u!==null)if(!(_!=null&&_.length))d==null||d([u],s);else{var C=_.some(function(S){return zt(S,u)});if(C){var y=_.filter(function(S){return!zt(S,u)});d==null||d(y,s)}else d==null||d(Fo(Fo([],_,!0),[u],!1),s)}}else d==null||d(u,s);o||((c=(l=r.props).onSelect)===null||c===void 0||c.call(l,u,s),r.setState({inputValue:null}))},r.setPreSelection=function(i){if(!r.props.readOnly){var s=Va(r.props.minDate),o=Va(r.props.maxDate),a=!0;if(i){var l=n1(i);if(s&&o)a=up(i,r.props.minDate,r.props.maxDate);else if(s){var c=n1(r.props.minDate);a=Za(i,c)||Tu(l,c)}else if(o){var u=fA(r.props.maxDate);a=Dc(i,u)||Tu(l,u)}}a&&r.setState({preSelection:i})}},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(i){var s,o;if(!(r.props.selectsRange||r.props.selectsMultiple)){var a=r.props.selected?r.props.selected:r.getPreSelection(),l=r.props.selected?i:s_(a,{hour:Ba(i),minute:Ua(i)});r.setState({preSelection:l}),(o=(s=r.props).onChange)===null||o===void 0||o.call(s,l),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var i,s;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(s=(i=r.props).onInputClick)===null||s===void 0||s.call(i)},r.onInputKeyDown=function(i){var s,o,a,l,c,u;(o=(s=r.props).onKeyDown)===null||o===void 0||o.call(s,i);var h=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(h===Ze.ArrowDown||h===Ze.ArrowUp||h===Ze.Enter)&&((a=r.onInputClick)===null||a===void 0||a.call(r));return}if(r.state.open){if(h===Ze.ArrowDown||h===Ze.ArrowUp){i.preventDefault();var d=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',f=((l=r.calendar)===null||l===void 0?void 0:l.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(d);f instanceof HTMLElement&&f.focus({preventScroll:!0});return}var g=tn(r.state.preSelection);h===Ze.Enter?(i.preventDefault(),i.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===l_?(r.handleSelect(g,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(g)):r.setOpen(!1)):h===Ze.Escape?(i.preventDefault(),i.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):h===Ze.Tab&&r.setOpen(!1),r.inputOk()||(u=(c=r.props).onInputError)===null||u===void 0||u.call(c,{code:1,msg:a_})}},r.onPortalKeyDown=function(i){var s=i.key;s===Ze.Escape&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(i){var s,o,a,l,c,u,h=r.props,d=h.minDate,f=h.maxDate,g=h.disabledKeyboardNavigation,w=h.showWeekPicker,x=h.shouldCloseOnSelect,_=h.locale,b=h.calendarStartDay,E=h.adjustDateOnChange,R=h.inline;if((o=(s=r.props).onKeyDown)===null||o===void 0||o.call(s,i),!g){var O=i.key,V=i.shiftKey,C=tn(r.state.preSelection),y=function(te,K){var q=K;switch(te){case Ze.ArrowRight:q=w?lv(K,1):to(K,1);break;case Ze.ArrowLeft:q=w?eA(K):Au(K,1);break;case Ze.ArrowUp:q=eA(K);break;case Ze.ArrowDown:q=lv(K,1);break;case Ze.PageUp:q=V?Ud(K,1):bc(K,1);break;case Ze.PageDown:q=V?ja(K,1):oo(K,1);break;case Ze.Home:q=xc(K,_,b);break;case Ze.End:q=pJ(K);break}return q},S=function(te,K){for(var q=40,W=te,H=!1,oe=0,le=y(te,K);!H;){if(oe>=q){le=K;break}d&&le<d&&(W=Ze.ArrowRight,le=Es(d,r.props)?y(W,le):d),f&&le>f&&(W=Ze.ArrowLeft,le=Es(f,r.props)?y(W,le):f),Es(le,r.props)?((W===Ze.PageUp||W===Ze.Home)&&(W=Ze.ArrowRight),(W===Ze.PageDown||W===Ze.End)&&(W=Ze.ArrowLeft),le=y(W,le)):H=!0,oe++}return le};if(O===Ze.Enter){i.preventDefault(),r.handleSelect(C,i),!x&&r.setPreSelection(C);return}else if(O===Ze.Escape){i.preventDefault(),r.setOpen(!1),r.inputOk()||(l=(a=r.props).onInputError)===null||l===void 0||l.call(a,{code:1,msg:a_});return}var I=null;switch(O){case Ze.ArrowLeft:case Ze.ArrowRight:case Ze.ArrowUp:case Ze.ArrowDown:case Ze.PageUp:case Ze.PageDown:case Ze.Home:case Ze.End:I=S(O,C);break}if(!I){(u=(c=r.props).onInputError)===null||u===void 0||u.call(c,{code:1,msg:a_});return}if(i.preventDefault(),r.setState({lastPreSelectChange:l_}),E&&r.setSelected(I),r.setPreSelection(I),R){var k=oi(C),P=oi(I),L=Nt(C),$=Nt(I);k!==P||L!==$?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(i){var s=i.key;s===Ze.Escape&&(i.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1))},r.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput();var s=r.props,o=s.selectsRange,a=s.onChange;o?a==null||a([null,null],i):a==null||a(null,i),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)},r.renderCalendar=function(){var i,s;return!r.props.inline&&!r.isCalendarOpen()?null:Ae.createElement(GJ,Wt({showMonthYearDropdown:void 0,ref:function(o){r.calendar=o}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(i=r.props.dateFormatCalendar)!==null&&i!==void 0?i:e.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:AJ(r.modifyHolidays()),outsideClickIgnoreClass:TA,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(s=r.props.dropdownMode)!==null&&s!==void 0?s:e.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var i=r.props,s=i.dateFormat,o=s===void 0?e.defaultProps.dateFormat:s,a=i.locale,l=r.props.showTimeInput||r.props.showTimeSelect,c=l?"PPPPp":"PPPP",u;return r.props.selectsRange?u="Selected start date: ".concat(ws(r.props.startDate,{dateFormat:c,locale:a}),". ").concat(r.props.endDate?"End date: "+ws(r.props.endDate,{dateFormat:c,locale:a}):""):r.props.showTimeSelectOnly?u="Selected time: ".concat(ws(r.props.selected,{dateFormat:o,locale:a})):r.props.showYearPicker?u="Selected year: ".concat(ws(r.props.selected,{dateFormat:"yyyy",locale:a})):r.props.showMonthYearPicker?u="Selected month: ".concat(ws(r.props.selected,{dateFormat:"MMMM yyyy",locale:a})):r.props.showQuarterYearPicker?u="Selected quarter: ".concat(ws(r.props.selected,{dateFormat:"yyyy, QQQ",locale:a})):u="Selected date: ".concat(ws(r.props.selected,{dateFormat:c,locale:a})),Ae.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},u)},r.renderDateInput=function(){var i,s,o,a=Vr(r.props.className,(i={},i[TA]=r.state.open,i)),l=r.props.customInput||Ae.createElement("input",{type:"text"}),c=r.props.customInputRef||"ref",u=r.props,h=u.dateFormat,d=h===void 0?e.defaultProps.dateFormat:h,f=u.locale,g=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?uJ(r.props.startDate,r.props.endDate,{dateFormat:d,locale:f}):r.props.selectsMultiple?hJ((o=r.props.selectedDates)!==null&&o!==void 0?o:[],{dateFormat:d,locale:f}):ws(r.props.selected,{dateFormat:d,locale:f});return ee.cloneElement(l,(s={},s[c]=function(w){r.input=w},s.value=g,s.onBlur=r.handleBlur,s.onChange=r.handleChange,s.onClick=r.onInputClick,s.onFocus=r.handleFocus,s.onKeyDown=r.onInputKeyDown,s.id=r.props.id,s.name=r.props.name,s.form=r.props.form,s.autoFocus=r.props.autoFocus,s.placeholder=r.props.placeholderText,s.disabled=r.props.disabled,s.autoComplete=r.props.autoComplete,s.className=Vr(l.props.className,a),s.title=r.props.title,s.readOnly=r.props.readOnly,s.required=r.props.required,s.tabIndex=r.props.tabIndex,s["aria-describedby"]=r.props.ariaDescribedBy,s["aria-invalid"]=r.props.ariaInvalid,s["aria-labelledby"]=r.props.ariaLabelledBy,s["aria-required"]=r.props.ariaRequired,s))},r.renderClearButton=function(){var i=r.props,s=i.isClearable,o=i.disabled,a=i.selected,l=i.startDate,c=i.endDate,u=i.clearButtonTitle,h=i.clearButtonClassName,d=h===void 0?"":h,f=i.ariaLabelClose,g=f===void 0?"Close":f,w=i.selectedDates,x=i.readOnly;return s&&!x&&(a!=null||l!=null||c!=null||w!=null&&w.length)?Ae.createElement("button",{type:"button",className:Vr("react-datepicker__close-icon",d,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":g,onClick:r.onClearClick,title:u,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Zm,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,r){var i,s,o,a;t.inline&&tZ(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:bA(this.props.highlightDates)}),!r.focused&&!Tu(t.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((s=(i=this.props).onCalendarOpen)===null||s===void 0||s.call(i)),r.open===!0&&this.state.open===!1&&((a=(o=this.props).onCalendarClose)===null||a===void 0||a.call(o)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,r=t.showIcon,i=t.icon,s=t.calendarIconClassname,o=t.calendarIconClassName,a=t.toggleCalendarOnIconClick,l=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),Ae.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&Ae.createElement(KJ,Wt({icon:i,className:Vr(o,!o&&s,l&&"react-datepicker-ignore-onclickoutside")},a?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var r=this.state.open?Ae.createElement(AD,{enableTabLoop:this.props.enableTabLoop},Ae.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(r=Ae.createElement(kD,Wt({portalId:this.props.portalId},this.props),r)),Ae.createElement("div",null,this.renderInputContainer(),r)}return Ae.createElement(eZ,Wt({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(ee.Component),nZ="input",l_="navigate";vy.register(n5,r5,X0,Q0,ap,op,QY,iG,GY);const rZ=[{key:"bar",name:"Barra"},{key:"line",name:"Linha"},{key:"pie",name:"Pizza"}],iZ={last7days:"ltimos 7 dias",last30days:"ltimos 30 dias",thisMonth:"Este Ms",lastMonth:"Ms Passado",custom:"Personalizado"};function sZ(){const[n,e]=ee.useState("bar"),[t,r]=ee.useState("last7days"),[i,s]=ee.useState([Au(new Date,6),new Date]),[o,a]=i,[l,c]=ee.useState("all"),[u,h]=ee.useState("all"),{docs:d,loading:f}=fn("products"),{docs:g,loading:w}=fn("categories"),{docs:x,loading:_}=fn("movements",{orderBy:["timestamp","desc"]});ee.useEffect(()=>{const S=new Date;switch(t){case"last7days":s([Yo(Au(S,6)),Op(S)]);break;case"last30days":s([Yo(Au(S,29)),Op(S)]);break;case"thisMonth":s([pv(S),fv(S)]);break;case"lastMonth":const I=bc(S,1);s([pv(I),fv(I)]);break;case"custom":break;default:s([Yo(Au(S,6)),Op(S)])}},[t]);const b=ee.useMemo(()=>d.map(S=>{const I=Object.values(S.locations||{}).reduce((k,P)=>k+(Number(P)||0),0);return{...S,totalQuantity:I}}).filter(S=>{const I=S.minStock||0;return I<=0?!1:S.totalQuantity<=I}),[d]),E=ee.useMemo(()=>x.filter(S=>S.type==="entrada").slice(0,5),[x]),R=ee.useMemo(()=>x.filter(S=>S.type==="saida").slice(0,5),[x]),O=ee.useMemo(()=>{const S=x.filter(P=>{var $;const L=($=P.timestamp)==null?void 0:$.toDate();return!L||!o||!a?!1:L>=o&&L<=a});if(n==="pie"){const P=S.filter($=>$.type==="entrada").reduce(($,te)=>$+te.quantity,0),L=S.filter($=>$.type==="saida").reduce(($,te)=>$+te.quantity,0);return{labels:["Entradas","Sadas"],datasets:[{data:[P,L],backgroundColor:["#16a34a","#dc2626"],borderColor:["#15803d","#b91c1c"],borderWidth:1}]}}const I=S.reduce((P,L)=>{const $=Bu(L.timestamp.toDate(),"dd/MM");return P[$]||(P[$]={entrada:0,saida:0}),P[$][L.type]+=L.quantity,P},{}),k=Object.keys(I).sort((P,L)=>new Date(P.split("/").reverse().join("-"))-new Date(L.split("/").reverse().join("-")));return{labels:k,datasets:[{label:"Entradas",data:k.map(P=>I[P].entrada),backgroundColor:"#16a34a"},{label:"Sadas",data:k.map(P=>I[P].saida),backgroundColor:"#dc2626"}]}},[x,o,a,n]),V={responsive:!0,plugins:{legend:{position:"top"},title:{display:!1}},scales:{x:{grid:{display:!1}},y:{beginAtZero:!0}}},C=ee.useMemo(()=>n==="line"?vG:n==="pie"?_G:yG,[n]),y=()=>{const I=d.map(te=>({...te,totalQuantity:Object.values(te.locations||{}).reduce((K,q)=>K+(Number(q)||0),0)})).filter(te=>{const K=l==="all"||te.categoryId===l,q=te.minStock||0;let W=!1;switch(u){case"in_stock":W=te.totalQuantity>0;break;case"low_stock":W=q>0&&te.totalQuantity<=q;break;case"out_of_stock":W=te.totalQuantity<=0;break;case"all":default:W=!0;break}return K&&W}),k=new ft;k.setFontSize(18),k.text("Relatrio de Estoque",14,22),k.setFontSize(11),k.setTextColor(100),k.text(`Data de Emisso: ${Bu(new Date,"dd/MM/yyyy")}`,14,30);const P=["Nome","Categoria","Quantidade","Preo Unit.","Valor Total"],L=[];I.forEach(te=>{var oe;const K=((oe=g.find(le=>le.id===te.categoryId))==null?void 0:oe.name)||"N/A",q=te.price||0,W=q*te.totalQuantity,H=[te.name,K,te.totalQuantity,q.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),W.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})];L.push(H)}),k.autoTable(P,L,{startY:35});const $=k.internal.getNumberOfPages();for(let te=1;te<=$;te++)k.setPage(te),k.setFontSize(9),k.text(`Pgina ${te} de ${$}`,k.internal.pageSize.width-20,k.internal.pageSize.height-10);k.save(`relatorio_estoque_${Bu(new Date,"yyyy-MM-dd")}.pdf`)};return f||_||w?T.jsx("div",{className:"flex justify-center items-center h-screen",children:T.jsx("p",{children:"Carregando..."})}):T.jsxs("div",{className:"p-4 md:p-6 bg-gray-50 min-h-screen",children:[T.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Dashboard de Movimentaes"}),T.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md mb-6",children:T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Grfico"}),T.jsx("div",{className:"flex items-center border border-gray-300 rounded-md p-0.5 w-min",children:rZ.map(({key:S,name:I})=>T.jsx("button",{onClick:()=>e(S),className:`px-4 py-1.5 text-sm font-semibold rounded-md transition-colors ${n===S?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"}`,children:I},S))})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"period-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Perodo"}),T.jsx("select",{id:"period-select",value:t,onChange:S=>r(S.target.value),className:"w-full md:w-64 p-2 border border-gray-300 rounded-md shadow-sm",children:Object.entries(iZ).map(([S,I])=>T.jsx("option",{value:S,children:I},S))}),t==="custom"&&T.jsx("div",{className:"mt-2",children:T.jsx(h5,{selectsRange:!0,startDate:o,endDate:a,onChange:S=>s(S),isClearable:!0,className:"w-full md:w-64 p-2 border border-gray-300 rounded-md",dateFormat:"dd/MM/yyyy"})})]})]})}),T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[T.jsx("div",{className:"lg:col-span-2 bg-white p-6 rounded-lg shadow-md",children:T.jsx(C,{options:V,data:O})}),T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{className:"bg-yellow-100 border-l-4 border-yellow-400 p-4 rounded-r-lg",children:[T.jsx("h3",{className:"font-bold text-yellow-800 mb-2",children:"Alerta de Estoque Baixo"}),T.jsx("div",{className:"space-y-1 text-sm text-yellow-700 max-h-40 overflow-y-auto",children:b.length>0?b.map(S=>T.jsxs("p",{children:[S.name,": ",T.jsx("span",{className:"font-semibold",children:S.totalQuantity})," / ",S.minStock," ",S.unit||"UN"]},S.id)):T.jsx("p",{children:"Nenhum produto com estoque baixo."})})]}),T.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[T.jsx("h3",{className:"font-bold text-green-700 mb-2",children:"Top 5 Entradas Recentes"}),T.jsx("div",{className:"space-y-1 text-sm text-gray-600",children:E.map(S=>T.jsxs("p",{children:[T.jsxs("span",{className:"font-semibold",children:[S.quantity,"x"]})," ",S.productName]},S.id))})]}),T.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[T.jsx("h3",{className:"font-bold text-red-700 mb-2",children:"Top 5 Sadas Recentes"}),T.jsx("div",{className:"space-y-1 text-sm text-gray-600",children:R.map(S=>T.jsxs("p",{children:[T.jsxs("span",{className:"font-semibold",children:[S.quantity,"x"]})," ",S.productName]},S.id))})]})]})]}),T.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mt-6",children:[T.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Gerar Relatrio de Estoque"}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[T.jsxs("div",{children:[T.jsx("label",{htmlFor:"report-category",className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),T.jsxs("select",{id:"report-category",value:l,onChange:S=>c(S.target.value),className:"w-full p-2 border border-gray-300 rounded-md shadow-sm",children:[T.jsx("option",{value:"all",children:"Todas"}),g.map(S=>T.jsx("option",{value:S.id,children:S.name},S.id))]})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"report-status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status do Estoque"}),T.jsxs("select",{id:"report-status",value:u,onChange:S=>h(S.target.value),className:"w-full p-2 border border-gray-300 rounded-md shadow-sm",children:[T.jsx("option",{value:"all",children:"Todos"}),T.jsx("option",{value:"in_stock",children:"Em estoque"}),T.jsx("option",{value:"low_stock",children:"Baixo estoque"}),T.jsx("option",{value:"out_of_stock",children:"Sem estoque"})]})]}),T.jsxs("button",{onClick:y,className:"flex items-center justify-center p-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 font-semibold",children:[T.jsx(DI,{className:"mr-2"}),"Gerar Relatrio"]})]})]})]})}function oZ({isOpen:n,onClose:e,categoryToEdit:t}){const[r,i]=ee.useState(""),[s,o]=ee.useState(!1),[a,l]=ee.useState(""),c=!!t;ee.useEffect(()=>{i(c&&t.name||""),l("")},[t,n]);const u=async h=>{if(h.preventDefault(),!r.trim()){l("O nome da categoria no pode estar vazio.");return}o(!0),l("");const d=bt.loading(c?"Atualizando categoria...":"Criando categoria...");try{if(c){const f=qn(Zt,"categories",t.id);await hy(f,{name:r.trim()}),bt.success("Categoria atualizada com sucesso!",{id:d})}else await af(zi(Zt,"categories"),{name:r.trim(),createdAt:new Date}),bt.success("Categoria criada com sucesso!",{id:d});i(""),e()}catch(f){console.error("Error saving category:",f),console.error("Error details:",{code:f.code,message:f.message,stack:f.stack});let g="Falha ao salvar a categoria.";f.code==="permission-denied"?g="Voc no tem permisso para salvar categorias. Verifique se est autenticado.":f.code==="unavailable"?g="Servio temporariamente indisponvel. Tente novamente.":f.code==="invalid-argument"&&(g="Dados invlidos fornecidos."),l(g),bt.error(g,{id:d})}o(!1)};return n?T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:T.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-xl w-full max-w-md",children:[T.jsx("h2",{className:"text-2xl font-bold mb-6",children:c?"Editar Categoria":"Adicionar Nova Categoria"}),T.jsxs("form",{onSubmit:u,className:"space-y-4",children:[a&&T.jsx("p",{className:"bg-red-100 text-red-700 p-3 rounded-lg",children:a}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"category-name",className:"block text-sm font-medium text-gray-700",children:"Nome da Categoria"}),T.jsx("input",{type:"text",id:"category-name",value:r,onChange:h=>i(h.target.value),required:!0,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Eletrnicos",autoFocus:!0})]}),T.jsxs("div",{className:"flex justify-end pt-4 space-x-4",children:[T.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 bg-gray-300 text-gray-800 rounded-lg hover:bg-gray-400 transition duration-300",children:"Cancelar"}),T.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-blue-300 transition duration-300",children:s?"Salvando...":"Salvar"})]})]})]})}):null}function aZ(){const{currentUser:n,userData:e}=Ai(),{docs:t,loading:r}=fn("categories",{field:"name",direction:"asc"}),[i,s]=ee.useState(!1),[o,a]=ee.useState(null),l=n&&((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="editor"||!(e!=null&&e.role)),c=(d=null)=>{a(d),s(!0)},u=()=>{a(null),s(!1)},h=async d=>{if(window.confirm("Tem certeza que deseja excluir esta categoria?")){const f=cx(qn(Zt,"categories",d));bt.promise(f,{loading:"Excluindo categoria...",success:"Categoria excluda com sucesso!",error:"Falha ao excluir a categoria."})}};return T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[T.jsxs("div",{className:"flex justify-between items-center mb-4",children:[T.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Cadastro de Categorias"}),l&&T.jsxs("button",{onClick:()=>c(),className:"flex items-center bg-blue-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-600 transition duration-300",children:[T.jsx(pm,{className:"mr-2"}),"Nova Categoria"]})]}),T.jsx("div",{className:"mt-4",children:r?T.jsx(gx,{count:3}):T.jsx("ul",{className:"space-y-3",children:t.length>0?t.map(d=>T.jsxs("li",{className:"flex items-center justify-between p-3 even:bg-gray-50 rounded-md",children:[T.jsx("span",{className:"text-gray-800 font-medium",children:d.name}),l&&T.jsxs("div",{className:"flex gap-3",children:[T.jsx("button",{onClick:()=>c(d),className:"text-blue-500 hover:text-blue-700 transition-colors",children:T.jsx(NI,{size:16})}),T.jsx("button",{onClick:()=>h(d.id),className:"text-red-500 hover:text-red-700 transition-colors",children:T.jsx(RI,{size:16})})]})]},d.id)):T.jsx("p",{className:"text-gray-500 text-center py-4",children:"Nenhuma categoria encontrada."})})})]}),l&&T.jsx(oZ,{isOpen:i,onClose:u,categoryToEdit:o})]})}function lZ({isOpen:n,onClose:e,locationToEdit:t}){const[r,i]=ee.useState(""),[s,o]=ee.useState(!1),[a,l]=ee.useState(""),c=!!t;ee.useEffect(()=>{n&&(i(c&&t.name||""),l(""))},[t,n,c]);const u=async h=>{if(h.preventDefault(),!r.trim()){l("O nome da localidade no pode estar vazio.");return}o(!0),l("");try{if(c){const d=qn(Zt,"locations",t.id);await hy(d,{name:r}),bt.success("Localidade atualizada com sucesso!")}else await af(zi(Zt,"locations"),{name:r}),bt.success("Localidade adicionada com sucesso!");e()}catch(d){console.error("Error saving location:",d);const f=`Falha ao salvar: ${d.message}`;l(f),bt.error(f)}finally{o(!1)}};return n?T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:T.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-xl w-full max-w-md",children:[T.jsx("h2",{className:"text-2xl font-bold mb-6",children:c?"Editar Localidade":"Adicionar Nova Localidade"}),T.jsxs("form",{onSubmit:u,className:"space-y-4",children:[a&&T.jsx("p",{className:"bg-red-100 text-red-700 p-3 rounded-lg",children:a}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"location-name",className:"block text-sm font-medium text-gray-700",children:"Nome da Localidade"}),T.jsx("input",{type:"text",id:"location-name",value:r,onChange:h=>i(h.target.value),required:!0,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Armazm Principal",autoFocus:!0})]}),T.jsxs("div",{className:"flex justify-end pt-4 space-x-4",children:[T.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 bg-gray-300 text-gray-800 rounded-lg hover:bg-gray-400 transition duration-300",children:"Cancelar"}),T.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-blue-300 transition duration-300",children:s?"Salvando...":"Salvar"})]})]})]})}):null}const cZ=()=>{const{docs:n,loading:e}=fn("locations",{field:"name",direction:"asc"}),[t,r]=ee.useState(!1),[i,s]=ee.useState(null),o=(c=null)=>{s(c),r(!0)},a=()=>{s(null),r(!1)},l=async c=>{if(!window.confirm("Tem certeza que deseja excluir esta localidade? Esta ao no pode ser desfeita."))return;const u=qn(Zt,"locations",c),h=cx(u);bt.promise(h,{loading:"Excluindo localidade...",success:"Localidade excluda com sucesso!",error:d=>`Falha ao excluir: ${d.message}`})};return T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[T.jsxs("div",{className:"flex justify-between items-center mb-4",children:[T.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Cadastro de Localidades"}),T.jsxs("button",{onClick:()=>o(),className:"flex items-center bg-blue-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-600 transition duration-300",children:[T.jsx(pm,{className:"mr-2"}),"Nova Localidade"]})]}),T.jsx("div",{className:"mt-4",children:e?T.jsx(gx,{count:3}):T.jsx("ul",{className:"space-y-3",children:n.length>0?n.map(c=>T.jsxs("li",{className:"flex items-center justify-between p-3 even:bg-gray-50 rounded-md",children:[T.jsx("span",{className:"text-gray-800 font-medium",children:c.name}),T.jsxs("div",{className:"flex gap-3",children:[T.jsx("button",{onClick:()=>o(c),className:"text-blue-500 hover:text-blue-700 transition-colors",children:T.jsx(NI,{size:16})}),T.jsx("button",{onClick:()=>l(c.id),className:"text-red-500 hover:text-red-700 transition-colors",children:T.jsx(RI,{size:16})})]})]},c.id)):T.jsx("p",{className:"text-gray-500 text-center py-4",children:"Nenhuma localidade encontrada."})})})]}),T.jsx(lZ,{isOpen:t,onClose:a,locationToEdit:i})]})},uZ=()=>{const[n,e]=ee.useState(!1),{userData:t}=Ai(),{docs:r}=fn("locations");return T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[T.jsxs("div",{className:"flex items-center justify-between mb-4",children:[T.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Cadastro de Produtos"}),T.jsxs("button",{onClick:()=>e(!0),className:"flex items-center bg-blue-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-600 transition duration-300",children:[T.jsx(pm,{className:"mr-2"}),"Adicionar Produto"]})]}),T.jsx("p",{className:"text-gray-600",children:"Clique no boto para adicionar um novo item ao seu inventrio. Voc poder definir nome, categoria, estoque mnimo e as quantidades em cada local de armazenamento."})]}),T.jsx(n6,{isOpen:n,onClose:()=>e(!1),productToEdit:null,locations:r||[],userData:t})]})};var PD={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(n,e){((t,r)=>{n.exports=r()})(S0,function t(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,s=!r.document&&!!r.postMessage,o=r.IS_PAPA_WORKER||!1,a={},l=0,c={};function u(y){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(S){var I=O(S);I.chunkSize=parseInt(I.chunkSize),S.step||S.chunk||(I.chunkSize=null),this._handle=new w(I),(this._handle.streamer=this)._config=I}).call(this,y),this.parseChunk=function(S,I){var k=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<k){let L=this._config.newline;L||(P=this._config.quoteChar||'"',L=this._handle.guessLineEndings(S,P)),S=[...S.split(L).slice(k)].join(L)}this.isFirstChunk&&C(this._config.beforeFirstChunk)&&(P=this._config.beforeFirstChunk(S))!==void 0&&(S=P),this.isFirstChunk=!1,this._halted=!1;var k=this._partialLine+S,P=(this._partialLine="",this._handle.parse(k,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(S=P.meta.cursor,k=(this._finished||(this._partialLine=k.substring(S-this._baseIndex),this._baseIndex=S),P&&P.data&&(this._rowCount+=P.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)r.postMessage({results:P,workerId:c.WORKER_ID,finished:k});else if(C(this._config.chunk)&&!I){if(this._config.chunk(P,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=P=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(P.data),this._completeResults.errors=this._completeResults.errors.concat(P.errors),this._completeResults.meta=P.meta),this._completed||!k||!C(this._config.complete)||P&&P.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),k||P&&P.meta.paused||this._nextChunk(),P}this._halted=!0},this._sendError=function(S){C(this._config.error)?this._config.error(S):o&&this._config.error&&r.postMessage({workerId:c.WORKER_ID,error:S,finished:!1})}}function h(y){var S;(y=y||{}).chunkSize||(y.chunkSize=c.RemoteChunkSize),u.call(this,y),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(I){this._input=I,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(S=new XMLHttpRequest,this._config.withCredentials&&(S.withCredentials=this._config.withCredentials),s||(S.onload=V(this._chunkLoaded,this),S.onerror=V(this._chunkError,this)),S.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var I,k=this._config.downloadRequestHeaders;for(I in k)S.setRequestHeader(I,k[I])}var P;this._config.chunkSize&&(P=this._start+this._config.chunkSize-1,S.setRequestHeader("Range","bytes="+this._start+"-"+P));try{S.send(this._config.downloadRequestBody)}catch(L){this._chunkError(L.message)}s&&S.status===0&&this._chunkError()}},this._chunkLoaded=function(){S.readyState===4&&(S.status<200||400<=S.status?this._chunkError():(this._start+=this._config.chunkSize||S.responseText.length,this._finished=!this._config.chunkSize||this._start>=(I=>(I=I.getResponseHeader("Content-Range"))!==null?parseInt(I.substring(I.lastIndexOf("/")+1)):-1)(S),this.parseChunk(S.responseText)))},this._chunkError=function(I){I=S.statusText||I,this._sendError(new Error(I))}}function d(y){(y=y||{}).chunkSize||(y.chunkSize=c.LocalChunkSize),u.call(this,y);var S,I,k=typeof FileReader<"u";this.stream=function(P){this._input=P,I=P.slice||P.webkitSlice||P.mozSlice,k?((S=new FileReader).onload=V(this._chunkLoaded,this),S.onerror=V(this._chunkError,this)):S=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var P=this._input,L=(this._config.chunkSize&&(L=Math.min(this._start+this._config.chunkSize,this._input.size),P=I.call(P,this._start,L)),S.readAsText(P,this._config.encoding));k||this._chunkLoaded({target:{result:L}})},this._chunkLoaded=function(P){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(P.target.result)},this._chunkError=function(){this._sendError(S.error)}}function f(y){var S;u.call(this,y=y||{}),this.stream=function(I){return S=I,this._nextChunk()},this._nextChunk=function(){var I,k;if(!this._finished)return I=this._config.chunkSize,S=I?(k=S.substring(0,I),S.substring(I)):(k=S,""),this._finished=!S,this.parseChunk(k)}}function g(y){u.call(this,y=y||{});var S=[],I=!0,k=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(P){this._input=P,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){k&&S.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),S.length?this.parseChunk(S.shift()):I=!0},this._streamData=V(function(P){try{S.push(typeof P=="string"?P:P.toString(this._config.encoding)),I&&(I=!1,this._checkIsFinished(),this.parseChunk(S.shift()))}catch(L){this._streamError(L)}},this),this._streamError=V(function(P){this._streamCleanUp(),this._sendError(P)},this),this._streamEnd=V(function(){this._streamCleanUp(),k=!0,this._streamData("")},this),this._streamCleanUp=V(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function w(y){var S,I,k,P,L=Math.pow(2,53),$=-L,te=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,K=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,q=this,W=0,H=0,oe=!1,le=!1,j=[],z={data:[],errors:[],meta:{}};function Z(de){return y.skipEmptyLines==="greedy"?de.join("").trim()==="":de.length===1&&de[0].length===0}function ne(){if(z&&k&&(fe("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),k=!1),y.skipEmptyLines&&(z.data=z.data.filter(function(Se){return!Z(Se)})),se()){let Se=function(Me,Ve){C(y.transformHeader)&&(Me=y.transformHeader(Me,Ve)),j.push(Me)};if(z)if(Array.isArray(z.data[0])){for(var de=0;se()&&de<z.data.length;de++)z.data[de].forEach(Se);z.data.splice(0,1)}else z.data.forEach(Se)}function ge(Se,Me){for(var Ve=y.header?{}:[],qe=0;qe<Se.length;qe++){var xe=qe,ie=Se[qe],ie=((ct,Fe)=>(Ce=>(y.dynamicTypingFunction&&y.dynamicTyping[Ce]===void 0&&(y.dynamicTyping[Ce]=y.dynamicTypingFunction(Ce)),(y.dynamicTyping[Ce]||y.dynamicTyping)===!0))(ct)?Fe==="true"||Fe==="TRUE"||Fe!=="false"&&Fe!=="FALSE"&&((Ce=>{if(te.test(Ce)&&(Ce=parseFloat(Ce),$<Ce&&Ce<L))return 1})(Fe)?parseFloat(Fe):K.test(Fe)?new Date(Fe):Fe===""?null:Fe):Fe)(xe=y.header?qe>=j.length?"__parsed_extra":j[qe]:xe,ie=y.transform?y.transform(ie,xe):ie);xe==="__parsed_extra"?(Ve[xe]=Ve[xe]||[],Ve[xe].push(ie)):Ve[xe]=ie}return y.header&&(qe>j.length?fe("FieldMismatch","TooManyFields","Too many fields: expected "+j.length+" fields but parsed "+qe,H+Me):qe<j.length&&fe("FieldMismatch","TooFewFields","Too few fields: expected "+j.length+" fields but parsed "+qe,H+Me)),Ve}var Te;z&&(y.header||y.dynamicTyping||y.transform)&&(Te=1,!z.data.length||Array.isArray(z.data[0])?(z.data=z.data.map(ge),Te=z.data.length):z.data=ge(z.data,0),y.header&&z.meta&&(z.meta.fields=j),H+=Te)}function se(){return y.header&&j.length===0}function fe(de,ge,Te,Se){de={type:de,code:ge,message:Te},Se!==void 0&&(de.row=Se),z.errors.push(de)}C(y.step)&&(P=y.step,y.step=function(de){z=de,se()?ne():(ne(),z.data.length!==0&&(W+=de.data.length,y.preview&&W>y.preview?I.abort():(z.data=z.data[0],P(z,q))))}),this.parse=function(de,ge,Te){var Se=y.quoteChar||'"',Se=(y.newline||(y.newline=this.guessLineEndings(de,Se)),k=!1,y.delimiter?C(y.delimiter)&&(y.delimiter=y.delimiter(de),z.meta.delimiter=y.delimiter):((Se=((Me,Ve,qe,xe,ie)=>{var ct,Fe,Ce,ze;ie=ie||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var He=0;He<ie.length;He++){for(var We,rt=ie[He],it=0,ut=0,Xe=0,ot=(Ce=void 0,new _({comments:xe,delimiter:rt,newline:Ve,preview:10}).parse(Me)),At=0;At<ot.data.length;At++)qe&&Z(ot.data[At])?Xe++:(We=ot.data[At].length,ut+=We,Ce===void 0?Ce=We:0<We&&(it+=Math.abs(We-Ce),Ce=We));0<ot.data.length&&(ut/=ot.data.length-Xe),(Fe===void 0||it<=Fe)&&(ze===void 0||ze<ut)&&1.99<ut&&(Fe=it,ct=rt,ze=ut)}return{successful:!!(y.delimiter=ct),bestDelimiter:ct}})(de,y.newline,y.skipEmptyLines,y.comments,y.delimitersToGuess)).successful?y.delimiter=Se.bestDelimiter:(k=!0,y.delimiter=c.DefaultDelimiter),z.meta.delimiter=y.delimiter),O(y));return y.preview&&y.header&&Se.preview++,S=de,I=new _(Se),z=I.parse(S,ge,Te),ne(),oe?{meta:{paused:!0}}:z||{meta:{paused:!1}}},this.paused=function(){return oe},this.pause=function(){oe=!0,I.abort(),S=C(y.chunk)?"":S.substring(I.getCharIndex())},this.resume=function(){q.streamer._halted?(oe=!1,q.streamer.parseChunk(S,!0)):setTimeout(q.resume,3)},this.aborted=function(){return le},this.abort=function(){le=!0,I.abort(),z.meta.aborted=!0,C(y.complete)&&y.complete(z),S=""},this.guessLineEndings=function(Me,Se){Me=Me.substring(0,1048576);var Se=new RegExp(x(Se)+"([^]*?)"+x(Se),"gm"),Te=(Me=Me.replace(Se,"")).split("\r"),Se=Me.split(`
`),Me=1<Se.length&&Se[0].length<Te[0].length;if(Te.length===1||Me)return`
`;for(var Ve=0,qe=0;qe<Te.length;qe++)Te[qe][0]===`
`&&Ve++;return Ve>=Te.length/2?`\r
`:"\r"}}function x(y){return y.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function _(y){var S=(y=y||{}).delimiter,I=y.newline,k=y.comments,P=y.step,L=y.preview,$=y.fastMode,te=null,K=!1,q=y.quoteChar==null?'"':y.quoteChar,W=q;if(y.escapeChar!==void 0&&(W=y.escapeChar),(typeof S!="string"||-1<c.BAD_DELIMITERS.indexOf(S))&&(S=","),k===S)throw new Error("Comment character same as delimiter");k===!0?k="#":(typeof k!="string"||-1<c.BAD_DELIMITERS.indexOf(k))&&(k=!1),I!==`
`&&I!=="\r"&&I!==`\r
`&&(I=`
`);var H=0,oe=!1;this.parse=function(le,j,z){if(typeof le!="string")throw new Error("Input must be a string");var Z=le.length,ne=S.length,se=I.length,fe=k.length,de=C(P),ge=[],Te=[],Se=[],Me=H=0;if(!le)return it();if($||$!==!1&&le.indexOf(q)===-1){for(var Ve=le.split(I),qe=0;qe<Ve.length;qe++){if(Se=Ve[qe],H+=Se.length,qe!==Ve.length-1)H+=I.length;else if(z)return it();if(!k||Se.substring(0,fe)!==k){if(de){if(ge=[],ze(Se.split(S)),ut(),oe)return it()}else ze(Se.split(S));if(L&&L<=qe)return ge=ge.slice(0,L),it(!0)}}return it()}for(var xe=le.indexOf(S,H),ie=le.indexOf(I,H),ct=new RegExp(x(W)+x(q),"g"),Fe=le.indexOf(q,H);;)if(le[H]===q)for(Fe=H,H++;;){if((Fe=le.indexOf(q,Fe+1))===-1)return z||Te.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ge.length,index:H}),We();if(Fe===Z-1)return We(le.substring(H,Fe).replace(ct,q));if(q===W&&le[Fe+1]===W)Fe++;else if(q===W||Fe===0||le[Fe-1]!==W){xe!==-1&&xe<Fe+1&&(xe=le.indexOf(S,Fe+1));var Ce=He((ie=ie!==-1&&ie<Fe+1?le.indexOf(I,Fe+1):ie)===-1?xe:Math.min(xe,ie));if(le.substr(Fe+1+Ce,ne)===S){Se.push(le.substring(H,Fe).replace(ct,q)),le[H=Fe+1+Ce+ne]!==q&&(Fe=le.indexOf(q,H)),xe=le.indexOf(S,H),ie=le.indexOf(I,H);break}if(Ce=He(ie),le.substring(Fe+1+Ce,Fe+1+Ce+se)===I){if(Se.push(le.substring(H,Fe).replace(ct,q)),rt(Fe+1+Ce+se),xe=le.indexOf(S,H),Fe=le.indexOf(q,H),de&&(ut(),oe))return it();if(L&&ge.length>=L)return it(!0);break}Te.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ge.length,index:H}),Fe++}}else if(k&&Se.length===0&&le.substring(H,H+fe)===k){if(ie===-1)return it();H=ie+se,ie=le.indexOf(I,H),xe=le.indexOf(S,H)}else if(xe!==-1&&(xe<ie||ie===-1))Se.push(le.substring(H,xe)),H=xe+ne,xe=le.indexOf(S,H);else{if(ie===-1)break;if(Se.push(le.substring(H,ie)),rt(ie+se),de&&(ut(),oe))return it();if(L&&ge.length>=L)return it(!0)}return We();function ze(Xe){ge.push(Xe),Me=H}function He(Xe){var ot=0;return ot=Xe!==-1&&(Xe=le.substring(Fe+1,Xe))&&Xe.trim()===""?Xe.length:ot}function We(Xe){return z||(Xe===void 0&&(Xe=le.substring(H)),Se.push(Xe),H=Z,ze(Se),de&&ut()),it()}function rt(Xe){H=Xe,ze(Se),Se=[],ie=le.indexOf(I,H)}function it(Xe){if(y.header&&!j&&ge.length&&!K){var ot=ge[0],At=Object.create(null),dt=new Set(ot);let Pt=!1;for(let $e=0;$e<ot.length;$e++){let Vt=ot[$e];if(At[Vt=C(y.transformHeader)?y.transformHeader(Vt,$e):Vt]){let Ct,Nr=At[Vt];for(;Ct=Vt+"_"+Nr,Nr++,dt.has(Ct););dt.add(Ct),ot[$e]=Ct,At[Vt]++,Pt=!0,(te=te===null?{}:te)[Ct]=Vt}else At[Vt]=1,ot[$e]=Vt;dt.add(Vt)}Pt&&console.warn("Duplicate headers found and renamed."),K=!0}return{data:ge,errors:Te,meta:{delimiter:S,linebreak:I,aborted:oe,truncated:!!Xe,cursor:Me+(j||0),renamedHeaders:te}}}function ut(){P(it()),ge=[],Te=[]}},this.abort=function(){oe=!0},this.getCharIndex=function(){return H}}function b(y){var S=y.data,I=a[S.workerId],k=!1;if(S.error)I.userError(S.error,S.file);else if(S.results&&S.results.data){var P={abort:function(){k=!0,E(S.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:R,resume:R};if(C(I.userStep)){for(var L=0;L<S.results.data.length&&(I.userStep({data:S.results.data[L],errors:S.results.errors,meta:S.results.meta},P),!k);L++);delete S.results}else C(I.userChunk)&&(I.userChunk(S.results,P,S.file),delete S.results)}S.finished&&!k&&E(S.workerId,S.results)}function E(y,S){var I=a[y];C(I.userComplete)&&I.userComplete(S),I.terminate(),delete a[y]}function R(){throw new Error("Not implemented.")}function O(y){if(typeof y!="object"||y===null)return y;var S,I=Array.isArray(y)?[]:{};for(S in y)I[S]=O(y[S]);return I}function V(y,S){return function(){y.apply(S,arguments)}}function C(y){return typeof y=="function"}return c.parse=function(y,S){var I=(S=S||{}).dynamicTyping||!1;if(C(I)&&(S.dynamicTypingFunction=I,I={}),S.dynamicTyping=I,S.transform=!!C(S.transform)&&S.transform,!S.worker||!c.WORKERS_SUPPORTED)return I=null,c.NODE_STREAM_INPUT,typeof y=="string"?(y=(k=>k.charCodeAt(0)!==65279?k:k.slice(1))(y),I=new(S.download?h:f)(S)):y.readable===!0&&C(y.read)&&C(y.on)?I=new g(S):(r.File&&y instanceof File||y instanceof Object)&&(I=new d(S)),I.stream(y);(I=(()=>{var k;return!!c.WORKERS_SUPPORTED&&(k=(()=>{var P=r.URL||r.webkitURL||null,L=t.toString();return c.BLOB_URL||(c.BLOB_URL=P.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",L,")();"],{type:"text/javascript"})))})(),(k=new r.Worker(k)).onmessage=b,k.id=l++,a[k.id]=k)})()).userStep=S.step,I.userChunk=S.chunk,I.userComplete=S.complete,I.userError=S.error,S.step=C(S.step),S.chunk=C(S.chunk),S.complete=C(S.complete),S.error=C(S.error),delete S.worker,I.postMessage({input:y,config:S,workerId:I.id})},c.unparse=function(y,S){var I=!1,k=!0,P=",",L=`\r
`,$='"',te=$+$,K=!1,q=null,W=!1,H=((()=>{if(typeof S=="object"){if(typeof S.delimiter!="string"||c.BAD_DELIMITERS.filter(function(j){return S.delimiter.indexOf(j)!==-1}).length||(P=S.delimiter),typeof S.quotes!="boolean"&&typeof S.quotes!="function"&&!Array.isArray(S.quotes)||(I=S.quotes),typeof S.skipEmptyLines!="boolean"&&typeof S.skipEmptyLines!="string"||(K=S.skipEmptyLines),typeof S.newline=="string"&&(L=S.newline),typeof S.quoteChar=="string"&&($=S.quoteChar),typeof S.header=="boolean"&&(k=S.header),Array.isArray(S.columns)){if(S.columns.length===0)throw new Error("Option columns is empty");q=S.columns}S.escapeChar!==void 0&&(te=S.escapeChar+$),S.escapeFormulae instanceof RegExp?W=S.escapeFormulae:typeof S.escapeFormulae=="boolean"&&S.escapeFormulae&&(W=/^[=+\-@\t\r].*$/)}})(),new RegExp(x($),"g"));if(typeof y=="string"&&(y=JSON.parse(y)),Array.isArray(y)){if(!y.length||Array.isArray(y[0]))return oe(null,y,K);if(typeof y[0]=="object")return oe(q||Object.keys(y[0]),y,K)}else if(typeof y=="object")return typeof y.data=="string"&&(y.data=JSON.parse(y.data)),Array.isArray(y.data)&&(y.fields||(y.fields=y.meta&&y.meta.fields||q),y.fields||(y.fields=Array.isArray(y.data[0])?y.fields:typeof y.data[0]=="object"?Object.keys(y.data[0]):[]),Array.isArray(y.data[0])||typeof y.data[0]=="object"||(y.data=[y.data])),oe(y.fields||[],y.data||[],K);throw new Error("Unable to serialize unrecognized input");function oe(j,z,Z){var ne="",se=(typeof j=="string"&&(j=JSON.parse(j)),typeof z=="string"&&(z=JSON.parse(z)),Array.isArray(j)&&0<j.length),fe=!Array.isArray(z[0]);if(se&&k){for(var de=0;de<j.length;de++)0<de&&(ne+=P),ne+=le(j[de],de);0<z.length&&(ne+=L)}for(var ge=0;ge<z.length;ge++){var Te=(se?j:z[ge]).length,Se=!1,Me=se?Object.keys(z[ge]).length===0:z[ge].length===0;if(Z&&!se&&(Se=Z==="greedy"?z[ge].join("").trim()==="":z[ge].length===1&&z[ge][0].length===0),Z==="greedy"&&se){for(var Ve=[],qe=0;qe<Te;qe++){var xe=fe?j[qe]:qe;Ve.push(z[ge][xe])}Se=Ve.join("").trim()===""}if(!Se){for(var ie=0;ie<Te;ie++){0<ie&&!Me&&(ne+=P);var ct=se&&fe?j[ie]:ie;ne+=le(z[ge][ct],ie)}ge<z.length-1&&(!Z||0<Te&&!Me)&&(ne+=L)}}return ne}function le(j,z){var Z,ne;return j==null?"":j.constructor===Date?JSON.stringify(j).slice(1,25):(ne=!1,W&&typeof j=="string"&&W.test(j)&&(j="'"+j,ne=!0),Z=j.toString().replace(H,te),(ne=ne||I===!0||typeof I=="function"&&I(j,z)||Array.isArray(I)&&I[z]||((se,fe)=>{for(var de=0;de<fe.length;de++)if(-1<se.indexOf(fe[de]))return!0;return!1})(Z,c.BAD_DELIMITERS)||-1<Z.indexOf(P)||Z.charAt(0)===" "||Z.charAt(Z.length-1)===" ")?$+Z+$:Z)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!s&&!!r.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=_,c.ParserHandle=w,c.NetworkStreamer=h,c.FileStreamer=d,c.StringStreamer=f,c.ReadableStreamStreamer=g,r.jQuery&&((i=r.jQuery).fn.parse=function(y){var S=y.config||{},I=[];return this.each(function(L){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var $=0;$<this.files.length;$++)I.push({file:this.files[$],inputElem:this,instanceConfig:i.extend({},S)})}),k(),this;function k(){if(I.length===0)C(y.complete)&&y.complete();else{var L,$,te,K,q=I[0];if(C(y.before)){var W=y.before(q.file,q.inputElem);if(typeof W=="object"){if(W.action==="abort")return L="AbortError",$=q.file,te=q.inputElem,K=W.reason,void(C(y.error)&&y.error({name:L},$,te,K));if(W.action==="skip")return void P();typeof W.config=="object"&&(q.instanceConfig=i.extend(q.instanceConfig,W.config))}else if(W==="skip")return void P()}var H=q.instanceConfig.complete;q.instanceConfig.complete=function(oe){C(H)&&H(oe,q.file,q.inputElem),P()},c.parse(q.file,q.instanceConfig)}}function P(){I.splice(0,1),k()}}),o&&(r.onmessage=function(y){y=y.data,c.WORKER_ID===void 0&&y&&(c.WORKER_ID=y.workerId),typeof y.input=="string"?r.postMessage({workerId:c.WORKER_ID,results:c.parse(y.input,y.config),finished:!0}):(r.File&&y.input instanceof File||y.input instanceof Object)&&(y=c.parse(y.input,y.config))&&r.postMessage({workerId:c.WORKER_ID,results:y,finished:!0})}),(h.prototype=Object.create(u.prototype)).constructor=h,(d.prototype=Object.create(u.prototype)).constructor=d,(f.prototype=Object.create(f.prototype)).constructor=f,(g.prototype=Object.create(u.prototype)).constructor=g,c})})(PD);var hZ=PD.exports;const CA=d5(hZ),dZ=()=>{const{docs:n}=fn("locations",{orderBy:["name","asc"]}),{docs:e}=fn("categories",{orderBy:["name","asc"]}),[t,r]=ee.useState(!1),i=()=>{const o=["Nome","Categoria","Unidade","EstoqueMinimo",...n.map(d=>`Estoque_${d.name.replace(/\s+/g,"_")}`)],a=[{Nome:"Exemplo: Monitor 24 Polegadas",Categoria:"Eletrnicos",Unidade:"un",EstoqueMinimo:"5",...n.reduce((d,f)=>({...d,[`Estoque_${f.name.replace(/\s+/g,"_")}`]:"10"}),{})}],l=CA.unparse({fields:o,data:a}),c=new Blob(["\uFEFF"+l],{type:"text/csv;charset=utf-8;"}),u=document.createElement("a"),h=URL.createObjectURL(c);u.setAttribute("href",h),u.setAttribute("download","modelo_importacao_produtos.csv"),document.body.appendChild(u),u.click(),document.body.removeChild(u)},s=o=>{const a=o.target.files[0];a&&(r(!0),CA.parse(a,{header:!0,skipEmptyLines:!0,complete:async l=>{const c=l.data,u=new Map(e.map(f=>[f.name.toLowerCase(),f.id])),h=new Map(n.map(f=>[`Estoque_${f.name.replace(/\s+/g,"_")}`,f.id])),d=c.map(async f=>{const{Nome:g,Categoria:w,Unidade:x,EstoqueMinimo:_,...b}=f;if(!g||!w)return bt.error(`Produto "${g||"Sem nome"}" ignorado: Nome e Categoria so obrigatrios.`),Promise.resolve();const E=u.get(w.toLowerCase());if(!E)return bt.error(`Produto "${g}" ignorado: Categoria "${w}" no encontrada.`),Promise.resolve();const R={};for(const[V,C]of Object.entries(b)){const y=h.get(V);y&&(R[y]=Number(C)||0)}const O={name:g,categoryId:E,unit:x||"un",minStock:Number(_)||0,locations:R};return af(zi(Zt,"products"),O)});try{const g=(await Promise.allSettled(d)).filter(w=>w.status==="fulfilled").length;bt.success(`${g} de ${c.length} produtos foram importados com sucesso!`)}catch(f){bt.error(`Ocorreu um erro durante a importao: ${f.message}`)}finally{r(!1),o.target.value=null}},error:l=>{bt.error(`Erro ao ler o arquivo: ${l.message}`),r(!1)}}))};return T.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[T.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Importao em Massa de Produtos"}),T.jsx("p",{className:"text-gray-600 mb-6",children:"Para adicionar mltiplos produtos de uma vez, baixe a planilha modelo, preencha com os dados e importe o arquivo aqui."}),T.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[T.jsxs("button",{onClick:i,className:"flex-1 flex items-center justify-center bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition duration-300",children:[T.jsx(bz,{className:"mr-2"}),"Baixar Planilha Modelo"]}),T.jsxs("label",{htmlFor:"csv-upload",className:"flex-1 flex items-center justify-center bg-blue-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-600 transition duration-300 cursor-pointer",children:[T.jsx(Rz,{className:"mr-2"}),t?"Importando...":"Importar Planilha"]}),T.jsx("input",{type:"file",id:"csv-upload",className:"hidden",accept:".csv",onChange:s,disabled:t})]})]})};function fZ(){const[n,e]=ee.useState("produtos"),t=[{id:"produtos",label:"Produtos",icon:vz},{id:"categorias",label:"Categorias",icon:Iz},{id:"localidades",label:"Localidades",icon:Pz}],r=()=>{switch(n){case"produtos":return T.jsxs("div",{className:"space-y-8",children:[T.jsx(uZ,{}),T.jsx(dZ,{})]});case"categorias":return T.jsx(aZ,{});case"localidades":return T.jsx(cZ,{});default:return null}};return T.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[T.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Cadastros"}),T.jsx("div",{className:"bg-white rounded-lg shadow-sm mb-6",children:T.jsx("div",{className:"border-b border-gray-200",children:T.jsx("nav",{className:"flex space-x-8",children:t.map(i=>{const s=i.icon;return T.jsxs("button",{onClick:()=>e(i.id),className:`flex items-center py-4 px-6 text-sm font-medium border-b-2 transition-colors ${n===i.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[T.jsx(s,{className:"mr-2"}),i.label]},i.id)})})})}),T.jsx("div",{className:"transition-opacity duration-200",children:r()})]})}const TD=({onProductSelect:n,selectedProductId:e})=>{const{docs:t,loading:r}=fn("products",{field:"name",direction:"asc"}),i=s=>{const o=s.target.value,a=t.find(l=>l.id===o);n(a||null)};return T.jsxs("div",{children:[T.jsx("label",{htmlFor:"product-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Produto"}),T.jsxs("select",{id:"product-select",value:e||"",onChange:i,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150 ease-in-out",disabled:r,children:[T.jsx("option",{value:"",children:r?"Carregando produtos...":"Selecione um produto"}),t.map(s=>T.jsx("option",{value:s.id,children:s.name},s.id))]})]})},pZ=()=>{var f;const{user:n,userData:e}=Ai(),{docs:t}=fn("locations",{field:"name",direction:"asc"}),[r,i]=ee.useState(null),[s,o]=ee.useState(""),[a,l]=ee.useState(""),[c,u]=ee.useState(""),h=r&&s&&((f=r.locations)==null?void 0:f[s])||0;ee.useEffect(()=>{o(""),l(""),u("")},[r]);const d=async g=>{if(g.preventDefault(),!r||!s||!a||!c){bt.error("Por favor, preencha todos os campos.");return}if(s===a){bt.error("A localidade de origem e destino no podem ser iguais.");return}if(Number(c)<=0){bt.error("A quantidade deve ser maior que zero.");return}if(Number(c)>h){bt.error(`Estoque insuficiente na origem. Disponvel: ${h}`);return}const w=Number(c),x=bt.loading("Processando transferncia...");try{await wI(Zt,async _=>{var I,k,P;const b=qn(Zt,"products",r.id),E=await _.get(b);if(!E.exists())throw new Error("Produto no encontrado!");const R=E.data(),O=((I=R.locations)==null?void 0:I[s])||0;if(O<w)throw new Error(`Estoque insuficiente na origem. Disponvel: ${O}`);const V=O-w,C=(((k=R.locations)==null?void 0:k[a])||0)+w;_.update(b,{[`locations.${s}`]:V,[`locations.${a}`]:C});const y=qn(zi(Zt,"kardex"));_.set(y,{productId:r.id,productName:R.name,locationId:s,type:"transfer_out",quantity:w,previousStock:O,newStock:V,timestamp:Du(),userId:n.uid,userEmail:e==null?void 0:e.email,details:`Transferncia para local ${a}`});const S=qn(zi(Zt,"kardex"));_.set(S,{productId:r.id,productName:R.name,locationId:a,type:"transfer_in",quantity:w,previousStock:((P=R.locations)==null?void 0:P[a])||0,newStock:C,timestamp:Du(),userId:n.uid,userEmail:e==null?void 0:e.email,details:`Transferncia de local ${s}`})}),bt.success("Transferncia realizada com sucesso!",{id:x}),i(null),o(""),l(""),u("")}catch(_){console.error("Erro na transferncia: ",_),bt.error(_.message||"Falha ao realizar a transferncia.",{id:x})}};return T.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[T.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Transferncia de Estoque"}),T.jsxs("form",{onSubmit:d,className:"space-y-4",children:[T.jsx(TD,{onProductSelect:i,selectedProductId:r==null?void 0:r.id}),r&&T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-end",children:[T.jsxs("div",{children:[T.jsx("label",{htmlFor:"from-location-transfer",className:"block text-sm font-medium text-gray-700 mb-1",children:"De"}),T.jsxs("select",{id:"from-location-transfer",value:s,onChange:g=>o(g.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",children:[T.jsx("option",{value:"",children:"Selecione a origem"}),t.map(g=>{var w;return T.jsx("option",{value:g.id,children:`${g.name} (Disp: ${((w=r.locations)==null?void 0:w[g.id])||0})`},g.id)})]})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"to-location-transfer",className:"block text-sm font-medium text-gray-700 mb-1",children:"Para"}),T.jsxs("select",{id:"to-location-transfer",value:a,onChange:g=>l(g.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",children:[T.jsx("option",{value:"",children:"Selecione o destino"}),t.filter(g=>g.id!==s).map(g=>T.jsx("option",{value:g.id,children:g.name},g.id))]})]})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"quantity-transfer",className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantidade a Transferir"}),T.jsx("input",{type:"number",id:"quantity-transfer",value:c,onChange:g=>u(g.target.value),min:"1",max:h>0?h:void 0,placeholder:`Mx: ${h}`,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500"})]}),T.jsx("div",{className:"flex justify-end pt-2",children:T.jsxs("button",{type:"submit",disabled:!r||!s||!a||!c,className:"flex items-center gap-2 bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg transition duration-300 disabled:bg-blue-300",children:[T.jsx(II,{}),"Confirmar Transferncia"]})})]})]})]})},mZ=()=>{var f;const{user:n,userData:e}=Ai(),{docs:t}=fn("locations",{field:"name",direction:"asc"}),[r,i]=ee.useState(null),[s,o]=ee.useState(""),[a,l]=ee.useState(""),[c,u]=ee.useState(""),h=r&&s&&((f=r.locations)==null?void 0:f[s])||0;ee.useEffect(()=>{o(""),l(""),u("")},[r]);const d=async g=>{if(g.preventDefault(),!r||!s||!a){bt.error("Por favor, preencha todos os campos obrigatrios.");return}if(Number(a)<=0){bt.error("A quantidade deve ser maior que zero.");return}if(Number(a)>h){bt.error(`Estoque insuficiente. Disponvel: ${h}`);return}const w=Number(a),x=bt.loading("Processando sada de estoque...");try{await wI(Zt,async _=>{var S;const b=qn(Zt,"products",r.id),E=await _.get(b);if(!E.exists())throw new Error("Produto no encontrado!");const R=E.data(),O=((S=R.locations)==null?void 0:S[s])||0;if(O<w)throw new Error(`Estoque insuficiente. Disponvel: ${O}`);const V=O-w,C=R.totalStock-w;_.update(b,{[`locations.${s}`]:V,totalStock:C});const y=qn(zi(Zt,"kardex"));_.set(y,{productId:r.id,productName:R.name,locationId:s,type:"saida",quantity:w,previousStock:O,newStock:V,timestamp:Du(),userId:n.uid,userEmail:e==null?void 0:e.email,details:c||"Sada manual"})}),bt.success("Sada de estoque registrada com sucesso!",{id:x}),i(null),o(""),l(""),u("")}catch(_){console.error("Erro na sada de estoque: ",_),bt.error(_.message||"Falha ao registrar a sada.",{id:x})}};return T.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[T.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Sada de Estoque"}),T.jsxs("form",{onSubmit:d,className:"space-y-4",children:[T.jsx(TD,{onProductSelect:i,selectedProductId:r==null?void 0:r.id}),r&&T.jsxs(T.Fragment,{children:[T.jsxs("div",{children:[T.jsx("label",{htmlFor:"from-location-exit",className:"block text-sm font-medium text-gray-700 mb-1",children:"Local de Origem"}),T.jsxs("select",{id:"from-location-exit",value:s,onChange:g=>o(g.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",children:[T.jsx("option",{value:"",children:"Selecione a origem"}),t.map(g=>{var w;return T.jsx("option",{value:g.id,children:`${g.name} (Disp: ${((w=r.locations)==null?void 0:w[g.id])||0})`},g.id)})]})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"quantity-exit",className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantidade"}),T.jsx("input",{type:"number",id:"quantity-exit",value:a,onChange:g=>l(g.target.value),min:"1",max:h>0?h:void 0,placeholder:`Mx: ${h}`,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500"})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"reason-exit",className:"block text-sm font-medium text-gray-700 mb-1",children:"Motivo da Sada"}),T.jsx("input",{type:"text",id:"reason-exit",value:c,onChange:g=>u(g.target.value),placeholder:"Ex: Venda, Perda, Uso interno",className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500"})]}),T.jsx("div",{className:"flex justify-end pt-2",children:T.jsxs("button",{type:"submit",disabled:!r||!s||!a,className:"flex items-center gap-2 bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded-lg transition duration-300 disabled:bg-red-300",children:[T.jsx(pz,{}),"Confirmar Sada"]})})]})]})]})},gZ=()=>T.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[T.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Movimentaes de Estoque"}),T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[T.jsx(pZ,{}),T.jsx(mZ,{})]})]}),vZ=({status:n})=>{let e,t;switch(n){case"concluido":e="Concludo",t="bg-green-100 text-green-800";break;case"aplicado":e="Ajuste Aplicado",t="bg-blue-100 text-blue-800";break;default:e="Em Andamento",t="bg-yellow-100 text-yellow-800"}return T.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${t}`,children:e})};function yZ(){const{userData:n}=Ai(),{docs:e,loading:t}=fn("counts",{field:"createdAt",direction:"desc"}),r=Fc(),i=(n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="editor";return T.jsxs("div",{children:[T.jsxs("div",{className:"flex justify-between items-center mb-6",children:[T.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Contagem de Estoque"}),i&&T.jsxs("button",{onClick:()=>r("/counting/new"),className:"bg-orange-600 hover:bg-orange-700 text-white font-bold py-2 px-4 rounded-lg flex items-center",children:[T.jsx("i",{className:"fas fa-plus mr-2"}),"Iniciar Nova Contagem"]})]}),T.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[T.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Histrico de Contagens"}),t?T.jsx("p",{className:"text-center text-gray-500 py-4",children:"Carregando histrico..."}):T.jsx("ul",{className:"divide-y divide-gray-200",children:e.length>0?e.map(s=>{var o;return T.jsxs("li",{className:"py-4 flex justify-between items-center",children:[T.jsxs("div",{children:[T.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["Contagem de ",(o=s.createdAt)==null?void 0:o.toDate().toLocaleDateString("pt-BR")]}),T.jsxs("p",{className:"text-sm text-gray-500",children:["Realizada por: ",s.userEmail||"N/A"]})]}),T.jsxs("div",{className:"flex items-center space-x-4",children:[T.jsx(vZ,{status:s.status}),T.jsx("button",{onClick:()=>r(`/counting/${s.id}`),className:"text-indigo-600 hover:text-indigo-900",children:"Ver Relatrio"})]})]},s.id)}):T.jsx("p",{className:"text-center text-gray-500 py-4",children:"Nenhuma contagem realizada ainda."})})]})]})}function _Z(){const{docs:n,loading:e}=fn("products"),{currentUser:t}=Ai(),r=Fc(),[i,s]=ee.useState({}),[o,a]=ee.useState(""),[l,c]=ee.useState(!1);ee.useEffect(()=>{if(n.length>0){const f=n.reduce((g,w)=>(g[w.id]="",g),{});s(f)}},[n]);const u=(f,g)=>{s(w=>({...w,[f]:g===""?"":Number(g)}))},h=n.filter(f=>f.name.toLowerCase().includes(o.toLowerCase())),d=async()=>{if(Object.values(i).some(g=>g==="")&&!window.confirm("Existem produtos com quantidade no preenchida (sero contados como 0). Deseja continuar?"))return;c(!0);const f=n.map(g=>({productId:g.id,productName:g.name,expectedQuantity:g.totalQuantity||0,countedQuantity:i[g.id]===""?0:i[g.id]}));try{await af(zi(Zt,"counts"),{createdAt:Du(),userEmail:(t==null?void 0:t.email)||"N/A",status:"concluido",details:f}),alert("Contagem finalizada e salva com sucesso!"),r("/counting")}catch(g){console.error("Error finalizing count:",g),alert("Falha ao finalizar a contagem. Tente novamente.")}finally{c(!1)}};return e?T.jsx("p",{className:"text-center p-4",children:"Carregando produtos..."}):T.jsxs("div",{children:[T.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Nova Contagem de Estoque"}),T.jsx("p",{className:"mb-6 text-gray-600",children:"Insira a quantidade contada para cada produto. Itens no preenchidos sero considerados como 0."}),T.jsx("div",{className:"mb-4",children:T.jsx("input",{type:"text",placeholder:"Buscar produto pelo nome...",value:o,onChange:f=>a(f.target.value),className:"w-full p-3 border border-gray-300 rounded-lg shadow-sm"})}),T.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:T.jsx("div",{className:"overflow-x-auto",children:T.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[T.jsx("thead",{className:"bg-gray-50",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produto"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Qtd. no Sistema"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Qtd. Contada"})]})}),T.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(f=>T.jsxs("tr",{children:[T.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:f.name}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:f.totalQuantity||0}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:T.jsx("input",{type:"number",min:"0",value:i[f.id]||"",onChange:g=>u(f.id,g.target.value),className:"w-24 p-2 border border-gray-300 rounded-md",placeholder:"Qtd."})})]},f.id))})]})})}),T.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[T.jsx("button",{onClick:()=>r("/counting"),className:"px-6 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"Cancelar"}),T.jsx("button",{onClick:d,disabled:l,className:"px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:bg-green-300",children:l?"Finalizando...":"Finalizar Contagem"})]})]})}const wZ=({difference:n})=>{let e="text-gray-800",t="";return n>0?(e="text-green-600 font-bold",t="+"):n<0&&(e="text-red-600 font-bold"),T.jsxs("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${e}`,children:[t,n]})};function bZ(){var d;const{id:n}=vO(),e=Fc(),{currentUser:t,userData:r}=Ai(),[i,s]=ee.useState(null),[o,a]=ee.useState(!0),[l,c]=ee.useState(!1),u=(r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="editor";ee.useEffect(()=>{(async()=>{try{const g=qn(Zt,"counts",n),w=await yI(g);w.exists()?s({id:w.id,...w.data()}):console.error("No such count!")}catch(g){console.error("Error fetching count:",g)}finally{a(!1)}})()},[n]);const h=async()=>{if(!i||i.status==="aplicado"||!window.confirm("Tem certeza que deseja aplicar este ajuste? Esta ao atualizar o estoque de todos os produtos listados e no pode ser desfeita."))return;c(!0);const f=new Promise(async(g,w)=>{const x=bI(Zt);try{i.details.forEach(b=>{const E=b.countedQuantity-b.expectedQuantity;if(E!==0){const R=qn(Zt,"products",b.productId);x.update(R,{totalQuantity:b.countedQuantity});const O=qn(zi(Zt,"movements"));x.set(O,{productId:b.productId,type:"ajuste",quantity:Math.abs(E),motive:`Ajuste de inventrio (${E>0?"sobra":"perda"})`,date:new Date,userEmail:(t==null?void 0:t.email)||"N/A"})}});const _=qn(Zt,"counts",n);x.update(_,{status:"aplicado"}),await x.commit(),g()}catch(_){console.error("Error applying adjustment:",_),w(_)}});bt.promise(f,{loading:"Aplicando ajuste...",success:"Ajuste de estoque aplicado com sucesso!",error:"Falha ao aplicar o ajuste."}).then(()=>{e("/counting")}).finally(()=>{c(!1)})};return o?T.jsx("p",{className:"text-center p-4",children:"Carregando relatrio..."}):i?T.jsxs("div",{children:[T.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Relatrio da Contagem"}),T.jsxs("p",{className:"text-gray-600 mb-6",children:["Realizada em ",(d=i.createdAt)==null?void 0:d.toDate().toLocaleString("pt-BR")," por ",i.userEmail]}),T.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:T.jsx("div",{className:"overflow-x-auto",children:T.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[T.jsx("thead",{className:"bg-gray-50",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produto"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Qtd. Sistema"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Qtd. Contada"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Diferena"})]})}),T.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.details.map(f=>{const g=f.countedQuantity-f.expectedQuantity;return T.jsxs("tr",{children:[T.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:f.productName}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:f.expectedQuantity}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:f.countedQuantity}),T.jsx(wZ,{difference:g})]},f.productId)})})]})})}),T.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[T.jsx("button",{onClick:()=>e("/counting"),className:"px-6 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"Voltar"}),u&&i.status!=="aplicado"&&T.jsx("div",{className:"mt-6 text-right",children:T.jsx("button",{onClick:h,disabled:l,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg disabled:bg-blue-300",children:l?"Aplicando...":"Aplicar Ajuste no Estoque"})})]})]}):T.jsx("p",{className:"text-center p-4",children:"Relatrio de contagem no encontrado."})}const c_=n=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(n||0),xZ=()=>{const{docs:n,loading:e}=fn("products"),t=ee.useMemo(()=>{if(!n.length)return{lines:[],grandTotal:0};const r=n.map(s=>{const o=Object.values(s.locations||{}).reduce((c,u)=>c+u,0),a=s.cost||0,l=o*a;return{id:s.id,name:s.name,totalStock:o,cost:a,totalValue:l}}),i=r.reduce((s,o)=>s+o.totalValue,0);return{lines:r,grandTotal:i}},[n]);return T.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[T.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Relatrio de Valorizao de Estoque"}),T.jsx("p",{className:"text-gray-600 mb-6",children:"Este relatrio calcula o valor monetrio total do seu estoque com base no custo de cada produto."}),T.jsx("div",{className:"overflow-x-auto",children:T.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[T.jsx("thead",{className:"bg-gray-50",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produto"}),T.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estoque Total"}),T.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Custo Unitrio"}),T.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor Total"})]})}),T.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e?T.jsx("tr",{children:T.jsx("td",{colSpan:"4",className:"text-center py-10",children:"Carregando dados..."})}):t.lines.length>0?t.lines.map(r=>T.jsxs("tr",{className:"hover:bg-gray-50",children:[T.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:r.name}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 text-center",children:r.totalStock}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 text-right",children:c_(r.cost)}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-800 text-right",children:c_(r.totalValue)})]},r.id)):T.jsx("tr",{children:T.jsx("td",{colSpan:"4",className:"text-center py-10",children:"Nenhum produto encontrado. Adicione produtos com custo para ver este relatrio."})})}),T.jsx("tfoot",{className:"bg-gray-100",children:T.jsxs("tr",{children:[T.jsx("td",{colSpan:"3",className:"px-6 py-4 text-right text-sm font-bold text-gray-800 uppercase",children:"Valor Total do Estoque"}),T.jsx("td",{className:"px-6 py-4 text-right text-lg font-extrabold text-blue-600",children:c_(t.grandTotal)})]})})]})})]})},SZ=n=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(n||0),EZ=n=>{switch(n){case"A":return{label:"Classe A",color:"bg-red-500 text-white",description:"Produtos de altssimo impacto. Requerem ateno mxima."};case"B":return{label:"Classe B",color:"bg-yellow-400 text-gray-800",description:"Produtos de impacto intermedirio. Bom controle  necessrio."};case"C":return{label:"Classe C",color:"bg-green-500 text-white",description:"Produtos de baixo impacto. Gesto mais simples."};default:return{label:"",color:"bg-gray-200",description:""}}},kZ=()=>{const{docs:n,loading:e}=fn("products"),{docs:t,loading:r}=fn("kardex"),[i,s]=ee.useState(90),o=ee.useMemo(()=>{if(!n.length||!t.length)return{lines:[],totalConsumptionValue:0};const l=Au(new Date,i),c=n.map(g=>{const x=t.filter(E=>E.productId===g.id&&(E.type==="saida"||E.type==="transfer_out")&&E.timestamp&&Za(E.timestamp.toDate(),l)).reduce((E,R)=>E+R.quantity,0),_=g.cost||0,b=x*_;return{id:g.id,name:g.name,consumptionValue:b}}),u=c.reduce((g,w)=>g+w.consumptionValue,0);if(u===0)return{lines:[],totalConsumptionValue:0};const h=c.filter(g=>g.consumptionValue>0).sort((g,w)=>w.consumptionValue-g.consumptionValue);let d=0;return{lines:h.map(g=>{d+=g.consumptionValue;const w=d/u*100;let x="C";return w<=80?x="A":w<=95&&(x="B"),{...g,cumulativePercentage:w,classification:x}}),totalConsumptionValue:u}},[n,t,i]),a=e||r;return T.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[T.jsxs("div",{className:"flex justify-between items-start mb-4",children:[T.jsxs("div",{children:[T.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Anlise de Curva ABC"}),T.jsx("p",{className:"text-gray-600 mt-1",children:"Classifica os produtos por relevncia de consumo para otimizar a gesto de estoque."})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"period",className:"block text-sm font-medium text-gray-700",children:"Perodo de Anlise"}),T.jsxs("select",{id:"period",value:i,onChange:l=>s(Number(l.target.value)),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",children:[T.jsx("option",{value:"30",children:"ltimos 30 dias"}),T.jsx("option",{value:"60",children:"ltimos 60 dias"}),T.jsx("option",{value:"90",children:"ltimos 90 dias"}),T.jsx("option",{value:"180",children:"ltimos 6 meses"}),T.jsx("option",{value:"365",children:"ltimo ano"})]})]})]}),T.jsx("div",{className:"overflow-x-auto mt-6",children:T.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[T.jsx("thead",{className:"bg-gray-50",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Classe"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produto"}),T.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor de Consumo"}),T.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"% Acumulada"})]})}),T.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a?T.jsx("tr",{children:T.jsx("td",{colSpan:"4",className:"text-center py-10",children:"Analisando dados..."})}):o.lines.length>0?o.lines.map(l=>{const{label:c,color:u}=EZ(l.classification);return T.jsxs("tr",{className:"hover:bg-gray-50",children:[T.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:T.jsx("span",{className:`px-3 py-1 inline-flex text-sm leading-5 font-bold rounded-full ${u}`,children:l.classification})}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:l.name}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 text-right",children:SZ(l.consumptionValue)}),T.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-800 text-right",children:[l.cumulativePercentage.toFixed(2),"%"]})]},l.id)}):T.jsx("tr",{children:T.jsx("td",{colSpan:"4",className:"text-center py-10",children:"Nenhuma movimentao de sada encontrada no perodo para anlise."})})})]})})]})},NA=n=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(n||0),AZ=()=>{const{docs:n,loading:e}=fn("products"),{docs:t,loading:r}=fn("kardex"),[i,s]=ee.useState(180),o=ee.useMemo(()=>{if(!n.length)return{lines:[],totalDeadValue:0};const l=Au(new Date,i),c=n.map(h=>{const d=Object.values(h.locations||{}).reduce((w,x)=>w+x,0);if(d<=0)return null;const f=t.filter(w=>w.productId===h.id&&(w.type==="saida"||w.type==="transfer_out")).sort((w,x)=>x.timestamp.toDate()-w.timestamp.toDate())[0],g=f?f.timestamp.toDate():null;if(!g||Dc(g,l)){const w=h.cost||0,x=d*w;return{id:h.id,name:h.name,totalStock:d,cost:w,deadValue:x,lastMovementDate:g?Bu(g,"dd/MM/yyyy"):"Nunca teve sada"}}return null}).filter(Boolean),u=c.reduce((h,d)=>h+d.deadValue,0);return{lines:c,totalDeadValue:u}},[n,t,i]),a=e||r;return T.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[T.jsxs("div",{className:"flex justify-between items-start mb-4",children:[T.jsxs("div",{children:[T.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Relatrio de Estoque Obsoleto"}),T.jsx("p",{className:"text-gray-600 mt-1",children:"Identifica produtos sem movimentao de sada no perodo selecionado."})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"period",className:"block text-sm font-medium text-gray-700",children:"Sem Sada nos ltimos"}),T.jsxs("select",{id:"period",value:i,onChange:l=>s(Number(l.target.value)),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",children:[T.jsx("option",{value:"90",children:"90 dias"}),T.jsx("option",{value:"180",children:"180 dias (6 meses)"}),T.jsx("option",{value:"365",children:"365 dias (1 ano)"})]})]})]}),T.jsx("div",{className:"overflow-x-auto mt-6",children:T.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[T.jsx("thead",{className:"bg-gray-50",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produto"}),T.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estoque Parado"}),T.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor Parado"}),T.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ltima Sada"})]})}),T.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a?T.jsx("tr",{children:T.jsx("td",{colSpan:"4",className:"text-center py-10",children:"Analisando dados..."})}):o.lines.length>0?o.lines.map(l=>T.jsxs("tr",{className:"hover:bg-gray-50 bg-orange-50",children:[T.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:l.name}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 text-center font-bold",children:l.totalStock}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-red-600 text-right",children:NA(l.deadValue)}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 text-center",children:l.lastMovementDate})]},l.id)):T.jsx("tr",{children:T.jsx("td",{colSpan:"4",className:"text-center py-10",children:"Nenhum produto obsoleto encontrado para o perodo selecionado."})})}),T.jsx("tfoot",{className:"bg-gray-100",children:T.jsxs("tr",{children:[T.jsx("td",{colSpan:"2",className:"px-6 py-4 text-right text-sm font-bold text-gray-800 uppercase",children:"Valor Total Obsoleto"}),T.jsx("td",{colSpan:"2",className:"px-6 py-4 text-right text-lg font-extrabold text-red-700",children:NA(o.totalDeadValue)})]})})]})})]})};function PZ(){const{docs:n,loading:e}=fn("products",{field:"name",direction:"asc"}),{docs:t,loading:r}=fn("categories"),i=e||r,s=l=>{const c=t.find(u=>u.id===l);return c?c.name:"Sem Categoria"},o=ee.useMemo(()=>n.reduce((l,c)=>{const u=(c.price||0)*(c.totalQuantity||0);return l+u},0),[n]),a=()=>{window.print()};return T.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[T.jsxs("div",{className:"flex justify-between items-center mb-4 print:hidden",children:[T.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Relatrio de Posio de Estoque"}),T.jsxs("button",{onClick:a,className:"bg-gray-700 hover:bg-gray-800 text-white font-bold py-2 px-4 rounded-lg flex items-center",children:[T.jsx("i",{className:"fas fa-print mr-2"}),"Imprimir"]})]}),T.jsxs("div",{className:"print:block",children:[T.jsx("h2",{className:"text-2xl font-bold text-center mb-2 hidden print:block",children:"Relatrio de Estoque"}),T.jsxs("p",{className:"text-center text-sm text-gray-500 mb-6 hidden print:block",children:["Gerado em: ",new Date().toLocaleString("pt-BR")]}),i?T.jsx("p",{className:"text-center text-gray-500 py-4",children:"Carregando dados do relatrio..."}):T.jsx("div",{className:"overflow-x-auto",children:T.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[T.jsx("thead",{className:"bg-gray-50",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produto"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categoria"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Qtd. em Estoque"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Preo Unit."}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor Total"})]})}),T.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(l=>{var c;return T.jsxs("tr",{children:[T.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:l.name}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s(l.categoryId)}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-bold",children:l.totalQuantity||0}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:`R$ ${((c=l.price)==null?void 0:c.toFixed(2))||"0.00"}`}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:`R$ ${((l.price||0)*(l.totalQuantity||0)).toFixed(2)}`})]},l.id)})}),T.jsx("tfoot",{className:"bg-gray-50",children:T.jsxs("tr",{children:[T.jsx("td",{colSpan:"4",className:"px-6 py-3 text-right text-sm font-bold text-gray-700 uppercase",children:"Valor Total em Estoque:"}),T.jsx("td",{className:"px-6 py-3 text-left text-sm font-bold text-gray-900",children:`R$ ${o.toFixed(2)}`})]})})]})})]})]})}const IA={valuation:{name:"Valorizao de Estoque",component:T.jsx(xZ,{})},abc:{name:"Curva ABC",component:T.jsx(kZ,{})},dead_stock:{name:"Estoque Obsoleto",component:T.jsx(AZ,{})},stock:{name:"Relatrio de Estoque",component:T.jsx(PZ,{})}},TZ=()=>{const[n,e]=ee.useState("valuation"),t=IA[n].component;return T.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[T.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Central de Relatrios"}),T.jsx("div",{className:"mb-6 border-b border-gray-200",children:T.jsx("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:Object.entries(IA).map(([r,i])=>T.jsx("button",{onClick:()=>e(r),className:`${n===r?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200`,children:i.name},r))})}),T.jsx("div",{children:t})]})},CZ=()=>{const{currentUser:n,userData:e}=Ai(),t=async()=>{const r=bt.loading("Testando conexo com Firestore...");try{const i=await af(zi(Zt,"test"),{message:"Teste de conexo",timestamp:new Date,user:(n==null?void 0:n.uid)||"anonymous"});bt.success(`Conexo OK! Doc ID: ${i.id}`,{id:r}),console.log("Teste bem-sucedido:",i.id)}catch(i){bt.error(`Erro: ${i.message}`,{id:r}),console.error("Erro no teste:",i)}};return T.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-4",children:T.jsx("div",{className:"flex",children:T.jsxs("div",{className:"ml-3",children:[T.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Painel de Diagnstico"}),T.jsxs("div",{className:"mt-2 text-sm text-yellow-700 space-y-1",children:[T.jsxs("p",{children:[T.jsx("strong",{children:"Status de Autenticao:"})," ",n?" Autenticado":" No autenticado"]}),n&&T.jsxs(T.Fragment,{children:[T.jsxs("p",{children:[T.jsx("strong",{children:"UID:"})," ",n.uid]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Email:"})," ",n.email]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Role:"})," ",(e==null?void 0:e.role)||"No definido"]})]}),T.jsx("button",{onClick:t,className:"mt-2 bg-yellow-600 text-white px-3 py-1 rounded text-xs hover:bg-yellow-700",children:"Testar Conexo Firestore"})]})]})})})},NZ=()=>{const[n,e]=ee.useState("demo@teste.com"),[t,r]=ee.useState("admin"),[i,s]=ee.useState(!1),o=async()=>{if(!n||!t){bt.error("Email e role so obrigatrios");return}s(!0);const l=bt.loading("Atualizando role do usurio...");try{const c=zi(Zt,"users"),u=G1(c,ZE("email","==",n)),h=await n3(u);if(h.empty){const d=qn(c,n.replace("@","_").replace(".","_"));await Lw(d,{email:n,role:t,name:"Demo User",createdAt:new Date,updatedAt:new Date}),bt.success(`Usurio criado com role ${t}!`,{id:l})}else{const d=h.docs[0],f=qn(Zt,"users",d.id);await hy(f,{role:t,updatedAt:new Date}),bt.success(`Role atualizada para ${t}!`,{id:l})}console.log(`Role do usurio ${n} atualizada para ${t}`)}catch(c){console.error("Erro ao atualizar role:",c),bt.error(`Erro: ${c.message}`,{id:l})}s(!1)},a=async()=>{if(!n){bt.error("Email  obrigatrio");return}const l=bt.loading("Verificando usurio...");try{const c=zi(Zt,"users"),u=G1(c,ZE("email","==",n)),h=await n3(u);if(h.empty)bt.error("Usurio no encontrado",{id:l});else{const d=h.docs[0].data();bt.success(`Usurio encontrado! Role atual: ${d.role||"no definida"}`,{id:l}),console.log("Dados do usurio:",d)}}catch(c){console.error("Erro ao verificar usurio:",c),bt.error(`Erro: ${c.message}`,{id:l})}};return T.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 mb-4",children:T.jsx("div",{className:"flex",children:T.jsxs("div",{className:"ml-3 w-full",children:[T.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Gerenciador de Roles de Usurio"}),T.jsxs("div",{className:"mt-2 space-y-3",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-blue-700",children:"Email:"}),T.jsx("input",{type:"email",value:n,onChange:l=>e(l.target.value),className:"mt-1 block w-full text-sm p-2 border border-blue-300 rounded",placeholder:"usuario@exemplo.com"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-blue-700",children:"Role:"}),T.jsxs("select",{value:t,onChange:l=>r(l.target.value),className:"mt-1 block w-full text-sm p-2 border border-blue-300 rounded",children:[T.jsx("option",{value:"admin",children:"Admin"}),T.jsx("option",{value:"editor",children:"Editor"}),T.jsx("option",{value:"user",children:"User"})]})]}),T.jsxs("div",{className:"flex space-x-2",children:[T.jsx("button",{onClick:a,className:"bg-blue-600 text-white px-3 py-1 rounded text-xs hover:bg-blue-700",disabled:i,children:"Verificar Usurio"}),T.jsx("button",{onClick:o,className:"bg-green-600 text-white px-3 py-1 rounded text-xs hover:bg-green-700",disabled:i,children:i?"Atualizando...":"Atualizar Role"})]})]})]})})})},IZ=()=>{const{itemsPerPage:n,setItemsPerPage:e}=mx(),t=r=>{e(Number(r.target.value))};return T.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[T.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Configuraes"}),T.jsxs("div",{className:"space-y-8 max-w-4xl mx-auto",children:[T.jsx(NZ,{}),T.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[T.jsxs("div",{className:"flex items-center mb-4",children:[T.jsx(Az,{className:"text-2xl text-blue-500 mr-3"}),T.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Visualizao de Listas"})]}),T.jsx("p",{className:"text-gray-600 mb-4",children:"Defina quantos itens devem ser exibidos por pgina nas tabelas do sistema."}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"itemsPerPage",className:"block text-sm font-medium text-gray-700",children:"Itens por pgina"}),T.jsxs("select",{id:"itemsPerPage",value:n,onChange:t,className:"mt-1 block w-full max-w-xs pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",children:[T.jsx("option",{value:"10",children:"10"}),T.jsx("option",{value:"15",children:"15"}),T.jsx("option",{value:"25",children:"25"}),T.jsx("option",{value:"50",children:"50"})]})]})]}),T.jsx(CZ,{})]})]})},DZ=({log:n})=>{const e=n.timestamp?Bu(n.timestamp.toDate(),"dd/MM/yyyy HH:mm:ss"):"N/A",t=s=>{switch(s){case"entrada_inicial":return{label:"Entrada Inicial",color:"bg-green-100 text-green-800"};case"ajuste_manual":return{label:"Ajuste Manual",color:"bg-yellow-100 text-yellow-800"};case"transfer_in":return{label:"Transferncia (Entrada)",color:"bg-blue-100 text-blue-800"};case"transfer_out":return{label:"Transferncia (Sada)",color:"bg-purple-100 text-purple-800"};case"saida":return{label:"Sada Manual",color:"bg-red-100 text-red-800"};default:return{label:s,color:"bg-gray-100 text-gray-800"}}},{label:r,color:i}=t(n.type);return T.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[T.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-600",children:e}),T.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-800",children:n.productName}),T.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:T.jsx("span",{className:`px-2.5 py-0.5 inline-flex text-xs leading-5 font-semibold rounded-full ${i}`,children:r})}),T.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-semibold text-center",children:n.quantity}),T.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-600",children:n.userEmail||"N/A"}),T.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 max-w-xs truncate",title:n.details,children:n.details})]})},RZ=()=>{const{itemsPerPage:n}=mx(),{docs:e,loading:t}=fn("kardex",{field:"timestamp",direction:"desc"}),[r,i]=ee.useState(1),[s,o]=ee.useState(null),[a,l]=ee.useState(null),[c,u]=ee.useState(""),h={entrada_inicial:"Entrada Inicial",ajuste_manual:"Ajuste Manual",transfer_in:"Transferncia (Entrada)",transfer_out:"Transferncia (Sada)",saida:"Sada Manual"},d=ee.useMemo(()=>e.filter(x=>{var O;const _=(O=x.timestamp)==null?void 0:O.toDate();if(!_)return!1;const b=!s||_>=s,E=!a||_<=new Date(a.getTime()+864e5),R=!c||x.type===c;return b&&E&&R}),[e,s,a,c]),f=()=>{o(null),l(null),u("")},g=ee.useMemo(()=>{const x=(r-1)*n;return d.slice(x,x+n)},[d,r]),w=Math.ceil(d.length/n);return T.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[T.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Auditoria de Movimentaes"}),T.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md mb-6",children:T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4 items-end",children:[T.jsxs("div",{className:"relative",children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Incio"}),T.jsx(c3,{className:"absolute top-9 left-3 text-gray-400 z-10"}),T.jsx(h5,{selected:s,onChange:x=>o(x),selectsStart:!0,startDate:s,endDate:a,dateFormat:"dd/MM/yyyy",className:"w-full p-2 pl-10 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",placeholderText:"dd/mm/aaaa"})]}),T.jsxs("div",{className:"relative",children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Fim"}),T.jsx(c3,{className:"absolute top-9 left-3 text-gray-400 z-10"}),T.jsx(h5,{selected:a,onChange:x=>l(x),selectsEnd:!0,startDate:s,endDate:a,minDate:s,dateFormat:"dd/MM/yyyy",className:"w-full p-2 pl-10 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",placeholderText:"dd/mm/aaaa"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Movimento"}),T.jsxs("select",{value:c,onChange:x=>u(x.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",children:[T.jsx("option",{value:"",children:"Todos"}),Object.entries(h).map(([x,_])=>T.jsx("option",{value:x,children:_},x))]})]}),T.jsx("div",{children:T.jsxs("button",{onClick:f,className:"w-full flex items-center justify-center gap-2 bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg transition duration-300",children:[T.jsx(Dz,{}),"Limpar Filtros"]})})]})}),T.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-x-auto",children:T.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[T.jsx("thead",{className:"bg-gray-50",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data/Hora"}),T.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produto"}),T.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),T.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Qtd"}),T.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usurio"}),T.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Detalhes"})]})}),T.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t?T.jsx("tr",{children:T.jsx("td",{colSpan:"6",className:"text-center py-10",children:"Carregando registros..."})}):g.length>0?g.map(x=>T.jsx(DZ,{log:x},x.id)):T.jsx("tr",{children:T.jsx("td",{colSpan:"6",className:"text-center py-10",children:"Nenhum registro de auditoria encontrado."})})})]})}),!t&&w>1&&T.jsx(r6,{currentPage:r,totalPages:w,onPageChange:i})]})};function LZ(){return T.jsxs(T.Fragment,{children:[T.jsx(sC,{position:"top-right",toastOptions:{success:{style:{background:"#28a745",color:"white"}},error:{style:{background:"#dc3545",color:"white"}}}}),T.jsx(zO,{basename:"/Controle1",children:T.jsxs(LO,{children:[T.jsx(Mi,{path:"/auth",element:T.jsx(cz,{})}),T.jsxs(Mi,{path:"/",element:T.jsx(Vz,{children:T.jsx(jz,{})}),children:[T.jsx(Mi,{index:!0,element:T.jsx(Uz,{})}),T.jsx(Mi,{path:"/stock",element:T.jsx(xa,{requiredPermissions:[Ye.VIEW_STOCK],children:T.jsx(GW,{})})}),T.jsx(Mi,{path:"/dashboard",element:T.jsx(sZ,{})}),T.jsx(Mi,{path:"/registers",element:T.jsx(xa,{requiredPermissions:[Ye.VIEW_PRODUCTS,Ye.VIEW_CATEGORIES,Ye.VIEW_SUPPLIERS],children:T.jsx(fZ,{})})}),T.jsx(Mi,{path:"/movements",element:T.jsx(xa,{requiredPermissions:[Ye.VIEW_MOVEMENTS],children:T.jsx(gZ,{})})}),T.jsx(Mi,{path:"/counting",element:T.jsx(xa,{requiredPermissions:[Ye.VIEW_COUNTING],children:T.jsx(yZ,{})})}),T.jsx(Mi,{path:"/counting/new",element:T.jsx(xa,{requiredPermissions:[Ye.CREATE_COUNTING],children:T.jsx(_Z,{})})}),T.jsx(Mi,{path:"/counting/:id",element:T.jsx(xa,{requiredPermissions:[Ye.VIEW_COUNTING],children:T.jsx(bZ,{})})}),T.jsx(Mi,{path:"/reports",element:T.jsx(xa,{requiredPermissions:[Ye.VIEW_REPORTS],children:T.jsx(TZ,{})})}),T.jsx(Mi,{path:"/settings",element:T.jsx(xa,{requiredPermissions:[Ye.VIEW_SETTINGS],children:T.jsx(IZ,{})})}),T.jsx(Mi,{path:"/audit",element:T.jsx(xa,{requiredPermissions:[Ye.VIEW_AUDIT],children:T.jsx(RZ,{})})})]})]})})]})}u_.createRoot(document.getElementById("root")).render(T.jsx(Ae.StrictMode,{children:T.jsx(qW,{children:T.jsxs(lz,{children:[T.jsx(LZ,{}),T.jsx(sC,{position:"top-right"})]})})}));export{cn as _,S0 as c,d5 as g};
